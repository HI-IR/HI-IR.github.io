<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æƒé™æ§åˆ¶</title>
      <link href="/2025/03/11/%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6/"/>
      <url>/2025/03/11/%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="å®‰å“æƒé™æ§åˆ¶"><a href="#å®‰å“æƒé™æ§åˆ¶" class="headerlink" title="å®‰å“æƒé™æ§åˆ¶"></a>å®‰å“æƒé™æ§åˆ¶</h1><h2 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h2><ul><li><p>æ™®é€šæƒé™ï¼šç³»ç»Ÿè‡ªåŠ¨å¸®æˆ‘ä»¬è¿›è¡Œæˆæƒï¼Œä¸éœ€è¦ç”¨æˆ·å¤„ç†</p></li><li><p>å±é™©æƒé™ï¼šå¯èƒ½ä¼šè§¦åŠéšç§æˆ–è€…å¯¹è®¾å¤‡å®‰å…¨æ€§é€ æˆå½±å“çš„æƒé™ï¼Œè¿™äº›æƒé™éœ€è¦ç”¨æˆ·åœ¨è¿è¡Œæ—¶ï¼ˆAndroid 6.0+ï¼‰æ˜¾å¼æˆäºˆã€‚</p><p>å¯èƒ½ä¼šè§¦å‘æƒé™è¯·æ±‚å¯¹è¯æ¡†ã€‚</p></li><li><p>ç‰¹æ®Šæƒé™</p></li></ul><h2 id="å±é™©æƒé™-è¿è¡Œæ—¶æƒé™"><a href="#å±é™©æƒé™-è¿è¡Œæ—¶æƒé™" class="headerlink" title="å±é™©æƒé™(è¿è¡Œæ—¶æƒé™)"></a>å±é™©æƒé™(è¿è¡Œæ—¶æƒé™)</h2><p>11ç»„30ä¸ª</p><table><thead><tr><th>æƒé™ç»„</th><th>æƒé™</th></tr></thead><tbody><tr><td>CALENDAR (æ—¥å†)</td><td>READ_CALENDAR <br />WRITE_CALENDAR</td></tr><tr><td>CAMERA (ç›¸æœº)</td><td>CAMERA</td></tr><tr><td>CONTACTS (è”ç³»äºº)</td><td>READ_CONTACTS <br />WRITE_CONTACTS <br />GET_ACCOUNTS</td></tr><tr><td>LOCATION (ä½ç½®)</td><td>ACCESS_FINE_LOCATION <br />ACCESS_COARSE_LOCATION</td></tr><tr><td>MICROPHONE (éº¦å…‹é£)</td><td>RECORD_AUDIO</td></tr><tr><td>PHONE (æ‰‹æœº)</td><td>READ_PHONE_STATE <br />CALL_PHONE <br />READ_CALL_LOG<br /> WRITE_CALL_LOG <br />ADD_VOICEMAIL <br />USE_SIP <br />PROCESS_OUTGOING_CALLS</td></tr><tr><td>SENSORS (ä¼ æ„Ÿå™¨)</td><td>BODY_SENSORS</td></tr><tr><td>SMS (çŸ­ä¿¡)</td><td>SEND_SMS <br />RECEIVE_SMS <br />READ_SMS <br />RECEIVE_WAP_PUSH <br />RECEIVE_MMS</td></tr><tr><td>STORAGE (å­˜å‚¨å¡)</td><td>READ_EXTERNAL_STORAGE WRITE_EXTERNAL_STORAGE</td></tr></tbody></table><h3 id="è¿è¡Œæ—¶ç”³è¯·"><a href="#è¿è¡Œæ—¶ç”³è¯·" class="headerlink" title="è¿è¡Œæ—¶ç”³è¯·"></a>è¿è¡Œæ—¶ç”³è¯·</h3><p>ä¸€ã€åœ¨AndroidManifest.xmlä¸­æ³¨å†Œæƒé™</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.CALL_PHONE&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>äºŒã€åœ¨Android6.0ä»¥ä¸Šéœ€è¦è¿›è¡Œè¿è¡Œæ—¶æƒé™å¤„ç†</p><p>å…ˆçœ‹ä»£ç </p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">binding.btnMainCall.setOnClickListener &#123;</span><br><span class="line">            <span class="comment">//æ£€æŸ¥æ˜¯å¦æœ‰æƒé™step1</span></span><br><span class="line">            <span class="keyword">if</span>(ContextCompat.checkSelfPermission(<span class="keyword">this</span>,</span><br><span class="line">                    Manifest.permission.CALL_PHONE) == PackageManager.PERMISSION_GRANTED)&#123;</span><br><span class="line">                doCall()</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//ç”³è¯·æƒé™step2</span></span><br><span class="line">                ActivityCompat.requestPermissions(<span class="keyword">this</span>, arrayOf(Manifest.permission.CALL_PHONE),<span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤„ç†ç”³è¯·æƒé™çš„è¿”å›ç»“æœstep3</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onRequestPermissionsResult</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        requestCode: <span class="type">Int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        permissions: <span class="type">Array</span>&lt;<span class="type">out</span> <span class="type">String</span>&gt;,</span></span></span><br><span class="line"><span class="params"><span class="function">        grantResults: <span class="type">IntArray</span></span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onRequestPermissionsResult(requestCode, permissions, grantResults)</span><br><span class="line">        <span class="keyword">when</span>(requestCode)&#123;</span><br><span class="line">            <span class="number">1</span> -&gt; <span class="keyword">if</span>(grantResults.isNotEmpty() &amp;&amp;</span><br><span class="line">                grantResults[<span class="number">0</span>] == PackageManager.PERMISSION_GRANTED)&#123;</span><br><span class="line">                doCall()</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    Toast.makeText(<span class="keyword">this</span>,<span class="string">&quot;ä½ æ‹’ç»äº†ç”³è¯·&quot;</span>,Toast.LENGTH_SHORT).show()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰“ç”µè¯ï¼Œè°ƒç”¨æƒé™</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">doCall</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            intent= Intent(Intent.ACTION_CALL)</span><br><span class="line">            intent.<span class="keyword">data</span> = Uri.parse(<span class="string">&quot;10086&quot;</span>)</span><br><span class="line">            startActivity(intent)</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e: Exception) &#123;</span><br><span class="line">            e.printStackTrace()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¿›è¡Œè¯¦è§£</p><p>step1ï¼šè¿›è¡Œæƒé™åˆ¤æ–­ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»ç»™è¿‡æˆ‘ä»¬æˆæƒäº†ï¼Œä½¿ç”¨å‡½æ•°<code>ContextCompat.checkSelfPermission()</code>å‡½æ•°</p><blockquote><p><code>ContextCompat.checkSelfPermission()</code>å‡½æ•°å£°æ˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">checkSelfPermission</span><span class="params">(<span class="meta">@NonNull</span> Context context, <span class="meta">@NonNull</span> String permission)</span></span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šContext</p><p>ç¬¬äºŒä¸ªå‚æ•°ï¼šå…·ä½“æƒé™åï¼ˆManifestçš„å†…éƒ¨<code>permission</code>ä¸­æœ‰å®‰å“æ‰€ä»¥æƒé™å­—ç¬¦ä¸²å¾—çš„å¸¸é‡ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ï¼‰</p></blockquote><blockquote><p>PackageManagerç±»ä¸­<br>é™æ€å¸¸é‡<code>PERMISSION_GRANTED</code>è¡¨ç¤ºå·²æˆæƒ<br>é™æ€å¸¸é‡<code>PERMISSION_DENIED</code>è¡¨ç¤ºå·²æ‹’ç»</p></blockquote><p>step2ï¼šå¦‚æœæœªç”³è¯·æƒé™ï¼Œåˆ™è¿›è¡Œ<strong>æƒé™ç”³è¯·</strong>ï¼Œä½¿ç”¨å‡½æ•°<code>ActivityCompat.requestPermissions()</code>å‡½æ•°</p><blockquote><p><code>ActivityCompat.requestPermissions()</code>å‡½æ•°å£°æ˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">requestPermissions</span><span class="params">(<span class="keyword">final</span> <span class="meta">@NonNull</span> Activity activity,</span></span><br><span class="line"><span class="params">            <span class="keyword">final</span> <span class="meta">@NonNull</span> String[] permissions, </span></span><br><span class="line"><span class="params"><span class="keyword">final</span> <span class="meta">@IntRange(from = 0)</span> <span class="type">int</span> requestCode)</span></span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæ˜¯Activityå®ä¾‹</p><p>ç¬¬äºŒä¸ªå‚æ•°ï¼šä¸€ä¸ªStringæ•°ç»„ï¼ŒæŠŠè¦ç”³è¯·çš„æƒé™åæ”¾å…¥æ•°ç»„ä¸­</p><p>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæƒé™ç”³è¯·çš„è¯·æ±‚ç </p></blockquote><p>step3ï¼šç»“æœå¤„ç†</p><p>è°ƒç”¨å®ŒActivityCompat.requestPermission()å‡½æ•°åä¼šè¿›å…¥<code>onRequestPermissionsResult()</code>å›è°ƒå‡½æ•°ä¸­ï¼Œæˆæƒçš„ç»“æœä¼šå°è£…åœ¨grantResultsä¸­</p><h3 id="è¡¥å……çŸ¥è¯†"><a href="#è¡¥å……çŸ¥è¯†" class="headerlink" title="è¡¥å……çŸ¥è¯†"></a>è¡¥å……çŸ¥è¯†</h3><p>ä¸ºä»€ä¹ˆæŸ¥è¯¢æ˜¯å¦æœ‰æŸä¸ªæƒé™ä½¿ç”¨çš„æ˜¯ContextCompatï¼Œè€Œç”³è¯·æƒé™ä½¿ç”¨çš„æ˜¯ActivityCompat</p><p><strong><code>ContextCompat</code></strong>ï¼šä¸»è¦æä¾›ä¸ <code>Context</code> ç›¸å…³æ“ä½œçš„å…¼å®¹æ€§æ–¹æ³•ï¼Œé‡ç‚¹åœ¨äºä¸ä¸Šä¸‹æ–‡ç›¸å…³çš„é€šç”¨æ“ä½œï¼Œå®ƒä¸å…·å¤‡åƒ <code>Activity</code> é‚£æ ·ä¸ç”¨æˆ·ç›´æ¥äº¤äº’çš„èƒ½åŠ›</p><p><strong><code>ActivityCompat</code></strong>ï¼šä¸“æ³¨äºä¸ <code>Activity</code> ç›¸å…³çš„å…¼å®¹æ€§æ“ä½œï¼Œæƒé™è¯·æ±‚æ˜¯ä¸€ä¸ªä¸ç”¨æˆ·äº¤äº’çš„è¿‡ç¨‹ï¼Œéœ€è¦ä¸€ä¸ªActivity æ¥æ˜¾ç¤ºç³»ç»Ÿæä¾›çš„æƒé™è¯·æ±‚å¯¹è¯æ¡†</p>]]></content>
      
      
      
        <tags>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰å“å››å¤§ä»¶</title>
      <link href="/2025/03/10/%E5%AE%89%E5%8D%93%E5%9B%9B%E5%A4%A7%E4%BB%B6/"/>
      <url>/2025/03/10/%E5%AE%89%E5%8D%93%E5%9B%9B%E5%A4%A7%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="æ´»åŠ¨-Activity"><a href="#æ´»åŠ¨-Activity" class="headerlink" title="æ´»åŠ¨(Activity)"></a>æ´»åŠ¨(Activity)</h1><p>å¿˜è®°å†™äº†ç¬”è®°äº†ï¼Œæœ‰æ—¶é—´å†è¡¥</p><h1 id="å¹¿æ’­-BroadcastReceiver"><a href="#å¹¿æ’­-BroadcastReceiver" class="headerlink" title="å¹¿æ’­(BroadcastReceiver)"></a>å¹¿æ’­(BroadcastReceiver)</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><ul><li><p>æ ‡å‡†å¹¿æ’­ï¼šå®Œå…¨å¼‚æ­¥ï¼Œæ‰€æœ‰çš„BroadcastReceiverå‡ ä¹ä¼šåœ¨åŒä¸€æ—¶åˆ»æ”¶åˆ°è¯¥æ¡å¹¿æ’­ï¼Œä¸å¯æˆªæ–­</p></li><li><p>æœ‰åºå¹¿æ’­ï¼šåŒæ­¥æ‰§è¡Œï¼ŒåŒä¸€æ—¶åˆ»åªä¼šæœ‰ä¸€ä¸ªBroadcastReceiveræ¥æ”¶åˆ°ï¼Œå¯ä»¥é€‰æ‹©æ˜¯å¦æˆªæ–­</p></li></ul><h2 id="æ›´å¤šç³»ç»Ÿå¹¿æ’­æ¶ˆæ¯"><a href="#æ›´å¤šç³»ç»Ÿå¹¿æ’­æ¶ˆæ¯" class="headerlink" title="æ›´å¤šç³»ç»Ÿå¹¿æ’­æ¶ˆæ¯"></a>æ›´å¤šç³»ç»Ÿå¹¿æ’­æ¶ˆæ¯</h2><p><Android SDK>\platforms&lt;Android apiç‰ˆæœ¬&gt;\data\broadcast_actions.txt</p><h2 id="æ³¨å†ŒBroadcastReceiver"><a href="#æ³¨å†ŒBroadcastReceiver" class="headerlink" title="æ³¨å†ŒBroadcastReceiver"></a>æ³¨å†ŒBroadcastReceiver</h2><p>åˆ†ç±»ï¼šé™æ€æ³¨å†Œï¼ˆåœ¨AndroidManifest.xmlä¸­æ³¨å†Œï¼‰ï¼ŒåŠ¨æ€æ³¨å†Œï¼ˆåœ¨ä»£ç ä¸­æ³¨å†Œï¼‰</p><h3 id="åŠ¨æ€æ³¨å†Œ"><a href="#åŠ¨æ€æ³¨å†Œ" class="headerlink" title="åŠ¨æ€æ³¨å†Œ"></a>åŠ¨æ€æ³¨å†Œ</h3><ol><li>æ–°å»ºä¸€ä¸ªç±»ï¼Œç»§æ‰¿<code>BroadcastReceiver</code>ç±»ï¼Œé‡å†™çˆ¶ç±»<code>onReceiver()</code></li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">inner</span> <span class="keyword">class</span> <span class="title class_">TimeChangeReceiver</span> : <span class="type">BroadcastReceiver</span>()&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onReceive</span><span class="params">(p0: <span class="type">Context</span>?, p1: <span class="type">Intent</span>?)</span></span> &#123;</span><br><span class="line">        Toast.makeText(p0,<span class="string">&quot;æ—¶é—´æ”¹å˜äº†&quot;</span>,Toast.LENGTH_SHORT).show()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>åˆ›å»ºæ„å›¾è¿‡æ»¤å™¨<code>IntentFilter</code>,å¹¶æ·»åŠ éœ€è¦è¿‡æ»¤å‡ºæ¥çš„æ´»åŠ¨</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªæ„å›¾è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="keyword">val</span> intentFilter = IntentFilter()</span><br><span class="line">intentFilter.addAction(<span class="string">&quot;android.intent.action.TIME_TICK&quot;</span>)</span><br><span class="line">timeChangeReceiver = TimeChangeReceiver()</span><br></pre></td></tr></table></figure></li><li><p>æ³¨å†Œè¿‡æ»¤å™¨</p></li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³¨å†ŒReceiver</span></span><br><span class="line">registerReceiver(timeChangeReceiver,intentFilter)</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„:</strong> åŠ¨æ€æ³¨å†Œçš„BroadcastReceiverè¦å–æ¶ˆæ³¨å†Œ</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onDestroy</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy()</span><br><span class="line">        unregisterReceiver(timeChangeReceiver)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é™æ€æ³¨å†Œ-å®ç°å¼€æœºå¯åŠ¨"><a href="#é™æ€æ³¨å†Œ-å®ç°å¼€æœºå¯åŠ¨" class="headerlink" title="é™æ€æ³¨å†Œ å®ç°å¼€æœºå¯åŠ¨"></a>é™æ€æ³¨å†Œ å®ç°å¼€æœºå¯åŠ¨</h3><p>å¦‚ä¸Šï¼ŒåŠ¨æ€æ³¨å†Œè™½ç„¶å¾ˆæ–¹ä¾¿ï¼Œä½†å¿…é¡»åœ¨ç¨‹åºå¯åŠ¨ä¹‹åæ‰èƒ½æ¥æ”¶åˆ°å¹¿æ’­ï¼Œå› ä¸ºæ³¨å†Œçš„é€»è¾‘æ˜¯åœ¨<code>onCreate()</code>ä¸­æ³¨å†Œçš„</p><p>æƒ³è¦åœ¨ç¨‹åºæœªå¯åŠ¨çš„æ—¶å€™ä¹Ÿèƒ½æ¥æ”¶åˆ°å¹¿æ’­ï¼Œè¿™å°±éœ€è¦åŠ¨æ€æ³¨å†Œäº†</p><blockquote><p>åœ¨å¾ˆä¹…ä¹‹å‰ï¼Œé™æ€å¹¿æ’­å¯ä»¥ç›‘å¬æ‰€æœ‰çš„ç³»ç»Ÿå¹¿æ’­ï¼Œä½†ç”±äºå¤§é‡æ¶æ„åº”ç”¨åœ¨æœªå¯åŠ¨æƒ…å†µä¸‹ç›‘å¬ç³»ç»Ÿå¹¿æ’­ï¼Œåº”ç”¨é¢‘ç¹å¯åŠ¨ï¼Œæ¶ˆè€—æ‰‹æœºæ€§èƒ½ã€‚åœ¨Android8.0åï¼Œæ‰€æœ‰éšå¼å¹¿æ’­(æ²¡æœ‰å…·ä½“æŒ‡å®šå‘é€ç»™å“ªä¸ªåº”ç”¨ç¨‹åºçš„å¹¿æ’­)ä¸å…è®¸ä½¿ç”¨é™æ€æ³¨å†Œçš„æ–¹å¼æ¥æ”¶äº†</p></blockquote><ol><li>æ–°å»ºä¸€ä¸ªç±»ï¼Œç»§æ‰¿<code>BroadcastReceiver</code>ç±»ï¼Œé‡å†™çˆ¶ç±»<code>onReceiver()</code></li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BootCompleteReceiver</span> : <span class="type">BroadcastReceiver</span>() &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onReceive</span><span class="params">(context: <span class="type">Context</span>, intent: <span class="type">Intent</span>)</span></span> &#123;</span><br><span class="line">        Toast.makeText(context,<span class="string">&quot;å¼€æœºå®Œæˆ&quot;</span>,Toast.LENGTH_SHORT).show()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨AndroidManifest.xmlä¸­æ³¨å†Œ</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">receiver</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">&quot;.BootCompleteReceiver&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:enabled</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:exported</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">receiver</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>enabled-&gt;è¡¨ç¤ºæ˜¯å¦å¯ç”¨</p><p>exported-&gt;è¡¨ç¤ºæ˜¯å¦å…è®¸è¿™ä¸ªBroadcastReceiveræ¥æ”¶æœ¬ç¨‹åºä»¥å¤–çš„å¹¿æ’­</p></blockquote><ol start="3"><li>ä¸ºBroadcastReceiverè®¾ç½®<code>IntentFilter</code></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">receiver</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">&quot;.BootCompleteReceiver&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:enabled</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:exported</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.BOOT_COMPLETED&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">receiver</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å‘é€è‡ªå®šä¹‰å¹¿æ’­"><a href="#å‘é€è‡ªå®šä¹‰å¹¿æ’­" class="headerlink" title="å‘é€è‡ªå®šä¹‰å¹¿æ’­"></a>å‘é€è‡ªå®šä¹‰å¹¿æ’­</h2><h3 id="å‘é€æ ‡å‡†å¹¿æ’­"><a href="#å‘é€æ ‡å‡†å¹¿æ’­" class="headerlink" title="å‘é€æ ‡å‡†å¹¿æ’­"></a>å‘é€æ ‡å‡†å¹¿æ’­</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> intent = Intent(<span class="string">&quot;com.example.broadcasttest.MY_BROADACST&quot;</span>)</span><br><span class="line">            intent.setPackage(packageName)</span><br><span class="line">            sendBroadcast(intent)</span><br></pre></td></tr></table></figure><ol><li>åˆ›å»ºä¸€ä¸ªIntentå¯¹è±¡ï¼Œå¹¶æŠŠè¦å‘é€çš„å¹¿æ’­çš„å€¼ä¼ å…¥</li><li>è°ƒç”¨Intentçš„<code>setPackage()</code>æ–¹æ³•ä¼ å…¥å½“å‰åº”ç”¨ç¨‹åºçš„åŒ…å</li><li>æœ€åå‘é€å¹¿æ’­</li></ol><blockquote><p>è¿™é‡Œçš„<code>setPackage()</code>æ˜¯æŒ‡å®šè¿™æ¡å¹¿æ’­æ˜¯å‘é€ç»™å“ªä¸ªåº”ç”¨ç¨‹åºçš„,åœ¨å“ªä¸ªåº”ç”¨ç¨‹åºé‡Œé¢ä¼ æ’­ï¼Œä»è€Œè®©è¿™æ¡å¹¿æ’­æˆä¸ºä¸€ä¸ªæ˜¾ç¤ºå¹¿æ’­ï¼Œå¦åˆ™é™æ€æ³¨å†ŒBroadcastReceiveræ— æ³•æ¥æ”¶</p></blockquote><p><strong>æ³¨æ„ï¼š</strong> å› ä¸ºå¹¿æ’­æ˜¯é Intentå‘é€çš„ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥åœ¨Intentä¸­æºå¸¦ä¸€äº›æ•°æ®</p><h3 id="å‘é€æœ‰åºå¹¿æ’­"><a href="#å‘é€æœ‰åºå¹¿æ’­" class="headerlink" title="å‘é€æœ‰åºå¹¿æ’­"></a>å‘é€æœ‰åºå¹¿æ’­</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> intent = Intent(<span class="string">&quot;com.example.broadcasttest.MY_OrderedBROADACST&quot;</span>)</span><br><span class="line">            intent.setPackage(packageName)</span><br><span class="line">            sendOrderedBroadcast(intent,<span class="literal">null</span>)</span><br></pre></td></tr></table></figure><p>å’Œå‘é€æ ‡å‡†å¹¿æ’­ç›¸ä¼¼ï¼Œåªä¸è¿‡è¿™é‡Œå‘é€çš„æ˜¯<code>sendOrderedBroadcast(intent,null)</code>,<br>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šIntent</p><p>ç¬¬äºŒä¸ªå‚æ•°ï¼šä¸€ä¸ªä¸æƒé™ç›¸å…³çš„å­—ç¬¦ä¸²</p><h4 id="è®¾ç½®æ¥æ”¶å…ˆå"><a href="#è®¾ç½®æ¥æ”¶å…ˆå" class="headerlink" title="è®¾ç½®æ¥æ”¶å…ˆå"></a>è®¾ç½®æ¥æ”¶å…ˆå</h4><ul><li>åŠ¨æ€æ³¨å†Œ</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> intentFilter2 = IntentFilter()</span><br><span class="line">        intentFilter2.addAction(<span class="string">&quot;com.example.broadcasttest.MY_OrderedBROADACST&quot;</span>)</span><br><span class="line">        intentFilter2.priority = <span class="number">100</span></span><br><span class="line">        broadcastReceiver2=MyBroadcastReceiver2()</span><br><span class="line">        registerReceiver(broadcastReceiver2,intentFilter2)</span><br></pre></td></tr></table></figure><p>â€‹<code>intentFilter2.priority</code>å³è®¾ç½®ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§è¶Šé«˜çš„BroadcastReceiverè¶Šå…ˆæ”¶åˆ°å¹¿æ’­</p><ul><li>é™æ€æ³¨å†Œ</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">receiver</span> <span class="attr">android:name</span>=<span class="string">&quot;.MyBroadcastReceiver2&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:enabled</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:exported</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">intent-filter</span> <span class="attr">android:priority</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;com.example.broadcasttest.MY_OrderedBROADACST&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">receiver</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æˆªæ–­å¹¿æ’­"><a href="#æˆªæ–­å¹¿æ’­" class="headerlink" title="æˆªæ–­å¹¿æ’­"></a>æˆªæ–­å¹¿æ’­</h4><p>åœ¨ä¼˜å…ˆçº§é«˜çš„Receiverä¸­è°ƒç”¨ <code>abortBroadcast()</code>å‡½æ•°å³å¯æˆªæ–­å¹¿æ’­</p><h1 id="å†…å®¹æä¾›è€…-ContentProvider"><a href="#å†…å®¹æä¾›è€…-ContentProvider" class="headerlink" title="å†…å®¹æä¾›è€…(ContentProvider)"></a>å†…å®¹æä¾›è€…(ContentProvider)</h1><p>ContentProviderä¸»è¦ç”¨äºåœ¨<strong>ä¸åŒçš„åº”ç”¨ç¨‹åºä¹‹é—´å®ç°æ•°æ®å…±äº«</strong>,ä¸º App å­˜å–æ•°æ®æä¾›ç»Ÿä¸€çš„å¯¹å¤–æ¥å£ï¼Œè®©ä¸åŒçš„åº”ç”¨ä¹‹é—´å¯ä»¥å…±äº«æ•°æ®ã€‚å¦‚æœä¸€ä¸ªç¨‹åºé€šè¿‡ContentProviderå¯¹å…¶æ•°æ®æä¾›äº†å¤–éƒ¨è®¿é—®çš„æ¥å£ï¼Œé‚£ä¹ˆä»»ä½•å…¶ä»–</p><h2 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h2><h3 id="ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦URI"><a href="#ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦URI" class="headerlink" title="ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦URI"></a>ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦URI</h3><p>URIç»™ContentProviderä¸­çš„æ•°æ®å»ºç«‹äº†å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¤–ç•Œè¿›ç¨‹éœ€è¦é€šè¿‡ <code>URI</code> æ‰¾åˆ°å¯¹åº”çš„<code>ContentProvider</code>å’Œå…¶ä¸­çš„æ•°æ®ï¼Œå†è¿›è¡Œæ•°æ®æ“ä½œ</p><ul><li>æ ‡å‡†URIæ ¼å¼ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scheme://authority/path?query#fragment</span><br></pre></td></tr></table></figure><blockquote><p><strong>åè®®ï¼ˆschemeï¼‰</strong>ï¼šURIçš„åè®®ï¼Œä¾‹å¦‚ <code>content://</code>ã€<code>file://</code>ã€<code>http://</code> ç­‰ã€‚</p><p><strong>ä¸»æœºï¼ˆauthorityï¼‰</strong>ï¼šé€šå¸¸æ˜¯å†…å®¹æä¾›è€…ï¼ˆ<code>ContentProvider</code>ï¼‰çš„æˆæƒï¼ˆAuthorityï¼‰,ä¸€èˆ¬ç”¨åŒ…åå‘½åã€‚</p><p><strong>è·¯å¾„ï¼ˆpathï¼‰</strong>ï¼šæ ‡è¯†èµ„æºçš„å…·ä½“è·¯å¾„</p><p><strong>æŸ¥è¯¢å‚æ•°ï¼ˆqueryï¼‰</strong>ï¼šé™„åŠ çš„æŸ¥è¯¢å‚æ•°,å¯é€‰ï¼Œä¾‹å¦‚ <code>?id=1</code></p><p><strong>ç‰‡æ®µï¼ˆfragmentï¼‰</strong>ï¼šURI ç‰‡æ®µ,å¯é€‰</p></blockquote><p>ä¾‹å¦‚ï¼šcontent:&#x2F;&#x2F;com.example.app.provider&#x2F;table1&#x2F;2</p><blockquote><p>åè®®ï¼šcontent:&#x2F;&#x2F;</p><p>ä¸»æœºï¼šcom.example.app.provider</p><p>è·¯å¾„&#x2F;table1&#x2F;2</p><p>è¯¥Urièµ„æºæŒ‡çš„æ˜¯ï¼šåå­—ä¸ºcom.example.app.providerçš„ContentProvider ä¸­è¡¨åä¸º<code>table1</code> ä¸­ id ä¸º2çš„æ•°æ®</p></blockquote><p><strong>æ³¨ï¼š</strong></p><p> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€šé…ç¬¦<code>*</code> å’Œ <code>ï¼ƒ</code></p><p><code>*</code>ï¼šè¡¨ç¤ºåŒ¹é…ä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦</p><p><code>#</code>ï¼šè¡¨ç¤ºåŒ¹é…ä»»æ„é•¿åº¦çš„æ•°å­—</p><blockquote><p>content:&#x2F;&#x2F;com.example.app.provider&#x2F;* ,è¡¨ç¤ºåŒ¹é…providerçš„ä»»ä½•å†…å®¹</p><p>content:&#x2F;&#x2F;com.example.app.provider&#x2F;table&#x2F;#ï¼Œè¡¨ç¤ºåŒ¹é…è¡¨ä¸­ä»»æ„ä¸€è¡Œæ•°æ® </p></blockquote><h3 id="MIMEç±»å‹"><a href="#MIMEç±»å‹" class="headerlink" title="MIMEç±»å‹"></a>MIMEç±»å‹</h3><p>ç”¨äºè¡¨ç¤ºä¸åŒçš„æ•°æ®ç±»å‹</p><p>å¯¹äºå®‰å“ContentProviderè€Œè¨€</p><ul><li><p>å•æ¡æ•°æ®ï¼švnd.android.cursor.item&#x2F;vnd.<authority>.path</p></li><li><p>å¤šæ¡æ•°æ®ï¼švnd.android.cursor.dir&#x2F;vnd.<authoryit>.path</p></li></ul><h2 id="æ¥æ”¶ä¿¡æ¯ï¼ˆContentResolveï¼‰"><a href="#æ¥æ”¶ä¿¡æ¯ï¼ˆContentResolveï¼‰" class="headerlink" title="æ¥æ”¶ä¿¡æ¯ï¼ˆContentResolveï¼‰"></a>æ¥æ”¶ä¿¡æ¯ï¼ˆContentResolveï¼‰</h2><p>ç»Ÿä¸€ç®¡ç†ä¸åŒ <code>ContentProvider</code>é—´çš„æ“ä½œ</p><p>å¤–éƒ¨é€šè¿‡ <code>ContentResolver</code>ç±» ä»è€Œä¸<code>ContentProvider</code>ç±»è¿›è¡Œäº¤äº’ï¼Œç®¡ç†ContentProviderç±»ä¸­çš„ä¿¡æ¯</p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>ä½¿ç”¨<code>Uri.parse()</code>å‡½æ•°å¯ä»¥å°†å­—ç¬¦ä¸²è§£æä¸ºUriå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤–éƒ¨è¿›ç¨‹å‘ ContentProvider ä¸­æ·»åŠ æ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> Uri <span class="title function_">insert</span><span class="params">(Uri uri, ContentValues values)</span>ã€€ </span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤–éƒ¨è¿›ç¨‹ åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">delete</span><span class="params">(Uri uri, String selection, String[] selectionArgs)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤–éƒ¨è¿›ç¨‹æ›´æ–°æ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">update</span><span class="params">(Uri uri, ContentValues values, String selection, String[] selectionArgs)</span>ã€€ </span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤–éƒ¨åº”ç”¨ è·å–æ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> Cursor <span class="title function_">query</span><span class="params">(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder)</span></span><br></pre></td></tr></table></figure><p>ä¸¾ä¸ªæ —å­ï¼šè¯»å–æ‰‹æœºè”ç³»äºº</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">readContacts</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">val</span> uri = ContactsContract.CommonDataKinds.Phone.CONTENT_URI;</span><br><span class="line">        contentResolver.query(uri,<span class="literal">null</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="literal">null</span>)?.use &#123;</span><br><span class="line">            <span class="keyword">while</span> (it.moveToNext()) &#123;</span><br><span class="line">                <span class="keyword">val</span> name =</span><br><span class="line">                    it.getString(it.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME))</span><br><span class="line">                <span class="keyword">val</span> number =</span><br><span class="line">                    it.getString(it.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER))</span><br><span class="line">                Log.d(<span class="string">&quot;Contacts&quot;</span>, <span class="string">&quot;è”ç³»äºº:<span class="subst">$&#123;name&#125;</span>,ç”µè¯<span class="subst">$&#123;number&#125;</span>&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="æä¾›ä¿¡æ¯-ContentProvider"><a href="#æä¾›ä¿¡æ¯-ContentProvider" class="headerlink" title="æä¾›ä¿¡æ¯(ContentProvider)"></a>æä¾›ä¿¡æ¯(ContentProvider)</h2><p><code>ContentProvider</code>ä¸»è¦ä»¥ <strong>è¡¨æ ¼çš„å½¢å¼</strong> ç»„ç»‡æ•°æ®ï¼Œç±»ä¼¼äºæ•°æ®åº“</p><h3 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ol><li>åˆ›å»ºä¸€ä¸ªç±»å»ç»§æ‰¿ContentProviderï¼Œå¹¶å®ç°å…¶æ–¹æ³•</li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤–éƒ¨è¿›ç¨‹å‘ ContentProvider ä¸­æ·»åŠ æ•°æ®</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">insert</span><span class="params">(uri: <span class="type">Uri</span>, values: <span class="type">ContentValues</span>?)</span></span>: Uri?</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤–éƒ¨è¿›ç¨‹ åˆ é™¤ ContentProvider ä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">delete</span><span class="params">(uri: <span class="type">Uri</span>, selection: <span class="type">String</span>?, selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?)</span></span>: <span class="built_in">Int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤–éƒ¨è¿›ç¨‹æ›´æ–° ContentProvider ä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">update</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        uri: <span class="type">Uri</span>, values: <span class="type">ContentValues</span>?, selection: <span class="type">String</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">        selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: <span class="built_in">Int</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤–éƒ¨åº”ç”¨ è·å– ContentProvider ä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">query</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        uri: <span class="type">Uri</span>, projection: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?, selection: <span class="type">String</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">        selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?, sortOrder: <span class="type">String</span>?</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: Cursor?</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¶å®ƒè¿›ç¨‹ç¬¬ä¸€æ¬¡è®¿é—®è¯¥ContentProvideræ—¶ ç”±ç³»ç»Ÿè¿›è¡Œè°ƒç”¨</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">()</span></span>: <span class="built_in">Boolean</span></span><br><span class="line"><span class="comment">// æ³¨ï¼šè¿è¡Œåœ¨ContentProviderè¿›ç¨‹çš„ä¸»çº¿ç¨‹ï¼Œæ•…ä¸èƒ½åšè€—æ—¶æ“ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾—åˆ°æ•°æ®ç±»å‹ï¼Œå³è¿”å›å½“å‰ Url æ‰€ä»£è¡¨æ•°æ®çš„MIMEç±»å‹</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getType</span><span class="params">(uri: <span class="type">Uri</span>)</span></span>: String?</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨AndroidManifestä¸­æ³¨å†Œ</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">provider</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:name</span>=<span class="string">&quot;.BookProvider&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:authorities</span>=<span class="string">&quot;com.example.databasedemo.priovider&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:enabled</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:exported</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">provider</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨å°å·¥å…·ç±»"><a href="#å¸¸ç”¨å°å·¥å…·ç±»" class="headerlink" title="å¸¸ç”¨å°å·¥å…·ç±»"></a>å¸¸ç”¨å°å·¥å…·ç±»</h2><h3 id="ContentUris"><a href="#ContentUris" class="headerlink" title="ContentUris"></a>ContentUris</h3><p>æ ¸å¿ƒæ–¹æ³•æœ‰ä¸¤ä¸ªï¼š<code>withAppendedId()</code>å’Œ<code>parseIdï¼ˆï¼‰</code></p><ul><li><code>withAppendedIdï¼ˆï¼‰</code></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// withAppendedId() ä½œç”¨ï¼šå‘URIè¿½åŠ ä¸€ä¸ªid</span></span><br><span class="line"><span class="keyword">val</span> uri = Uri.parse(<span class="string">&quot;content://cn.why.myprovider/user&quot;</span>) </span><br><span class="line"><span class="keyword">val</span> resultUri = ContentUris.withAppendedId(uri, <span class="number">666</span>)</span><br><span class="line"><span class="comment">// æœ€ç»ˆç”Ÿæˆåçš„Uriä¸ºï¼šcontent://cn.scu.myprovider/user/666</span></span><br></pre></td></tr></table></figure><ul><li><code>parseIdï¼ˆï¼‰</code></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parseIdï¼ˆï¼‰ä½œç”¨ï¼šä»URLä¸­è·å–ID</span></span><br><span class="line"><span class="keyword">val</span> uri = Uri.parse(<span class="string">&quot;content://cn.why.myprovider/user/666&quot;</span>) </span><br><span class="line"><span class="keyword">val</span> personId = ContentUris.parseId(uri)</span><br><span class="line"><span class="comment">//è·å–çš„ç»“æœä¸º:666</span></span><br></pre></td></tr></table></figure><h3 id="UriMatcher"><a href="#UriMatcher" class="headerlink" title="UriMatcher"></a>UriMatcher</h3><p> æ ¹æ® <code>URI</code> åŒ¹é… <code>ContentProvider</code> ä¸­å¯¹åº”çš„æ•°æ®è¡¨</p><ul><li>åˆå§‹åŒ–matcher</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> marker = UriMatcher(UriMatcher.NO_MATCH)</span><br></pre></td></tr></table></figure><ul><li>æ·»åŠ åŒ¹é…<code>public void addURI(String authority, String path, int code)</code>ï¼Œä¸€èˆ¬å¯ä»¥ç”¨æ‡’åŠ è½½å®ç°</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> URI_CODE_A = <span class="number">0</span></span><br><span class="line"><span class="keyword">val</span> URI_CODE_B = <span class="number">1</span></span><br><span class="line">matcher.addURI(<span class="string">&quot;com.example.app.provider&quot;</span>, <span class="string">&quot;table1&quot;</span>, URI_CODE_A)</span><br><span class="line">matcher.addURI(<span class="string">&quot;com.example.app.provider&quot;</span>, <span class="string">&quot;table2&quot;</span>, URI_CODE_B)</span><br><span class="line"><span class="comment">// è‹¥URIèµ„æºè·¯å¾„ = content://com.example.app.provider/table1 ï¼Œåˆ™è¿”å›æ³¨å†Œç URI_CODE_A</span></span><br><span class="line"><span class="comment">// è‹¥URIèµ„æºè·¯å¾„ = content://com.example.app.provider/table2 ï¼Œåˆ™è¿”å›æ³¨å†Œç URI_CODE_B</span></span><br></pre></td></tr></table></figure><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">companion</span> <span class="keyword">object</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">val</span> URI_CODE_A = <span class="number">0</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">val</span> URI_CODE_B = <span class="number">1</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">val</span> authority = <span class="string">&quot;com.example.databasedemo.provider&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">val</span> uriMatcher <span class="keyword">by</span> lazy &#123;</span><br><span class="line">            <span class="keyword">val</span> marker = UriMatcher(UriMatcher.NO_MATCH)</span><br><span class="line">            marker.addURI(authority,<span class="string">&quot;table1&quot;</span>, URI_CODE_A)</span><br><span class="line">            marker.addURI(authority,<span class="string">&quot;table2&quot;</span>, URI_CODE_B)</span><br><span class="line">            marker</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>æŸ¥æ‰¾åŒ¹é…</li></ul><p>æ ¹æ®URI åŒ¹é… codeï¼Œä»è€ŒåŒ¹é…ContentProviderä¸­ç›¸åº”çš„èµ„æº</p><p>ä¸¾ä¸ªğŸŒ°å­ï¼š</p><p>ä»¥ContentProviderçš„getTypeå‡½æ•°ä¸ºä¾‹</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getType</span><span class="params">(uri: <span class="type">Uri</span>)</span></span>: String? = <span class="keyword">when</span>(uriMatcher.match(uri))&#123;</span><br><span class="line">       URI_CODE_A-&gt;&#123;</span><br><span class="line">            <span class="string">&quot;è¿™æ˜¯table1&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        URI_CODE_B-&gt;&#123;</span><br><span class="line">            <span class="string">&quot;è¿™æ˜¯table1&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> -&gt; <span class="literal">null</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><code>match()</code>å‡½æ•°å¯ä»¥å°†ä¼ å…¥çš„Uriæ ¹æ®æ³¨å†Œçš„åŒ¹é…è¿”å›å‡ºå¯¹åº”çš„ä»£ç </p>]]></content>
      
      
      
        <tags>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>KotlinåŸºç¡€</title>
      <link href="/2025/03/05/Kotlin%E5%9F%BA%E7%A1%80/"/>
      <url>/2025/03/05/Kotlin%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h1 id="KotlinåŸºç¡€"><a href="#KotlinåŸºç¡€" class="headerlink" title="KotlinåŸºç¡€"></a>KotlinåŸºç¡€</h1><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><h3 id="å˜é‡çš„å®šä¹‰"><a href="#å˜é‡çš„å®šä¹‰" class="headerlink" title="å˜é‡çš„å®šä¹‰"></a>å˜é‡çš„å®šä¹‰</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &lt;propertyName&gt;[: &lt;PropertyType&gt;] [= &lt;property_initializer&gt;]</span><br><span class="line">    [&lt;getter&gt;]</span><br><span class="line">    [&lt;setter&gt;]</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><h3 id="åˆ›å»ºå‡½æ•°"><a href="#åˆ›å»ºå‡½æ•°" class="headerlink" title="åˆ›å»ºå‡½æ•°"></a>åˆ›å»ºå‡½æ•°</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æƒé™ä¿®é¥°ç¬¦ <span class="function"><span class="keyword">fun</span> å‡½æ•°åç§°<span class="params">([å‡½æ•°å‚æ•°...])</span></span>: è¿”å›å€¼ç±»å‹ &#123;</span><br><span class="line">    <span class="comment">//å‡½æ•°ä½“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é«˜é˜¶å‡½æ•°ä¸lambdaè¡¨è¾¾å¼ï¼ŒåŒ¿åå‡½æ•°ï¼Œé—­åŒ…"><a href="#é«˜é˜¶å‡½æ•°ä¸lambdaè¡¨è¾¾å¼ï¼ŒåŒ¿åå‡½æ•°ï¼Œé—­åŒ…" class="headerlink" title="é«˜é˜¶å‡½æ•°ä¸lambdaè¡¨è¾¾å¼ï¼ŒåŒ¿åå‡½æ•°ï¼Œé—­åŒ…"></a>é«˜é˜¶å‡½æ•°ä¸lambdaè¡¨è¾¾å¼ï¼ŒåŒ¿åå‡½æ•°ï¼Œé—­åŒ…</h3><h4 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h4><blockquote><ul><li><p>é«˜é˜¶å‡½æ•°ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæˆ–è€…è¿”å›å€¼çš„ç±»å‹å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°ç§°ä¸ºé«˜é˜¶å‡½æ•°</p></li><li><p>å‡½æ•°å¯ä»¥è¢«å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–é«˜é˜¶å‡½æ•°å¹¶ä»ä¸­è¿”å›ï¼Œå°±æƒ³ä½¿ç”¨æ™®é€šå˜é‡ä¸€æ ·</p><p>ç±»å‹ï¼Œä¾‹å¦‚ï¼šä»¥ä¸€ä¸ªStringä¸ºå‚æ•°ï¼Œç©ºè¿”å›å€¼çš„å‡½æ•°çš„ç±»å‹ï¼š(String) -&gt; Unit</p></li></ul></blockquote><h4 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h4><blockquote><p>åŒ¿åå‡½æ•°æœ‰ç±»å‹ï¼ŒåŒ¿åå‡½æ•°å¯ä»¥å½“ä½œå˜é‡ èµ‹å€¼ç»™ å‡½æ•°ç±»å‹å˜é‡</p><p>å‡½æ•°çš„ç±»å‹ç”±ä¼ å…¥çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹å†³å®šã€‚ä¾‹å¦‚ï¼šä»¥ä¸€ä¸ªStringä¸ºå‚æ•°ï¼Œç©ºè¿”å›å€¼ï¼ˆUnitï¼‰çš„å‡½æ•°çš„ç±»å‹ï¼š(String) -&gt; Unit</p><p>lambdaè¡¨è¾¾å¼æ˜¯ç»™å‡½æ•°å˜é‡èµ‹å€¼çš„ä¸€ç§æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ç”¨ åŒ¿åå‡½æ•°ï¼ˆ<code>fun</code> å…³é”®å­—å®šä¹‰ï¼‰</p></blockquote><h4 id="Lambdaè¡¨è¾¾å¼"><a href="#Lambdaè¡¨è¾¾å¼" class="headerlink" title="Lambdaè¡¨è¾¾å¼"></a>Lambdaè¡¨è¾¾å¼</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯­æ³•ç»“æ„</span></span><br><span class="line"><span class="keyword">val</span> lambdaName: (å‚æ•°ç±»å‹) -&gt; è¿”å›ç±»å‹ = &#123; å‚æ•°å: å‚æ•°ç±»å‹ -&gt; å‡½æ•°ä½“ &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>lambdaè¡¨è¾¾å¼ä¸éœ€è¦returnæ¥è¿”å›æ•°æ®ï¼Œä»–ä¼šéšå¼<strong>è‡ªåŠ¨è¿”å›å‡½æ•°ä½“æœ€åä¸€è¡Œçš„ç»“æœ</strong></p></blockquote><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å˜é‡çš„ç±»å‹æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°(ç±»å‹ï¼š()-&gt;String)</span></span><br><span class="line"><span class="keyword">val</span> func :()-&gt;String</span><br><span class="line"></span><br><span class="line"><span class="comment">//èµ‹å€¼ä¸€ä¸ªåŒ¿åå‡½æ•°,å’Œå…·åå‡½æ•°ä¸åŒï¼Œlambdaè¡¨è¾¾å¼ä¸éœ€è¦returnæ¥è¿”å›æ•°æ®ï¼Œä»–ä¼šéšå¼è‡ªåŠ¨è¿”å›å‡½æ•°ä½“æœ€åä¸€è¡Œçš„ç»“æœ</span></span><br><span class="line">func = &#123;</span><br><span class="line">    <span class="keyword">val</span> name= <span class="string">&quot;å§“å&quot;</span></span><br><span class="line">    <span class="string">&quot;ä½ å¥½ï¼Œ<span class="subst">$&#123;name&#125;</span>&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“lambdaæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œç”¨<code>it</code>ä»£æ›¿ã€‚å½“lambdaæœ‰å¤šä¸ªå‚æ•°æ—¶ï¼Œéœ€è¦æŠŠå‚æ•°åæ”¾åœ¨å‡½æ•°å®šä¹‰ä¸­</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> func:(String)-&gt;<span class="built_in">Boolean</span> = &#123;name -&gt;<span class="comment">//è¿™ä¸ªnameå°±æ˜¯å‚æ•°åï¼ˆStringï¼‰</span></span><br><span class="line">                             </span><br><span class="line">                             &#125;</span><br></pre></td></tr></table></figure><ul><li>å› ä¸º åœ¨ Kotlin çš„ Lambda è¡¨è¾¾å¼é‡Œï¼Œ<strong><code>return</code> é»˜è®¤ä¼šç»ˆæ­¢æœ€å¤–å±‚çš„å‡½æ•°ï¼Œè€Œä¸æ˜¯åªè¿”å› Lambda çš„å€¼ï¼ï¼ˆéå±€éƒ¨è¿”å›ï¼ˆnon-local returnï¼‰ï¼‰</strong>ï¼Œæ‰€ä»¥åœ¨Lambdaä¸­æ²¡æœ‰åŠæ³•ç›´æ¥ä½¿ç”¨returnè¯­å¥è¿”å›ç»“æœ</li><li>å¦‚æœä½ åªæƒ³è®© Lambda è‡ªå·±è¿”å›ï¼Œè€Œä¸æ˜¯ç»ˆæ­¢å¤–å±‚å‡½æ•°ï¼Œé‚£å°±éœ€è¦ç”¨<strong>æ ‡ç­¾è¿”å›ï¼ˆlabel returnï¼‰</strong></li></ul><h3 id="å†…è”å‡½æ•°"><a href="#å†…è”å‡½æ•°" class="headerlink" title="å†…è”å‡½æ•°"></a>å†…è”å‡½æ•°</h3><p>ç”¨<code>inline</code>å…³é”®å­—æ ‡è®°çš„å‡½æ•°</p><h3 id="ä¸­ç¼€å‡½æ•°"><a href="#ä¸­ç¼€å‡½æ•°" class="headerlink" title="ä¸­ç¼€å‡½æ•°"></a>ä¸­ç¼€å‡½æ•°</h3><p>ç”¨<code>infix</code>å…³é”®å­—æ ‡è®°çš„å‡½æ•°è¢«ç§°ä¸ºä¸­ç¼€å‡½æ•°ï¼Œåœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥çœç•¥è°ƒç”¨çš„ç‚¹å’Œæ‹¬å·è¿›è¡Œè°ƒç”¨ï¼Œinfixå‡½æ•°å¿…é¡»æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p><ul><li>å¿…é¡»æ˜¯æˆå‘˜å‡½æ•°ã€‚</li><li>åªèƒ½æœ‰ä¸€ä¸ªå‚æ•°ã€‚</li><li>å‚æ•°ä¸èƒ½æœ‰é»˜è®¤å€¼ã€‚</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="keyword">var</span> name: String, <span class="keyword">var</span> age: <span class="built_in">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">infix</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">(string: <span class="type">String</span>)</span></span>: String&#123;</span><br><span class="line">        <span class="keyword">return</span> name+string</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨</span></span><br><span class="line">student test <span class="string">&quot;2&quot;</span></span><br></pre></td></tr></table></figure><ul><li>æ³¨ï¼šä¸­ç¼€å‡½æ•°è°ƒç”¨çš„ä¼˜å…ˆçº§ä½äºç®—æœ¯è¿ç®—ç¬¦ã€ç±»å‹è½¬æ¢å’Œ<code>rangeTo</code>è¿ç®—ç¬¦</li></ul><h2 id="é¢å¯¹å¯¹è±¡"><a href="#é¢å¯¹å¯¹è±¡" class="headerlink" title="é¢å¯¹å¯¹è±¡"></a>é¢å¯¹å¯¹è±¡</h2><h3 id="ç±»çš„åˆ›å»ºï¼Œä½¿ç”¨"><a href="#ç±»çš„åˆ›å»ºï¼Œä½¿ç”¨" class="headerlink" title="ç±»çš„åˆ›å»ºï¼Œä½¿ç”¨"></a>ç±»çš„åˆ›å»ºï¼Œä½¿ç”¨</h3><p>Kotlinä¸­çš„ç±»å¯ä»¥æ·»åŠ ä¸€ä¸ª<strong>ä¸»æ„é€ å‡½æ•°</strong>å’Œä¸€ä¸ªæˆ–å¤šä¸ª<strong>æ¬¡è¦æ„é€ å‡½æ•°</strong></p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç±»çš„å®šä¹‰ + ä¸»æ„é€ å‡½æ•°(ä¸»æ„é€ å‡½æ•°æ˜¯ç±»å®šä¹‰çš„ä¸€éƒ¨åˆ†)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">constructor</span>(<span class="keyword">var</span> name: String, <span class="keyword">var</span> age: <span class="built_in">Int</span>) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> (name: String ,age: <span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> name :String = name</span><br><span class="line">    <span class="keyword">get</span>() &#123;<span class="keyword">return</span> field&#125;</span><br><span class="line">        <span class="keyword">set</span>(value)&#123;field = value&#125;</span><br><span class="line">    <span class="keyword">var</span> age: <span class="built_in">Int</span> = age</span><br><span class="line">        <span class="keyword">get</span>() &#123;<span class="keyword">return</span> field&#125;</span><br><span class="line">        <span class="keyword">set</span>(value)&#123;field = value&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœä¸å¸Œæœ›è¿™äº›å±æ€§åœ¨ä¸€å¼€å§‹å°±æœ‰åˆå§‹å€¼ï¼Œè€Œæ˜¯ä¹‹åæŸä¸€ä¸ªæ—¶åˆ»å»è®¾å®šåˆå§‹å€¼ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºå…¶æ·»åŠ æ‡’åŠ è½½(lateinit )</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ¬¡æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="keyword">var</span> name: String,<span class="keyword">var</span> age: <span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name: String):<span class="keyword">this</span>(name,<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸»æ„é€ å‡½æ•°å¯ä»¥åŠ varæˆ–è€…valï¼Œä½†æ¬¡æ„é€ å‡½æ•°ä¸å¯</p><p>æ¬¡æ„é€ å‡½æ•°éœ€è¦è°ƒç”¨å…¶ä»–æ„é€ å‡½æ•°ï¼ˆå¯ä»¥æ˜¯ä¸»æ„é€ å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¬¡æ„é€ å‡½æ•°ï¼‰ï¼Œä½†æ˜¯è°ƒç”¨é“¾<strong>æœ€ç»ˆè¦è°ƒç”¨ä¸»æ„é€ å‡½æ•°</strong></p></blockquote><p>å› æ­¤ï¼Œä¸»æ„é€ å‡½æ•°ç›¸æ¯”æ¬¡è¦ï¼ˆè¾…åŠ©ï¼‰æ„é€ å‡½æ•°ï¼š</p><ul><li><strong>ä¸»æ„é€ å‡½æ•°ï¼š</strong> å¯ä»¥ç›´æ¥åœ¨ä¸»æ„é€ å‡½æ•°ä¸­å®šä¹‰ç±»å±æ€§ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿ï¼Œä½†æ˜¯ä¸»æ„é€ å‡½æ•°åªèƒ½å­˜åœ¨ä¸€ä¸ªï¼Œå¹¶ä¸”æ— æ³•ç¼–å†™å‡½æ•°ä½“ï¼Œåªæœ‰ä¸ºç±»å±æ€§åšåˆå§‹åŒ–èµ‹å€¼çš„æ•ˆæœã€‚</li><li><strong>è¾…åŠ©ï¼ˆæ¬¡è¦ï¼‰æ„é€ å‡½æ•°ï¼š</strong> å¯ä»¥å­˜åœ¨å¤šä¸ªï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰å‡½æ•°ä½“ï¼Œä½†æ˜¯æ— æ³•åƒä¸»æ„é€ å‡½æ•°é‚£æ ·å®šä¹‰ç±»å±æ€§ï¼Œå¹¶ä¸”å½“ç±»å…·æœ‰ä¸»æ„é€ å‡½æ•°æ—¶ï¼Œæ‰€æœ‰æ¬¡è¦æ„é€ å‡½æ•°å¿…é¡»ç›´æ¥æˆ–é—´æ¥åœ°è°ƒç”¨ä¸»æ„é€ å‡½æ•°ã€‚</li></ul><h3 id="å¯¹è±¡çš„åˆå§‹åŒ–"><a href="#å¯¹è±¡çš„åˆå§‹åŒ–" class="headerlink" title="å¯¹è±¡çš„åˆå§‹åŒ–"></a>å¯¹è±¡çš„åˆå§‹åŒ–</h3><p>åœ¨å¯¹è±¡åˆ›å»ºæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åšä¸€äº›åˆå§‹åŒ–å·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–ä»£ç å—æ¥å®Œæˆ</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">constructor</span>(<span class="keyword">var</span> name: String,<span class="keyword">var</span> age: <span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">init</span> &#123;</span><br><span class="line">        println(<span class="string">&quot;åˆå§‹åŒ–ä»£ä»·å¿«&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">constructor</span>(name: String): <span class="keyword">this</span>(name,<span class="number">18</span>)&#123;</span><br><span class="line">        println(<span class="string">&quot;1 æ¬¡æ„é€ å‡½æ•°&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">constructor</span>(age: <span class="built_in">Int</span>):<span class="keyword">this</span>(<span class="string">&quot;å°æ˜&quot;</span>)&#123;</span><br><span class="line">        println(<span class="string">&quot;2 æ¬¡æ„é€ å‡½æ•°&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;                                                                                                                                                  </span><br></pre></td></tr></table></figure><p><strong>å¯¹è±¡åˆå§‹åŒ–è¿‡ç¨‹ï¼š</strong></p><p>è°ƒç”¨è¾…åŠ©æ„é€ å‡½æ•°æ—¶ï¼šé€šè¿‡è¾…åŠ©æ„é€ å‡½æ•°è°ƒç”¨ä¸»æ„é€ å‡½æ•°ï¼Œä¸»æ„é€ å‡½æ•°ï¼Œinitä»£ç å—ï¼Œè¾…åŠ©æ„é€ å‡½æ•°ä»£ç å—</p><h3 id="ç±»æˆå‘˜å‡½æ•°"><a href="#ç±»æˆå‘˜å‡½æ•°" class="headerlink" title="ç±»æˆå‘˜å‡½æ•°"></a>ç±»æˆå‘˜å‡½æ•°</h3><p>åœ¨ç±»é‡Œé¢å®šä¹‰å‘—ï¼Œå’Œjavaæ²¡ä»€ä¹ˆä¸åŒ</p><h3 id="è¿ç®—ç¬¦é‡è½½ï¼ˆæˆ‘æ˜¯åœ¨å­¦C-å—ï¼Ÿï¼‰"><a href="#è¿ç®—ç¬¦é‡è½½ï¼ˆæˆ‘æ˜¯åœ¨å­¦C-å—ï¼Ÿï¼‰" class="headerlink" title="è¿ç®—ç¬¦é‡è½½ï¼ˆæˆ‘æ˜¯åœ¨å­¦C++å—ï¼Ÿï¼‰"></a>è¿ç®—ç¬¦é‡è½½ï¼ˆæˆ‘æ˜¯åœ¨å­¦C++å—ï¼Ÿï¼‰</h3><p>Kotlinæ”¯æŒä¸ºç¨‹åºä¸­å·²çŸ¥çš„è¿ç®—ç¬¦é›†æä¾›è‡ªå®šä¹‰å®ç°ï¼Œè¿™äº›è¿ç®—ç¬¦å…·æœ‰å›ºå®šçš„ç¬¦å·è¡¨ç¤ºï¼ˆå¦‚<code>+</code>æˆ–<code>*</code>ï¼‰ä»¥åŠå¯¹åº”çš„ä¼˜å…ˆçº§ï¼Œè¦å®ç°è¿ç®—ç¬¦é‡è½½ï¼Œè¯·ä¸ºç›¸åº”ç±»å‹æä¾›å…·æœ‰å¯¹åº”è¿ç®—ç¬¦æŒ‡å®šåç§°çš„æˆå‘˜å‡½æ•°ï¼Œè€Œå½“å‰çš„ç±»å¯¹è±¡ï¼Œåˆ™ç›´æ¥ä½œä¸ºå¯¹åº”è¿ç®—ç¬¦å·¦è¾¹çš„æ“ä½œæ•°ï¼ˆç±»æ¯”C++ï¼‰</p><p><strong>operatorå…³é”®å­—</strong></p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> (<span class="keyword">var</span> name: String ,<span class="keyword">var</span> age: <span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="comment">//æ¯”å¦‚æˆ‘ä»¬å¸Œæœ›ä¸¤ä¸ªå­¦ç”Ÿå¯¹è±¡ç›¸åŠ ï¼Œå¾—åˆ°çš„ç»“æœä¸ºåå­—ç›¸åŠ ï¼Œå¹´é¾„ç›¸åŠ çš„ä¸€ä¸ªæ–°å­¦ç”Ÿ</span></span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">plus</span><span class="params">(another: <span class="type">Student</span>)</span></span>: Student&#123;</span><br><span class="line">        <span class="keyword">return</span> Student(<span class="keyword">this</span>.name+another.name,<span class="keyword">this</span>.age+another.age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¸¸è§çš„ä¸€äº›è¿ç®—ç¬¦å¯¹åº”çš„å‡½æ•°åç§°"><a href="#å¸¸è§çš„ä¸€äº›è¿ç®—ç¬¦å¯¹åº”çš„å‡½æ•°åç§°" class="headerlink" title="å¸¸è§çš„ä¸€äº›è¿ç®—ç¬¦å¯¹åº”çš„å‡½æ•°åç§°"></a>å¸¸è§çš„ä¸€äº›è¿ç®—ç¬¦å¯¹åº”çš„å‡½æ•°åç§°</h4><table><thead><tr><th>ç¬¦å·(ä¸€å…ƒè¿ç®—ç¬¦)</th><th>å¯¹åº”çš„å‡½æ•°åç§°</th></tr></thead><tbody><tr><td><code>+a</code></td><td><code>a.unaryPlus()</code></td></tr><tr><td><code>-a</code></td><td><code>a.unaryMinus()</code></td></tr><tr><td><code>!a</code></td><td><code>a.not()</code></td></tr><tr><td><code>a--</code></td><td><code>a.dec()</code></td></tr><tr><td><code>a++</code></td><td><code>a.inc()</code></td></tr></tbody></table><p><code>inc()</code>å’Œ<code>dec()</code>å‡½æ•°æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒä»¬å¿…é¡»è¿”å›ä¸€ä¸ªå€¼ï¼Œæ‰§è¡Œååº”è¯¥å¾—åˆ°ä¸€ä¸ªæ–°ç”Ÿæˆçš„å¯¹è±¡ï¼Œç„¶åå˜é‡çš„å€¼ç›´æ¥å¼•ç”¨åˆ°è¿™ä¸ªæ–°çš„å¯¹è±¡</p><table><thead><tr><th>ç¬¦å·ï¼ˆäºŒå…ƒè¿ç®—ç¬¦ï¼‰</th><th>å¯¹åº”çš„å‡½æ•°åç§°</th></tr></thead><tbody><tr><td><code>a + b</code></td><td><code>a.plus(b)</code></td></tr><tr><td><code>a - b</code></td><td><code>a.minus(b)</code></td></tr><tr><td><code>a * b</code></td><td><code>a.times(b)</code></td></tr><tr><td><code>a / b</code></td><td><code>a.div(b)</code></td></tr><tr><td><code>a % b</code></td><td><code>a.rem(b)</code></td></tr><tr><td><code>a..b</code></td><td><code>a.rangeTo(b)</code></td></tr><tr><td><code>a..&lt;b</code></td><td><code>a.rangeUntil(b)</code></td></tr></tbody></table><table><thead><tr><th>ç¬¦å·(å¤åˆèµ‹å€¼è¿ç®—ç¬¦)</th><th>å¯¹åº”çš„å‡½æ•°åç§°</th></tr></thead><tbody><tr><td><code>a += b</code></td><td><code>a.plusAssign(b)</code></td></tr><tr><td><code>a -= b</code></td><td><code>a.minusAssign(b)</code></td></tr><tr><td><code>a *= b</code></td><td><code>a.timesAssign(b)</code></td></tr><tr><td><code>a /= b</code></td><td><code>a.divAssign(b)</code></td></tr><tr><td><code>a %= b</code></td><td><code>a.remAssign(b)</code></td></tr></tbody></table><table><thead><tr><th>ç¬¦å·(è¿”å›Boolean)</th><th>å¯¹åº”çš„å‡½æ•°åç§°</th></tr></thead><tbody><tr><td><code>a in b</code></td><td><code>b.contains(a)</code></td></tr><tr><td><code>a !in b</code></td><td><code>!b.contains(a)</code></td></tr></tbody></table><p>æ¯”è¾ƒè¿ç®—ç¬¦åªéœ€è¦å®ç°ä¸€ä¸ªå‡½æ•°å³å¯ï¼š</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>å¯¹åº”çš„å‡½æ•°åç§°</th></tr></thead><tbody><tr><td><code>a &gt; b</code></td><td><code>a.compareTo(b) &gt; 0</code></td></tr><tr><td><code>a &lt; b</code></td><td><code>a.compareTo(b) &lt; 0</code></td></tr><tr><td><code>a &gt;= b</code></td><td><code>a.compareTo(b) &gt;= 0</code></td></tr><tr><td><code>a &lt;= b</code></td><td><code>a.compareTo(b) &lt;= 0</code></td></tr></tbody></table><p> å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦é‡è½½</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>å¯¹åº”çš„å‡½æ•°åç§°</th></tr></thead><tbody><tr><td><code>a()</code></td><td><code>a.invoke()</code></td></tr></tbody></table><table><thead><tr><th>è¿ç®—ç¬¦</th><th>å¯¹åº”çš„å‡½æ•°åç§°</th></tr></thead><tbody><tr><td><code>a[i]</code></td><td><code>a.get(i)</code></td></tr></tbody></table><h3 id="ä¸­ç¼€å‡½æ•°-1"><a href="#ä¸­ç¼€å‡½æ•°-1" class="headerlink" title="ä¸­ç¼€å‡½æ•°"></a>ä¸­ç¼€å‡½æ•°</h3><p>ç”¨<code>infix</code>å…³é”®å­—æ ‡è®°çš„å‡½æ•°è¢«ç§°ä¸ºä¸­ç¼€å‡½æ•°ï¼Œåœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥çœç•¥è°ƒç”¨çš„ç‚¹å’Œæ‹¬å·è¿›è¡Œè°ƒç”¨ï¼Œinfixå‡½æ•°å¿…é¡»æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p><ul><li>å¿…é¡»æ˜¯æˆå‘˜å‡½æ•°ã€‚</li><li>åªèƒ½æœ‰ä¸€ä¸ªå‚æ•°ã€‚</li><li>å‚æ•°ä¸èƒ½æœ‰é»˜è®¤å€¼ã€‚</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="keyword">var</span> name: String, <span class="keyword">var</span> age: <span class="built_in">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">infix</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">(string: <span class="type">String</span>)</span></span>: String&#123;</span><br><span class="line">        <span class="keyword">return</span> name+string</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨</span></span><br><span class="line">student test <span class="string">&quot;2&quot;</span></span><br></pre></td></tr></table></figure><ul><li>æ³¨ï¼šä¸­ç¼€å‡½æ•°è°ƒç”¨çš„ä¼˜å…ˆçº§ä½äºç®—æœ¯è¿ç®—ç¬¦ã€ç±»å‹è½¬æ¢å’Œ<code>rangeTo</code>è¿ç®—ç¬¦</li></ul><h3 id="ç©ºå€¼å’Œ-å¯-ç©ºç±»å‹"><a href="#ç©ºå€¼å’Œ-å¯-ç©ºç±»å‹" class="headerlink" title="ç©ºå€¼å’Œ(å¯)ç©ºç±»å‹"></a>ç©ºå€¼å’Œ(å¯)ç©ºç±»å‹</h3><p>æ‰€æœ‰çš„ç±»å‹é»˜è®¤éƒ½æ˜¯<strong>éç©ºç±»å‹</strong>ï¼Œéç©ºç±»å‹çš„å˜é‡æ˜¯ä¸å…è®¸è¢«èµ‹å€¼ä¸ºnullçš„</p><p>å¦‚æœæˆ‘ä»¬å¸Œæœ›æŸä¸ªå˜é‡åœ¨åˆå§‹æƒ…å†µä¸‹ä½¿ç”¨<code>null</code>è€Œä¸å»å¼•ç”¨æŸä¸€ä¸ªå…·ä½“å¯¹è±¡ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦å°†å˜é‡çš„ç±»å‹ä¿®æ”¹ä¸º<strong>å¯ç©ºç±»å‹</strong>ï¼Œåªéœ€åœ¨ç±»å‹åç§°çš„åé¢æ·»åŠ ä¸€ä¸ª<code>?</code></p><p>åœ¨è°ƒç”¨çš„æ—¶å€™ç”¨ifåˆ¤æ–­</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> student: Student? =<span class="literal">null</span></span><br><span class="line">    <span class="keyword">if</span> (student != <span class="literal">null</span>)&#123;</span><br><span class="line">        student.age</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æƒ³ç”¨ifåŒ…è£¹</p><blockquote><ul><li><p>å¦‚æœæˆ‘ä»¬å¾ˆæ˜ç¡®çŸ¥é“è¿™ä¸ªå¯ç©ºç±»å‹ä¸€å®šä¸ä¸ºç©ºå¯ä»¥ä½¿ç”¨<strong>éç©ºæ–­è¨€æ“ä½œç¬¦ï¼ˆ<code>!!</code>ï¼‰</strong></p><p>ä¾‹å¦‚ï¼š<code>student!!.age</code>è°ƒç”¨</p></li><li><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<strong>å®‰å…¨è°ƒç”¨è¿ç®—ç¬¦ï¼ˆ<code>?.</code>ï¼‰</strong>ï¼Œå¦‚æœå¯¹è±¡ä¸ºç©ºåˆ™è¿”å›null</p><p>ä¾‹å¦‚ï¼š<code>student?.age</code></p></li><li><p>ä¸è¿‡åœ¨æœ‰äº›æ—¶å€™ï¼Œå¯èƒ½æˆ‘ä»¬å¸Œæœ›å¦‚æœå˜é‡ä¸ºnullï¼Œåœ¨ä½¿ç”¨å®‰å…¨è°ƒç”¨è¿ç®—ç¬¦æ—¶ï¼Œè¿”å›ä¸€ä¸ªæˆ‘ä»¬è‡ªå®šä¹‰çš„ç»“æœï¼Œè€Œä¸æ˜¯nullï¼Œåˆ™å¯ä»¥ä½¿ç”¨<strong>ç©ºåˆå¹¶æ“ä½œç¬¦?ï¼š</strong></p><p>ä¾‹å¦‚ï¼šstudent?.age ?: â€œè‡ªå®šä¹‰ç»“æœâ€</p></li></ul></blockquote><h3 id="ç©ºåˆå¹¶æ“ä½œç¬¦"><a href="#ç©ºåˆå¹¶æ“ä½œç¬¦" class="headerlink" title="ç©ºåˆå¹¶æ“ä½œç¬¦?:"></a>ç©ºåˆå¹¶æ“ä½œç¬¦?:</h3><p>?:æ“ä½œç¬¦çš„æ„æ€æ˜¯ï¼Œå¦‚æœå·¦è¾¹çš„æ±‚å€¼ç»“æœä¸ºnullï¼Œå°±ä½¿ç”¨å³ä¾§çš„ç»“æœå€¼</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¾‹å¦‚</span></span><br><span class="line">student?.age ?: <span class="string">&quot;è‡ªå®šä¹‰ç»“æœ&quot;</span>  </span><br></pre></td></tr></table></figure><h3 id="è§£æ„å£°æ˜"><a href="#è§£æ„å£°æ˜" class="headerlink" title="è§£æ„å£°æ˜"></a>è§£æ„å£°æ˜</h3><blockquote><p>å…è®¸ä½ å°†ä¸€ä¸ªå¯¹è±¡åˆ†è§£ä¸ºå¤šä¸ªå˜é‡</p></blockquote><p>è¦è®©ä¸€ä¸ªç±»çš„å±æ€§æ”¯æŒè§£æ„ï¼Œæˆ‘ä»¬åªéœ€æ·»åŠ çº¦å®šçš„å‡½æ•°å³å¯ï¼Œåœ¨Kotlinä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰è§£æ„å‡ºæ¥çš„ç»“æœï¼Œè€Œå…·ä½“å¦‚ä½•è·å–ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ª<strong>componentN</strong>å‡½æ•°å¹¶é€šè¿‡è¿”å›å€¼çš„å½¢å¼è¿”å›è§£æ„çš„ç»“æœ</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="keyword">var</span> name: String, <span class="keyword">var</span> age: <span class="built_in">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component1</span><span class="params">()</span></span> = name   <span class="comment">//ä½¿ç”¨component1è¡¨ç¤ºè§£æ„å‡ºæ¥çš„ç¬¬ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component2</span><span class="params">()</span></span> = age    <span class="comment">//ä½¿ç”¨component2è¡¨ç¤ºè§£æ„å‡ºæ¥çš„ç¬¬äºŒä¸ªå‚æ•°</span></span><br><span class="line">  <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> component3...  //ä»¥æ­¤ç±»æ¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è°ƒç”¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">val</span> s1 = Student(<span class="string">&quot;å°æ˜&quot;</span>,<span class="number">18</span>)</span><br><span class="line"><span class="keyword">val</span>(name , age) = s1</span><br><span class="line"><span class="comment">//æ­¤æ—¶name=&quot;å°æ˜&quot; ã€age=18</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æƒé™æ§åˆ¶ï¼ˆå’Œjavaæœ‰äº›ä¸åŒï¼‰"><a href="#æƒé™æ§åˆ¶ï¼ˆå’Œjavaæœ‰äº›ä¸åŒï¼‰" class="headerlink" title="æƒé™æ§åˆ¶ï¼ˆå’Œjavaæœ‰äº›ä¸åŒï¼‰"></a>æƒé™æ§åˆ¶ï¼ˆå’Œjavaæœ‰äº›ä¸åŒï¼‰</h3><p>åœ¨ç±»ã€å¯¹è±¡ã€æ¥å£ã€æ„é€ å‡½æ•°å’Œå‡½æ•°ï¼Œä»¥åŠå±æ€§ä¸Šï¼Œå¯ä»¥ä¸ºå…¶æ·»åŠ  <em>å¯è§æ€§ä¿®é¥°ç¬¦</em> æ¥æ§åˆ¶å…¶å¯è§æ€§</p><p><strong>public</strong>ã€<strong>protected</strong>ã€<strong>internal</strong>ã€<strong>private</strong>ã€</p><ol><li><code>public</code> : å…¬å¼€ï¼Œå¯è§æ€§æœ€å¤§ï¼Œå“ªé‡Œéƒ½å¯ä»¥å¼•ç”¨</li><li><code>private</code>: ç§æœ‰ï¼Œå¯è§æ€§æœ€å°</li><li><code>protected</code>: ä¿æŠ¤ï¼Œç›¸å½“äº<code>private</code> + å­ç±»å¯è§(ä¸å¯ä»¥ç”¨åšé¡¶çº§å£°æ˜ï¼Œåªèƒ½ç”¨ä½œç±»æˆå‘˜)</li><li><code>internal</code>: å†…éƒ¨ï¼Œä»…å¯¹moduleå¯è§</li></ol><h2 id="å°è£…ç»§æ‰¿å¤šæ€"><a href="#å°è£…ç»§æ‰¿å¤šæ€" class="headerlink" title="å°è£…ç»§æ‰¿å¤šæ€"></a>å°è£…ç»§æ‰¿å¤šæ€</h2><blockquote><ul><li>å°è£…ï¼ŒæŠŠå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ç»“åˆæˆä¸€ä¸ªç‹¬ç«‹çš„æ•´ä½“ï¼Œéšè—å®ç°ç»†èŠ‚ï¼Œå¹¶æä¾›å¯¹å¤–è®¿é—®çš„æ¥å£ã€‚</li><li>ç»§æ‰¿ï¼Œä»å·²çŸ¥çš„ä¸€ä¸ªç±»ä¸­æ´¾ç”Ÿå‡ºä¸€ä¸ªæ–°çš„ç±»ï¼Œå«å­ç±»ã€‚å­ç±»å®ç°äº†çˆ¶ç±»æ‰€æœ‰éç§æœ‰åŒ–çš„å±æ€§å’Œå‡½æ•°ï¼Œå¹¶æ ¹æ®å®é™…éœ€æ±‚æ‰©å±•å‡ºæ–°çš„è¡Œä¸ºã€‚</li><li>å¤šæ€ï¼Œå¤šä¸ªä¸åŒçš„å¯¹è±¡å¯¹åŒä¸€æ¶ˆæ¯ä½œå‡ºå“åº”ï¼ŒåŒä¸€æ¶ˆæ¯æ ¹æ®ä¸åŒçš„å¯¹è±¡è€Œé‡‡ç”¨å„ç§ä¸åŒçš„å‡½æ•°</li></ul></blockquote><h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><blockquote><p>å°è£…çš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯å˜é‡çš„å®‰å…¨æ€§ï¼Œä½¿ç”¨è€…ä¸å¿…åœ¨æ„å…·ä½“å®ç°ç»†èŠ‚ï¼Œè€Œåªæ˜¯é€šè¿‡å¤–éƒ¨æ¥å£å³å¯è®¿é—®ç±»çš„æˆå‘˜â€”â€“æˆå‘˜ç§æœ‰åŒ–</p></blockquote><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><ul><li>åœ¨ Kotlin ä¸­ï¼Œç±»æ˜¯é»˜è®¤ <strong>finalï¼ˆç»ˆæ€ï¼‰</strong> çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé™¤éæ˜¾å¼å£°æ˜ä¸º <code>open</code></li><li>å•ç»§æ‰¿</li><li>ç»§æ‰¿æ—¶éœ€è¦è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå®Œæˆå¯¹çˆ¶ç±»å±æ€§çš„åˆå§‹åŒ–ï¼ˆå­ç±»å¿…é¡»åˆå§‹åŒ–çˆ¶ç±»å±æ€§ï¼‰ï¼Œå¦‚æœçˆ¶ç±»åªæœ‰æ¬¡æ„é€ å‡½æ•°ï¼Œå­ç±»å¿…é¡»åœ¨è‡ªå·±çš„æ¬¡æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ <code>super</code> æ˜¾å¼è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚</li><li>å…ˆå®Œæˆçˆ¶ç±»çš„æ„é€ ï¼Œå†å®Œæˆä¹‹ç±»çš„æ„é€ </li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»§æ‰¿è¯­æ³•ï¼š</span></span><br><span class="line"><span class="comment">//çˆ¶ç±»</span></span><br><span class="line"><span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">Student</span>(<span class="keyword">protected</span> <span class="keyword">var</span> name: String, <span class="keyword">protected</span> <span class="keyword">var</span> age: <span class="built_in">Int</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­ç±»</span></span><br><span class="line"><span class="comment">//è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ArtStudent</span>(name: String, age: <span class="built_in">Int</span>, <span class="keyword">protected</span> <span class="keyword">val</span> school: String) : Student(name, age) &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å½“ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»æ—¶ï¼Œå±æ€§ä¼šè¢«ç»§æ‰¿ï¼Œå¯ä»¥ç›´æ¥è®¿é—®çˆ¶ç±»ä¸­å®šä¹‰çš„å±æ€§ï¼Œé™¤éçˆ¶ç±»ä¸­å°†å±æ€§çš„è®¿é—®æƒé™ä¿®æ”¹ä¸º<code>private</code>ï¼Œé‚£ä¹ˆå­ç±»å°†æ— æ³•è®¿é—®ï¼ˆä½†æ˜¯ä¾ç„¶æ˜¯ç»§æ‰¿äº†è¿™ä¸ªå±æ€§çš„ï¼‰</p></blockquote><h3 id="æ–¹æ³•ä¸å±æ€§çš„é‡å†™"><a href="#æ–¹æ³•ä¸å±æ€§çš„é‡å†™" class="headerlink" title="æ–¹æ³•ä¸å±æ€§çš„é‡å†™"></a>æ–¹æ³•ä¸å±æ€§çš„é‡å†™</h3><ol><li><p>çˆ¶ç±»çš„æˆå‘˜éœ€è¦ç”¨ <code>open</code> ä¿®é¥°ã€‚</p></li><li><p>å­ç±»ä¸­ç”¨ <code>override</code> å…³é”®å­—å®ç°é‡å†™</p></li></ol><blockquote><p>å¯¹äºè¿™äº›ä½¿ç”¨äº†<code>open</code>å…³é”®å­—çš„å±æ€§ï¼ˆå‡½æ•°ã€å˜é‡ç­‰ï¼‰åªè¦æ˜¯åœ¨åˆå§‹åŒ–å‡½æ•°ã€æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ï¼ŒIDEAéƒ½ä¼šç»™å‡ºè­¦å‘Š</p></blockquote><h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><p>å‘ä¸Šè½¬å‹ï¼š ç›´æ¥å¼ºåˆ¶è½¬å‹å°±å¥½äº†</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> artStudent: Student = ArtStudent()</span><br></pre></td></tr></table></figure><p>å‘ä¸‹è½¬å‹ï¼š<strong>as</strong>å…³é”®å­—å¼ºè½¬</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">(student: <span class="type">Student</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> artStudent: ArtStudent = student <span class="keyword">as</span> ArtStudent</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Anyç±»"><a href="#Anyç±»" class="headerlink" title="Anyç±»"></a>Anyç±»</h3><p>Kotlinç±»å±‚æ¬¡ç»“æ„çš„æ ¹ã€‚æ¯ä¸ªKotlinç±»éƒ½æœ‰ Any ä½œä¸ºè¶…ç±»</p><h4 id="è¿ç®—ç¬¦é‡è½½equals"><a href="#è¿ç®—ç¬¦é‡è½½equals" class="headerlink" title="è¿ç®—ç¬¦é‡è½½equals"></a>è¿ç®—ç¬¦é‡è½½equals</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">open</span> <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">equals</span><span class="params">(other: <span class="type">Any</span>?)</span></span>: <span class="built_in">Boolean</span></span><br></pre></td></tr></table></figure><ul><li><em>ç»“æœä¸Š</em> ç›¸ç­‰ (<code>==</code> ç­‰ä»·äº <code>equals()</code>)</li><li><em>å¼•ç”¨ä¸Š</em> ç›¸ç­‰ (<code>===</code> åˆ¤æ–­ä¸¤ä¸ªå˜é‡æ˜¯å¦éƒ½æ˜¯å¼•ç”¨çš„åŒä¸€ä¸ªå¯¹è±¡)</li></ul><h3 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h3><p>æˆ‘ä»¬è®¾è®¡çš„ç±»å¯èƒ½ä»…ä»…æ˜¯ä½œä¸ºç»™å…¶ä»–ç±»ç»§æ‰¿ä½¿ç”¨çš„ç±»ï¼Œè€Œå…¶æœ¬èº«å¹¶ä¸éœ€è¦åˆ›å»ºä»»ä½•å®ä¾‹å¯¹è±¡</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨abstractè¡¨ç¤ºè¿™ä¸ªæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">val</span> type: String  <span class="comment">//æŠ½è±¡ç±»ä¸­å¯ä»¥å­˜åœ¨æŠ½è±¡æˆå‘˜å±æ€§</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="function"><span class="keyword">fun</span> <span class="title">hello</span><span class="params">()</span></span>   <span class="comment">//æŠ½è±¡ç±»ä¸­å¯ä»¥å­˜åœ¨æŠ½è±¡å‡½æ•°</span></span><br><span class="line">  <span class="comment">//æ³¨æ„æŠ½è±¡çš„å±æ€§ä¸èƒ½ä¸ºprivateï¼Œä¸ç„¶å­ç±»å°±æ²¡æ³•é‡å†™äº†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ä¸€ä¸ªå­ç±»ç»§æ‰¿è‡ªæŠ½è±¡ç±»æ—¶ï¼Œå¿…é¡»è¦<strong>é‡å†™</strong>æŠ½è±¡ç±»ä¸­å®šä¹‰çš„æŠ½è±¡å±æ€§å’ŒæŠ½è±¡å‡½æ•°ï¼š</p><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><p>æ¥å£ä¸€èˆ¬åªä»£è¡¨æŸäº›åŠŸèƒ½çš„æŠ½è±¡ï¼Œæ¥å£åŒ…å«äº†ä¸€ç³»åˆ—å†…å®¹çš„å®šä¹‰ï¼Œç±»å¯ä»¥å®ç°è¿™ä¸ªæ¥å£ï¼Œè¡¨ç¤ºç±»æ”¯æŒæ¥å£ä»£è¡¨çš„åŠŸèƒ½ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> x: String  <span class="comment">//æ¥å£ä¸­æ‰€æœ‰å±æ€§é»˜è®¤éƒ½æ˜¯abstractçš„ï¼ˆå¯çœç•¥å…³é”®å­—ï¼‰</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">sleep</span><span class="params">()</span></span>   <span class="comment">//æ¥å£ä¸­æ‰€æœ‰å‡½æ•°é»˜è®¤éƒ½æ˜¯abstractçš„ï¼ˆå¯çœç•¥å…³é”®å­—ï¼‰ï¼Œä¹Ÿå¯ä»¥å¸¦æœ‰é»˜è®¤å®ç°</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">game</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>: <span class="type">A</span>, <span class="type">B</span> &#123;   <span class="comment">//æ¥å£çš„å®ç°ä¸ç±»çš„ç»§æ‰¿ä¸€æ ·ï¼Œç›´æ¥å†™åˆ°åé¢ï¼Œå¤šä¸ªæ¥å£ç”¨é€—å·éš”å¼€</span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">val</span> x: String = <span class="string">&quot;æµ‹è¯•&quot;</span>   <span class="comment">//è·ŸæŠ½è±¡ç±»ä¸€æ ·ï¼Œæ¥å£ä¸­çš„å†…å®¹æ˜¯å¿…é¡»è¦å®ç°çš„</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">sleep</span><span class="params">()</span></span> = println(<span class="string">&quot;ç®¡ä»–ä»€ä¹ˆæ—©å…«ä¸æ—©å…«çš„ï¼Œç¡èˆ’æœå†è¯´&quot;</span>)</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">game</span><span class="params">()</span></span> = println(<span class="string">&quot;è¯»å¤§å­¦å°±è¯¥ç©æ¸¸æˆç©åˆ°çˆ½&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥å£ä¸­å£°æ˜çš„å±æ€§å¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œä¹Ÿå¯ä»¥ä¸ºGetteræä¾›é»˜è®¤å®ç°ã€‚åœ¨æ¥å£ä¸­å£°æ˜çš„å±æ€§æ— æ³•ä½¿ç”¨<code>field</code>åèƒŒå­—æ®µï¼Œå› æ­¤åœ¨æ¥å£ä¸­å£°æ˜çš„Setteræ— æ³•ä½¿ç”¨<code>field</code>è¿›è¡Œèµ‹å€¼</p><h3 id="ç±»çš„æ‰©å±•"><a href="#ç±»çš„æ‰©å±•" class="headerlink" title="ç±»çš„æ‰©å±•"></a>ç±»çš„æ‰©å±•</h3><p>ä¸ºæŸä¸ªç±»æ·»åŠ ä¸€äº›é¢å¤–çš„å‡½æ•°æˆ–æ˜¯å±æ€§ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡ä¸€ä¸ªè¢«ç§°ä¸º<em>æ‰©å±•</em>çš„ç‰¹æ®Šå£°æ˜æ¥å®Œæˆ</p><p>æ¯”å¦‚æˆ‘ä»¬æƒ³ä¸ºStringç±»å‹æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„æ“ä½œï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸ºå®˜æ–¹çš„Stringç±»æ·»åŠ ä¸€ä¸ªæ–°çš„testå‡½æ•°ï¼Œä½¿å…¶è¿”å›è‡ªå®šä¹‰å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> String.<span class="title">test</span><span class="params">()</span></span> = <span class="string">&quot;666&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> text = <span class="string">&quot;Hello World&quot;</span></span><br><span class="line">    println(text.test())  <span class="comment">//å°±å¥½åƒStringç±»ä¸­çœŸçš„æœ‰è¿™ä¸ªå‡½æ•°ä¸€æ ·</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å½“æ‰©å±•å‡½æ•°ä½œä¸ºå‚æ•°èµ‹å€¼ç»™å˜é‡æ—¶"><a href="#å½“æ‰©å±•å‡½æ•°ä½œä¸ºå‚æ•°èµ‹å€¼ç»™å˜é‡æ—¶" class="headerlink" title="å½“æ‰©å±•å‡½æ•°ä½œä¸ºå‚æ•°èµ‹å€¼ç»™å˜é‡æ—¶"></a>å½“æ‰©å±•å‡½æ•°ä½œä¸ºå‚æ•°èµ‹å€¼ç»™å˜é‡æ—¶</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">//å› ä¸ºæ˜¯å¯¹Stringç±»å‹çš„æ‰©å±•å‡½æ•°ï¼Œéœ€è¦String.å‰ç¼€</span></span><br><span class="line">    <span class="keyword">val</span> func: String.() -&gt; <span class="built_in">Int</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.length   <span class="comment">//è·Ÿä¸Šé¢ä¸€æ ·ï¼Œæ‰©å±•å‡½æ•°ä¸­çš„thisä¾ç„¶æŒ‡çš„æ˜¯è¢«æ‰©å±•çš„ç±»å¯¹è±¡</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(<span class="string">&quot;sahda&quot;</span>.func())  <span class="comment">//å¯ä»¥ç›´æ¥å¯¹ç¬¦åˆç±»å‹çš„å¯¹è±¡ä½¿ç”¨è¿™ä¸ªå‡½æ•°</span></span><br><span class="line">  func(<span class="string">&quot;Hello&quot;</span>)  <span class="comment">//å¦‚æœæ˜¯ç›´æ¥è°ƒç”¨ï¼Œé‚£ä¹ˆå¿…é¡»è¦ä¼ å…¥å¯¹åº”ç±»å‹çš„å¯¹è±¡ä½œä¸ºé¦–ä¸ªå‚æ•°ï¼Œæ­¤æ—¶thiså°±æŒ‡å‘æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Kotlinè¿›é˜¶"><a href="#Kotlinè¿›é˜¶" class="headerlink" title="Kotlinè¿›é˜¶"></a>Kotlinè¿›é˜¶</h1><h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><p>æ³›å‹å…¶å®å°±ä¸€ä¸ªå¾…å®šç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„åå­—è¡¨ç¤ºæ³›å‹ï¼Œæ³›å‹åœ¨å®šä¹‰æ—¶å¹¶ä¸æ˜ç¡®æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè€Œæ˜¯éœ€è¦åˆ°ä½¿ç”¨æ—¶æ‰ä¼šç¡®å®šå¯¹åº”çš„æ³›å‹ç±»å‹ï¼Œï¼ˆåªæ˜¯å£°æ˜æœ‰è¿™ä¸ªä¸´æ—¶æ•°æ®ç±»å‹ï¼‰</p><h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><h4 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h4><p>ç±»ï¼Œæ¥å£ï¼ŒæŠ½è±¡ç±»éƒ½æ”¯æŒæ³›å‹æ“ä½œ</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Score</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">var</span> name: String, <span class="keyword">var</span> value: T)</span><br><span class="line"><span class="comment">//è¿™é‡Œçš„Tå°±æ˜¯ä¸€ä¸ªå¾…å®šçš„ç±»å‹ï¼ŒåŒæ ·æ˜¯è¿™ä¸ªç±»å…·æœ‰çš„ï¼Œæˆ‘ä»¬ç§°ä¸ºæ³›å‹å‚æ•°</span></span><br><span class="line"><span class="comment">//Tç›¸å½“äºä¸€ä¸ªä¸´æ—¶ç±»å‹</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">var</span> score = Score&lt;<span class="built_in">Int</span>&gt;(<span class="string">&quot;å°æ˜&quot;</span>, <span class="number">100</span>)</span><br></pre></td></tr></table></figure><blockquote><ul><li>å¦‚æœåœ¨ç¼–è¯‘é˜¶æ®µèƒ½å¤Ÿç¡®å®šæ³›å‹çš„å…·ä½“ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨<Int>ï¼Œè‡ªåŠ¨æ¨æ–­</li><li>æ³›å‹ç±»å‹åœ¨ç±»å†…éƒ¨ä½¿ç”¨æ—¶ï¼Œç”±äºæ— æ³•ç¡®å®šå…·ä½“ç±»å‹ï¼Œä¹Ÿåªèƒ½å½“åš<code>Any?</code>ç±»å»ä½¿ç”¨</li><li>æ³›å‹ç±»å‹åœ¨ç±»å†…éƒ¨ä½¿ç”¨æ—¶ï¼Œä¸èƒ½é€šè¿‡è¿™ä¸ªä¸ç¡®å®šçš„ç±»å‹å˜é‡å°±å»ç›´æ¥åˆ›å»ºå¯¹è±¡</li></ul></blockquote><h4 id="æœ‰å…³æ³›å‹çš„ç»§æ‰¿é—®é¢˜"><a href="#æœ‰å…³æ³›å‹çš„ç»§æ‰¿é—®é¢˜" class="headerlink" title="æœ‰å…³æ³›å‹çš„ç»§æ‰¿é—®é¢˜"></a>æœ‰å…³æ³›å‹çš„ç»§æ‰¿é—®é¢˜</h4><p>å­ç±»åœ¨ç»§æ‰¿æ—¶ï¼Œå¯ä»¥é€‰æ‹©å°†çˆ¶ç±»çš„æ³›å‹å‚æ•°ç»™æ˜ç¡®ä¸ºæŸä¸€ç±»å‹ï¼Œæˆ–æ˜¯ä½¿ç”¨å­ç±»å®šä¹‰çš„æ³›å‹å‚æ•°ä½œä¸ºçˆ¶ç±»æ³›å‹å‚æ•°çš„å®å‚ä½¿ç”¨</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">A</span>&lt;<span class="type">T</span>&gt;()&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span>:T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­ç±»åœ¨ç»§æ‰¿æ—¶ï¼Œå¯ä»¥é€‰æ‹©å°†çˆ¶ç±»çš„æ³›å‹å‚æ•°ç»™æ˜ç¡®ä¸ºæŸä¸€ç±»å‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>():A&lt;String&gt;()&#123;<span class="comment">//å­ç±»ç›´æ¥æ˜ç¡®ä¸ºStringç±»å‹</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span>: String =<span class="string">&quot;Hello&quot;</span><span class="comment">//æ˜ç¡®åæ‰€æœ‰ç”¨åˆ°æ³›å‹çš„åœ°æ–¹éƒ½è¦å˜æˆå…·ä½“ç±»å‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆ–æ˜¯å­ç±»ä¹Ÿæ˜¯æ³›å‹,å­ç±»å®šä¹‰çš„æ³›å‹å‚æ•°ä½œä¸ºçˆ¶ç±»æ³›å‹å‚æ•°çš„å®å‚ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&lt;<span class="type">D</span>&gt;():A&lt;D&gt;()&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span>: D &#123;</span><br><span class="line">        TODO(<span class="string">&quot;Not yet implemented&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ³›å‹å‡½æ•°"><a href="#æ³›å‹å‡½æ•°" class="headerlink" title="æ³›å‹å‡½æ•°"></a>æ³›å‹å‡½æ•°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun &lt;T&gt; test(t: T): T = t</span><br></pre></td></tr></table></figure><h4 id=""><a href="#" class="headerlink" title=""></a></h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‡½æ•°ç±»å‹å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">test</span><span class="params">(func: (<span class="type">Int</span>) -&gt; <span class="type">T</span>)</span></span> : T&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">test</span><span class="params">(T.()</span></span> -&gt; <span class="built_in">Unit</span>)&#123;<span class="comment">////ç”šè‡³è¿˜å¯ä»¥æ˜¯Tç±»å‹çš„æ‰©å±•å‡½æ•°</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®˜æ–¹é«˜é˜¶æ‰©å±•å‡½æ•°"><a href="#å®˜æ–¹é«˜é˜¶æ‰©å±•å‡½æ•°" class="headerlink" title="å®˜æ–¹é«˜é˜¶æ‰©å±•å‡½æ•°"></a>å®˜æ–¹é«˜é˜¶æ‰©å±•å‡½æ•°</h3><h4 id="Any-apply-å‡½æ•°"><a href="#Any-apply-å‡½æ•°" class="headerlink" title="Any.apply()å‡½æ•°"></a>Any.apply()å‡½æ•°</h4><p>å®ƒå¯ä»¥è®©ä½ åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šæ‰§è¡Œä¸€ç³»åˆ—æ“ä½œï¼ŒåŒæ—¶ä¿æŒä»£ç çš„ç®€æ´æ€§å’Œå¯è¯»æ€§ã€‚å®ƒå¸¸ç”¨äºå¯¹è±¡çš„åˆå§‹åŒ–å’Œé…ç½®ï¼Œä»¥åŠé“¾å¼è°ƒç”¨</p><ul><li><code>apply()</code> å‡½æ•°æœ€ç»ˆä¼šè¿”å›è°ƒç”¨å®ƒçš„å¯¹è±¡æœ¬èº«ã€‚</li></ul><p>åœ¨åŒ¿åå‡½æ•°ä¸­å¤„ç†<strong>è°ƒç”¨apply()çš„å¯¹è±¡</strong>ï¼Œå¹¶è¿”å›å¯¹è±¡æœ¬èº«</p><h4 id="Any-let-å‡½æ•°"><a href="#Any-let-å‡½æ•°" class="headerlink" title="Any.let()å‡½æ•°"></a>Any.let()å‡½æ•°</h4><p><code>let</code>ï¼šç”¨äºæ‰§è¡Œä¸€ä¸ªlambdaè¡¨è¾¾å¼å¹¶å°†å¾—åˆ°ä¸€ä¸ª<strong>æ–°çš„ç±»å‹</strong>å€¼å¹¶ä½œä¸ºç»“æœè¿”å›</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¹å½“å‰å¯¹è±¡è¿›è¡Œæ“ä½œï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ç±»å‹å€¼å¹¶ä½œä¸ºç»“æœè¿”å›</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R&gt;</span> T.<span class="title">let</span><span class="params">(block: (<span class="type">T</span>) -&gt; <span class="type">R</span>)</span></span>: R &#123;</span><br><span class="line">   ...</span><br><span class="line">    <span class="keyword">return</span> block(<span class="keyword">this</span>)  <span class="comment">//è°ƒç”¨æˆ‘ä»¬ä¼ å…¥çš„å‡½æ•°ï¼Œå¹¶å°†ç»“æœä½œä¸ºletè¿”å›å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Any-also-å‡½æ•°"><a href="#Any-also-å‡½æ•°" class="headerlink" title="Any.also()å‡½æ•°"></a>Any.also()å‡½æ•°</h4><p><code>also</code>ï¼šç”¨äºæ‰§è¡Œä¸€ä¸ªlambdaè¡¨è¾¾å¼å¹¶è¿”å›å¯¹è±¡æœ¬èº«ï¼Œè·ŸapplyåŠŸèƒ½ä¸€è‡´åƒï¼Œä½†æ˜¯é‡‡ç”¨çš„æ˜¯<code>it</code>å‚æ•°å½¢å¼ä¼ é€’ç»™Lambdaå½“å‰å¯¹è±¡ï¼Œè€Œapplyæ˜¯é‡‡ç”¨this(æ‰©å±•å‡½æ•°)çš„æ–¹å¼</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¹å½“å‰å¯¹è±¡è¿›è¡Œæ“ä½œï¼Œå¹¶è¿”å›å½“å‰å¯¹è±¡æœ¬èº«</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> T.<span class="title">also</span><span class="params">(block: (<span class="type">T</span>) -&gt; <span class="type">Unit</span>)</span></span>: T &#123;</span><br><span class="line">    ...</span><br><span class="line">    block(<span class="keyword">this</span>)   <span class="comment">//è°ƒç”¨æˆ‘ä»¬ä¼ å…¥çš„å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>   <span class="comment">//è¿”å›å½“å‰Tç±»å‹å¯¹è±¡æœ¬èº«</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Any-run-å‡½æ•°"><a href="#Any-run-å‡½æ•°" class="headerlink" title="Any.run()å‡½æ•°"></a>Any.run()å‡½æ•°</h4><p>ç”¨äºæ‰§è¡Œä¸€ä¸ªlambdaè¡¨è¾¾å¼å¹¶å°†å¾—åˆ°çš„ç»“æœä½œä¸ºè¿”å›å€¼è¿”å›ï¼Œå®ƒè·Ÿletä¸€æ ·ï¼Œä½¿ç”¨thisä¼ é€’å½“å‰å¯¹è±¡ï¼Œå¯ä»¥çœ‹åˆ°æ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ªæ‰©å±•å‡½æ•°</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R&gt;</span> T.<span class="title">run</span><span class="params">(block: <span class="type">T</span>.() -&gt; <span class="type">R</span>)</span></span>: R &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> block()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>Any.apply()å’ŒAny.run()åº•å±‚æ˜¯é ä¼ å…¥çš„å‡½æ•°æ˜¯<strong>æ‰©å±•å‡½æ•°</strong>å®ç°çš„</p><p>Any.also() å’Œ Any.let()åº•å±‚æ˜¯è€ƒ ä¼ å…¥çš„å‡½æ•°æ˜¯<strong>æ™®é€šåŒ¿å</strong>å‡½æ•°å®ç°çš„</p><p>Any.apply()ä¸Any.also()ï¼Œå’ŒAny.run()ä¸ Any.let()å®ç°çš„åŠŸèƒ½ç›¸è¿‘ï¼Œåªæ˜¯åº•å±‚ä¸ä¸€æ ·</p><h4 id="Any-takeIf-å‡½æ•°ä¸Any-takeUnless-å‡½æ•°"><a href="#Any-takeIf-å‡½æ•°ä¸Any-takeUnless-å‡½æ•°" class="headerlink" title="Any.takeIf()å‡½æ•°ä¸Any.takeUnless()å‡½æ•°"></a>Any.takeIf()å‡½æ•°ä¸Any.takeUnless()å‡½æ•°</h4><ul><li>takeIf()å‡½æ•°ï¼šä¼ å…¥ä¸€ä¸ªåˆ¤æ–­è¡¨è¾¾å¼ï¼Œå¦‚æœè¡¨è¾¾å¼ä¸ºtrueåˆ™è¿”å›è°ƒç”¨è€…ï¼Œä¸ºfalseåˆ™è¿”å›null</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> T.<span class="title">takeIf</span><span class="params">(predicate: (<span class="type">T</span>) -&gt; <span class="type">Boolean</span>)</span></span>: T? &#123;</span><br><span class="line">    contract &#123;</span><br><span class="line">        callsInPlace(predicate, InvocationKind.EXACTLY_ONCE)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">if</span> (predicate(<span class="keyword">this</span>)) <span class="keyword">this</span> <span class="keyword">else</span> <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>takeUnless()å‡½æ•°ï¼šä¸takeIf()ç›¸å</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> T.<span class="title">takeIf</span><span class="params">(predicate: (<span class="type">T</span>) -&gt; <span class="type">Boolean</span>)</span></span>: T? &#123;</span><br><span class="line">    contract &#123;</span><br><span class="line">        callsInPlace(predicate, InvocationKind.EXACTLY_ONCE)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">if</span> (!predicate(<span class="keyword">this</span>)) <span class="keyword">this</span> <span class="keyword">else</span> <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åå˜ã€é€†å˜ã€æŠ—å˜"><a href="#åå˜ã€é€†å˜ã€æŠ—å˜" class="headerlink" title="*åå˜ã€é€†å˜ã€æŠ—å˜"></a>*åå˜ã€é€†å˜ã€æŠ—å˜</h3><p>æ³›å‹ç±»å‹å‚æ•°çš„é»˜è®¤æƒ…å†µä¸‹ï¼Œæ³›å‹å‚æ•°æ˜¯ <strong>ä¸å˜çš„ï¼ˆInvariantï¼‰</strong>ã€‚è¿™æ„å‘³ç€å¦‚æœ <code>B</code> æ˜¯ <code>A</code> çš„å­ç±»å‹ï¼Œé‚£ä¹ˆ <code>Box&lt;B&gt;</code> å¹¶ä¸æ˜¯ <code>Box&lt;A&gt;</code> çš„å­ç±»å‹</p><p>å¦‚æœ <code>B</code> æ˜¯ <code>A</code> çš„å­ç±»å‹ï¼Œæ­£å¸¸æƒ…å†µä¸‹åªèƒ½å­ç±»è½¬æ¢ä¸ºçˆ¶ç±»ï¼Œæ³›å‹ç±»å‹<code>Test&lt;T&gt;</code>å­˜åœ¨ä»¥ä¸‹å‡ ç§å½¢å˜ï¼š</p><ul><li>åå˜ (Covariance)ï¼šå› ä¸ºBæ˜¯Açš„å­ç±»ï¼Œæ‰€ä»¥<code>Test&lt;B&gt;</code>åŒæ ·æ˜¯<code>Test&lt;A&gt;</code>çš„å­ç±»ï¼Œå¯ä»¥ç›´æ¥è½¬æ¢</li><li>é€†å˜(Contravariance)ï¼šè·Ÿä¸Šé¢ç›¸åï¼Œ<code>Test&lt;A&gt;</code>å¯ä»¥ç›´æ¥è½¬æ¢ä¸º<code>Test&lt;B&gt;</code>ï¼Œå‰è€…æ˜¯åè€…çš„å­ç±»</li><li>æŠ—å˜ (Invariant)ï¼š<code>Test&lt;B&gt;</code>è·Ÿ<code>Test&lt;A&gt;</code>æ²¡åŠæ¯›é’±å…³ç³»ï¼Œæ— æ³•äº’ç›¸è½¬æ¢</li></ul><p>Kotlinä¸­æ³›å‹ç±»å‹å‚æ•°é»˜è®¤æ˜¯æŠ—å˜çš„</p><p>ä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬éœ€è¦çš„å¯èƒ½æ˜¯åå˜æˆ–æ˜¯é€†å˜ï¼Œä¸ºäº†å¤„ç†è¿™ç§æƒ…å†µï¼ŒKotlinæä¾›äº†ä¸¤ä¸ªå…³é”®å­—ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼š</p><ul><li><code>out</code> å…³é”®å­—ç”¨äºæ ‡è®°ä¸€ä¸ªç±»å‹å‚æ•°ä½œä¸ºåå˜ï¼Œå¯ä»¥å®ç°å­ç±»åˆ°çˆ¶ç±»çš„è½¬æ¢ã€‚</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> test1: Test&lt;<span class="built_in">Int</span>&gt; = Test(<span class="number">10</span>)</span><br><span class="line"><span class="keyword">val</span> test2: Test&lt;<span class="keyword">out</span> Number&gt; = test1<span class="comment">//åå˜</span></span><br><span class="line"><span class="comment">//è¿™é‡Œçš„out Number ç›¸å½“äºjavaä¸­çš„ ? extends Number</span></span><br></pre></td></tr></table></figure><p>â€‹out Number ä»£è¡¨ Numberæ‰€æœ‰çš„å­ç±»</p><p>â€‹åå˜ç±»å‹åœ¨ä½¿ç”¨æ—¶ä¼šå˜æˆä¸Šç•Œï¼Œå› ä¸ºæ— è®ºå­ç±»æ˜¯ä»€ä¹ˆï¼Œéƒ½æ˜¯ç»§æ‰¿è‡ªä¸Šç•Œç±»å‹çš„ï¼Œæ‰€ä»¥ç±»å‹é»˜è®¤ä¸ºä¸Šç•Œ</p><ul><li><code>in</code> å…³é”®å­—ç”¨äºæ ‡è®°ä¸€ä¸ªç±»å‹å‚æ•°ä½œä¸ºé€†å˜ï¼Œå¯ä»¥å®ç°çˆ¶ç±»åˆ°å­ç±»çš„è½¬æ¢ã€‚</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> test: Test&lt;Any&gt; = Test(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">val</span> test2: Test&lt;<span class="keyword">in</span> <span class="built_in">Int</span>&gt; = test</span><br></pre></td></tr></table></figure><p>â€‹in umber ä»£è¡¨Numberæ‰€æœ‰çš„çˆ¶ç±»</p><p>â€‹é€†å˜ç±»å‹åœ¨ä½¿ç”¨æ—¶ç”±äºæ²¡æœ‰ä¸Šç•Œï¼Œå…·ä½“ä½¿ç”¨å“ªä¸ªçˆ¶ç±»ä¹Ÿä¸æ¸…æ¥šï¼Œæ‰€ä»¥åªèƒ½æ˜¯Any?ç±»å‹äº†</p><blockquote><p>æ³¨æ„ï¼šå› ä¸ºåå˜åèµ‹å€¼å±æ€§ä¼šå¯¼è‡´BUGï¼Œæ‰€ä»¥Kotlinå¯¹äºoutæˆ–inçš„ç±»å‹è¿›è¡Œäº†é™åˆ¶</p><p>å› æ­¤ï¼Œå¯¹äºinå’Œoutæ¥è¯´ï¼Œåå˜å’Œé€†å˜çš„å±æ€§å°†å…¶é™åˆ¶ä¸ºäº†ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼š</p><ul><li>ä½¿ç”¨<code>out</code>ä¿®é¥°çš„æ³›å‹ä¸èƒ½ç”¨ä½œå‡½æ•°çš„å‚æ•°ï¼Œå¯¹åº”ç±»å‹çš„æˆå‘˜å˜é‡setterä¹Ÿä¼šè¢«é™åˆ¶ï¼Œåªèƒ½å½“åšä¸€ä¸ªç”Ÿäº§è€…ï¼ˆä»…ç”¨äºè¾“å‡ºï¼‰ä½¿ç”¨ã€‚</li><li>ä½¿ç”¨<code>in</code>ä¿®é¥°çš„æ³›å‹ä¸èƒ½ç”¨ä½œå‡½æ•°çš„è¿”å›å€¼ï¼Œå¯¹åº”ç±»å‹çš„æˆå‘˜å˜é‡getterä¹Ÿä¼šè¢«é™åˆ¶ï¼Œåªèƒ½å½“åšä¸€ä¸ªæ¶ˆè´¹è€…ï¼ˆä»…ç”¨äºè¾“å…¥ï¼‰ä½¿ç”¨ã€‚</li></ul></blockquote><h3 id="é€šé…ç¬¦ï¼ˆ-ï¼‰"><a href="#é€šé…ç¬¦ï¼ˆ-ï¼‰" class="headerlink" title="é€šé…ç¬¦ï¼ˆ*ï¼‰"></a>é€šé…ç¬¦ï¼ˆ*ï¼‰</h3><p>åœ¨æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½å¹¶ä¸åœ¨ä¹åˆ°åº•ä½¿ç”¨å“ªä¸€ä¸ªç±»å‹ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªå˜é‡å¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„ç»“æœï¼Œè€Œä¸æ˜¯å»å®šä¹‰æŸä¸€ä¸ªç‰¹å®šçš„ä¸Šç•Œæˆ–ä¸‹ç•Œã€‚åœ¨Kotlinæ³›å‹ä¸­ï¼Œæ˜Ÿå·ï¼ˆ<code>*</code>ï¼‰å¯ä»¥ä»£è¡¨ä»»æ„ç±»å‹ï¼Œç”±äºä¸ç¡®å®šå…·ä½“ç±»å‹ï¼Œä½¿ç”¨æ—¶åªèƒ½æ˜¯Any?ç±»å‹</p><h3 id="æ³›å‹ç•Œé™"><a href="#æ³›å‹ç•Œé™" class="headerlink" title="*æ³›å‹ç•Œé™"></a>*æ³›å‹ç•Œé™</h3><h4 id="å®šä¹‰ä¸Šç•Œ"><a href="#å®šä¹‰ä¸Šç•Œ" class="headerlink" title="å®šä¹‰ä¸Šç•Œ"></a>å®šä¹‰ä¸Šç•Œ</h4><ul><li>å•ä¸ªä¸Šç•Œ</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¾å®šç±»å‹å‚æ•°ä¸Šç•Œï¼Œå¿…é¡»æ˜¯Numberæˆ–æ˜¯Numberçš„å­ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Score</span>&lt;<span class="type">T : Number</span>&gt;(<span class="keyword">private</span> <span class="keyword">val</span> name: String, <span class="keyword">val</span> value: T)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ç±»ä¼¼äºç»§æ‰¿çš„è¯­æ³•æ¥å®Œæˆç±»å‹çš„ä¸Šç•Œé™åˆ¶ï¼Œå®šä¹‰åï¼Œä½¿ç”¨çš„æ—¶å€™å…·ä½“ç±»å‹åªèƒ½æ˜¯æˆ‘ä»¬æŒ‡å®šçš„ä¸Šç•Œç±»å‹æˆ–å…¶å­ç±»</p><p>é»˜è®¤ä¸æŒ‡å®šæ—¶ï¼Œä¸Šç•Œé»˜è®¤ä¸º<code>Any?</code></p><ul><li>å¤šä¸ªä¸Šç•Œï¼ˆæ¯”å¦‚å¿…é¡»åŒæ—¶æ˜¯æŸä¸¤ä¸ªç±»å‹çš„å­ç±»ï¼ˆæˆ–æ¥å£å®ç°ï¼‰ï¼‰</li></ul><p>ä½¿ç”¨<code>where</code>å…³é”®å­—</p><p>ä¾‹å¦‚ï¼šéœ€è¦åŒæ—¶æ˜¯Numberçš„å­ç±»ï¼ŒåŒæ—¶è¦å®ç°Comparableæ¥å£</p><h3 id="ç±»å‹æ“¦é™¤"><a href="#ç±»å‹æ“¦é™¤" class="headerlink" title="*ç±»å‹æ“¦é™¤"></a>*ç±»å‹æ“¦é™¤</h3><p>æ³›å‹çš„ç±»å‹æ£€æŸ¥ä»…ä»…åªå­˜åœ¨äºç¼–è¯‘é˜¶æ®µï¼Œåœ¨æºä»£ç ç¼–è¯‘ä¹‹åï¼Œå®é™…ä¸Šå¹¶ä¸ä¼šä¿ç•™ä»»ä½•å…³äºæ³›å‹çš„å†…å®¹ï¼Œè¿™å°±æ˜¯<strong>æ³›å‹æ“¦é™¤</strong></p><p>ä¾‹å¦‚ï¼šæ“¦é™¤å‰</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">private</span> <span class="keyword">var</span> <span class="keyword">data</span>: T) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">(t: <span class="type">T</span>)</span></span> : T &#123;</span><br><span class="line">        <span class="keyword">val</span> tmp = <span class="keyword">data</span></span><br><span class="line">        <span class="keyword">data</span> = t</span><br><span class="line">        <span class="keyword">return</span> tmp</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ“¦é™¤å(æ³›å‹ç±»å‹å…¨å˜æˆäº†Any?)</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>(<span class="keyword">private</span> <span class="keyword">var</span> <span class="keyword">data</span>: Any?)&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">(t: <span class="type">Any</span>?)</span></span>: Any?&#123;</span><br><span class="line">        <span class="keyword">val</span> temp = <span class="keyword">data</span></span><br><span class="line">        <span class="keyword">data</span> = t</span><br><span class="line">        <span class="keyword">return</span> temp</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå­˜åœ¨ä¸Šç•Œï¼Œé‚£ä¹ˆæ“¦é™¤åä¼šæ˜¯ä¸Šç•Œçš„ç±»å‹</p></blockquote><p>ç”±äºè¿è¡Œæ—¶ä¸å­˜åœ¨æ³›å‹çš„æ¦‚å¿µï¼Œå› æ­¤ï¼Œå¾ˆå¤šæ“ä½œéƒ½æ˜¯ä¸å…è®¸çš„ï¼Œæ¯”å¦‚ç±»å‹åˆ¤æ–­</p><h4 id="å†…è”æ³›å‹å‡½æ•°çš„ç±»å‹æ“¦é™¤"><a href="#å†…è”æ³›å‹å‡½æ•°çš„ç±»å‹æ“¦é™¤" class="headerlink" title="å†…è”æ³›å‹å‡½æ•°çš„ç±»å‹æ“¦é™¤"></a>å†…è”æ³›å‹å‡½æ•°çš„ç±»å‹æ“¦é™¤</h4><p>å†…è”å‡½æ•°ï¼Œæ³›å‹æ“¦é™¤çš„å¤„ç†ä¼šæœ‰ä¸€äº›ä¸åŒã€‚å†…è”å‡½æ•°çš„ä»£ç æ˜¯åœ¨ç¼–è¯‘æ—¶æœŸç›´æ¥æ’å…¥åˆ°è°ƒç”¨å¤„çš„ï¼Œåœ¨ç¼–è¯‘ä¹‹åå…·ä½“ç±»å‹å¿…é¡»è¦å­˜åœ¨ï¼Œå¦åˆ™ä¼šå‡ºç°é—®é¢˜ï¼ˆå› ä¸ºç±»å‹å¯ä»¥æ˜ç¡®ï¼‰å› æ­¤å…¶æ³›å‹å‚æ•°çš„å…·ä½“ç±»å‹ä¿¡æ¯æ˜¯å¯ç”¨çš„</p><p><strong>ç±»å‹ä¿¡æ¯åœ¨è°ƒç”¨å¤„ä¿ç•™</strong></p><p><strong>ä½¿ç”¨å…³é”®å­—<code>reified</code>å¯å…·åŒ–ç±»å‹å‚æ•°,è¿›è¡Œç±»å‹æ£€æŸ¥å’Œç±»å‹è½¬æ¢</strong></p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ reifiedå…³é”®å­—å…·åŒ–ç±»å‹å‚æ•°</span></span><br><span class="line"><span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;<span class="keyword">reified</span> T&gt;</span> <span class="title">isType</span><span class="params">(value: <span class="type">Any</span>)</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value <span class="keyword">is</span> T  <span class="comment">//è¿™æ ·å°±å¯ä»¥åœ¨å‡½æ•°é‡Œé¢ä½¿ç”¨è¿™ä¸ªç±»å‹äº†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    println(isType&lt;String&gt;(<span class="string">&quot;666&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><h3 id="åˆ›å»ºæ•°ç»„"><a href="#åˆ›å»ºæ•°ç»„" class="headerlink" title="åˆ›å»ºæ•°ç»„"></a>åˆ›å»ºæ•°ç»„</h3><ol><li>ä½¿ç”¨å®˜æ–¹é¢„è®¾å‡½æ•°ï¼ˆ<code>arrayOf()</code>ã€<code>arrayOfNulls()</code>ã€<code>emptyArray()</code>ï¼‰</li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arra: Array&lt;<span class="built_in">Int</span>&gt; = arrayOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨ç±»<code>Array</code>æ„é€ å‡½æ•°åˆ›å»ºã€‚</li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * size: æ•°ç»„çš„å¤§å°</span></span><br><span class="line"><span class="comment"> * init: (Int) -&gt; T: åˆå§‹åŒ–æ“ä½œï¼Œè¿™ä¸ªæ“ä½œä¼šæ ¹æ®æ•°ç»„å¤§å°ï¼Œå¾ªç¯è°ƒç”¨ä¼ å…¥çš„å‡½æ•°sizeæ¬¡ï¼Œå¹¶ä¸”å°†å¯¹åº”çš„ä¸‹æ ‡ä½œä¸ºå‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‡½æ•°ä¸­è¿”å›å½“å‰æ•°ç»„å…ƒç´ ç±»å‹çš„ç»“æœï¼Œè¿™æ ·å°±ä¼šè‡ªåŠ¨å¡«å……åˆ°æ•°ç»„çš„å¯¹åº”ä½ç½®ä¸Š</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="keyword">constructor</span>(size: <span class="built_in">Int</span>, <span class="keyword">init</span>: (<span class="built_in">Int</span>) -&gt; T)</span><br></pre></td></tr></table></figure><p>Arrayç±»çš„ä»£ç </p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Array</span>&lt;<span class="type">T</span>&gt; &#123;</span><br><span class="line">    <span class="comment">//æ„é€ å‡½æ•°ï¼ŒåŒ…æ‹¬æ•°ç»„å¤§å°ã€å…ƒç´ åˆå§‹åŒ–å‡½æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">inline</span> <span class="keyword">constructor</span>(size: <span class="built_in">Int</span>, <span class="keyword">init</span>: (<span class="built_in">Int</span>) -&gt; T)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é‡è½½[]è¿ç®—ç¬¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">get</span><span class="params">(index: <span class="type">Int</span>)</span></span>: T</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">set</span><span class="params">(index: <span class="type">Int</span>, value: <span class="type">T</span>)</span></span>: <span class="built_in">Unit</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å½“å‰æ•°ç»„å¤§å°ï¼ˆå¯ä»¥çœ‹åˆ°æ˜¯valç±»å‹çš„ï¼Œä¸€æ—¦ç¡®å®šä¸å¯ä¿®æ”¹ï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">val</span> size: <span class="built_in">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿­ä»£è¿ç®—é‡è½½</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">iterator</span><span class="params">()</span></span>: Iterator&lt;T&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong> æ•°ç»„åœ¨åˆ›å»ºå®Œæˆä¹‹åï¼Œæ•°ç»„å®¹é‡å’Œå…ƒç´ ç±»å‹æ˜¯å›ºå®šä¸å˜çš„ï¼Œåç»­æ— æ³•è¿›è¡Œä¿®æ”¹ã€‚</p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><h4 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> array: Array&lt;<span class="built_in">Int</span>&gt; = arrayof(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(element <span class="keyword">in</span> array)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–åˆ°å¯¹åº”ç´¢å¼•</span></span><br><span class="line"><span class="keyword">for</span>(index <span class="keyword">in</span> array.indices)&#123;</span><br><span class="line">    println(array[index])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒæ—¶éå†ç´¢å¼•å’Œå…ƒç´ æœ¬èº«ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨withIndexå‡½æ•°</span></span><br><span class="line"><span class="keyword">for</span> ((index,element) <span class="keyword">in</span> array.withIndex())&#123;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨Lambdaè¡¨è¾¾å¼å½¢å¼</span></span><br><span class="line"><span class="comment">//Lambdaéå†ç´¢å¼•,å’Œå…ƒç´ </span></span><br><span class="line">array.forEachIndexed &#123; index, i -&gt;println(<span class="string">&quot;å…ƒç´ <span class="variable">$i</span> ,ä½ç½®<span class="variable">$index</span>&quot;</span>)&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//Lambdaéå†å…ƒç´ </span></span><br><span class="line">array.forEach &#123; println(<span class="string">&quot;å…ƒç´ å€¼:<span class="variable">$it</span>&quot;</span>) &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ‰“å°"><a href="#æ‰“å°" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Array<span class="type">&lt;out T&gt;</span>.<span class="title">joinToString</span><span class="params">(separator: <span class="type">CharSequence</span> = <span class="string">&quot;, &quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">                                         , prefix: <span class="type">CharSequence</span> = <span class="string">&quot;&quot;</span>, postfix: <span class="type">CharSequence</span> = <span class="string">&quot;&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">                                         , limit: <span class="type">Int</span> = <span class="number">-1</span>, truncated: <span class="type">CharSequence</span> = <span class="string">&quot;...&quot;</span></span></span></span><br><span class="line"><span class="params"><span class="function">                                         , transform: ((<span class="type">T</span>) -&gt; <span class="type">CharSequence</span>)? = <span class="literal">null</span>)</span></span></span><br><span class="line">: String &#123;</span><br><span class="line">    <span class="keyword">return</span> joinTo(StringBuilder(), separator, prefix, postfix, limit, truncated, transform).toString()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>separator</code>: åˆ†éš”ç¬¦</p><p><code>prefix</code>: å‰ç¼€</p><p><code>postfix</code>: åç¼€</p><p><code>limit</code>: æ˜¾ç¤ºå‡ ä¸ªå…ƒç´ </p><p><code>truncated</code>: å½“å…ƒç´ æ•°é‡è¶…è¿‡ <code>limit</code> æ—¶ï¼Œç”¨äºè¡¨ç¤ºæˆªæ–­éƒ¨åˆ†çš„å­—ç¬¦ä¸²</p><p><code>transform</code>ä¸€ä¸ªå¯é€‰çš„è½¬æ¢å‡½æ•°ï¼Œç”¨äºå°†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´  <code>T</code> è½¬æ¢ä¸º <code>CharSequence</code> ç±»å‹</p><h4 id="æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„"><a href="#æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„" class="headerlink" title="æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„"></a>æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»å†…å®¹ä¸Šæ¯”è¾ƒ2ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">actual</span> <span class="keyword">inline</span> <span class="keyword">infix</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Array<span class="type">&lt;out T&gt;</span>?.<span class="title">contentEquals</span><span class="params">(other: <span class="type">Array</span>&lt;<span class="type">out</span> <span class="type">T</span>&gt;?)</span></span>: <span class="built_in">Boolean</span></span><br></pre></td></tr></table></figure><h4 id="æ‹·è´æ•°ç»„"><a href="#æ‹·è´æ•°ç»„" class="headerlink" title="æ‹·è´æ•°ç»„"></a>æ‹·è´æ•°ç»„</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">actual</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Array<span class="type">&lt;T&gt;</span>.<span class="title">copyOf</span><span class="params">()</span></span>: Array&lt;T&gt;<span class="comment">//å®Œæ•´æ‹·è´</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">actual</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Array<span class="type">&lt;T&gt;</span>.<span class="title">copyOf</span><span class="params">(newSize: <span class="type">Int</span>)</span></span>: Array&lt;T?&gt;<span class="comment">//æ–°æ•°ç»„çš„é•¿åº¦ï¼Œæ‰©å®¹åˆ™å¤šçš„å¡«å……null </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">actual</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Array<span class="type">&lt;T&gt;</span>.<span class="title">copyOfRange</span><span class="params">(fromIndex: <span class="type">Int</span>, toIndex: <span class="type">Int</span>)</span></span>: Array&lt;T&gt;<span class="comment">//æ‹·è´èŒƒå›´çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Array<span class="type">&lt;T&gt;</span>.<span class="title">sliceArray</span><span class="params">(indices: <span class="type">IntRange</span>)</span></span>: Array&lt;T&gt;<span class="comment">///æ‹·è´èŒƒå›´çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure><h4 id="æŸ¥æ‰¾å…ƒç´ "><a href="#æŸ¥æ‰¾å…ƒç´ " class="headerlink" title="æŸ¥æ‰¾å…ƒç´ "></a>æŸ¥æ‰¾å…ƒç´ </h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Array&lt;<span class="keyword">out</span> T&gt;.contains(element: T): <span class="built_in">Boolean</span><span class="comment">//æŸ¥è¯¢æ•°ç»„æ˜¯å¦åŒ…å«element</span></span><br><span class="line"></span><br><span class="line">element <span class="keyword">in</span> array<span class="comment">//å°±ç›¸å½“äºä¸Šé¢</span></span><br><span class="line"></span><br><span class="line">Array&lt;<span class="keyword">out</span> T&gt;.indexOf(element: T): <span class="built_in">Int</span><span class="comment">//è¿”å›ç´¢å¼•</span></span><br><span class="line">Array&lt;<span class="keyword">out</span> T&gt;.binarySearch(element: T, fromIndex: <span class="built_in">Int</span> = <span class="number">0</span>, toIndex: <span class="built_in">Int</span> = size)<span class="comment">//äºŒåˆ†æœç´¢ï¼ˆå¿…é¡»æ˜¯æœ‰åºçš„ï¼‰</span></span><br></pre></td></tr></table></figure><h4 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">actual</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T : Comparable&lt;T&gt;</span>&gt; Array<span class="type">&lt;out T&gt;</span>.<span class="title">sort</span><span class="params">()</span></span>: <span class="built_in">Unit</span><span class="comment">//é»˜è®¤å‡åº</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T : Comparable&lt;T&gt;</span>&gt; Array<span class="type">&lt;out T&gt;</span>.<span class="title">sortDescending</span><span class="params">()</span></span>: <span class="built_in">Unit</span><span class="comment">//é™åº</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦ç”¨sortå‡½æ•°åˆ™é¦–å…ˆç±»å‹éœ€è¦å®ç°Comparableæ¥å£</p><p><em>ä½¿ç”¨å½“å‰å¯¹è±¡thiså’Œç»™å®šå¯¹è±¡otherè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœè¿”å›å°äº0çš„æ•°ï¼Œè¯´æ˜å½“å‰å¯¹è±¡åº”è¯¥æ’åœ¨å‰é¢ï¼Œåä¹‹æ’åé¢ï¼Œè¿”å›0è¡¨ç¤ºåŒæ ·çš„çº§åˆ«</em></p><h3 id="å¯å˜é•¿åº¦å‚æ•°ï¼Œæ‰©å±•è¿ç®—ç¬¦"><a href="#å¯å˜é•¿åº¦å‚æ•°ï¼Œæ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="å¯å˜é•¿åº¦å‚æ•°ï¼Œæ‰©å±•è¿ç®—ç¬¦"></a>å¯å˜é•¿åº¦å‚æ•°ï¼Œæ‰©å±•è¿ç®—ç¬¦</h3><p>å…³é”®å­—ï¼š<code>vararg</code></p><blockquote><ul><li>å¯å˜é•¿åº¦å‚æ•°ä¸€èˆ¬æ”¾åœ¨åé¢ï¼ˆfun test(a: String , vararg str: String)ï¼‰</li><li>ä½†æ˜¯éœ€è¦æ³¨æ„çš„äº‹ï¼Œå¯å˜é•¿å‚æ•°åœ¨å‡½æ•°çš„å½¢å‚åˆ—è¡¨é‡Œé¢åªèƒ½å­˜åœ¨ä¸€ä¸ª</li></ul></blockquote><p>åœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯å˜é•¿åº¦å‚æ•°ä¸ºä¸€ä¸ªæ”¯æŒåå˜çš„æ•°ç»„</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">(a:<span class="type">String</span>,<span class="keyword">vararg</span> str: <span class="type">String</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> array: Array&lt;<span class="keyword">out</span> String&gt; = str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æŠŠæ•°ç»„ä½œä¸ºå‚æ•°ç»™åˆ°ä¸€ä¸ªå¯å˜é•¿å‚æ•°ä¸­,<strong>æ‰©å±•è¿ç®—ç¬¦</strong>ï¼ˆ<code>*</code>ï¼‰æ­¤è¿ç®—ç¬¦å°†æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ä½œä¸ºå•ä¸ªå‚æ•°ä¼ é€’</li></ul><h3 id="åŸç”Ÿç±»å‹æ•°ç»„"><a href="#åŸç”Ÿç±»å‹æ•°ç»„" class="headerlink" title="åŸç”Ÿç±»å‹æ•°ç»„"></a>åŸç”Ÿç±»å‹æ•°ç»„</h3><p><code>Array&lt;Int&gt;</code>ã€<code>Array&lt;Double&gt;</code>ã€<code>Array&lt;Char&gt;</code>ç­‰ç­‰ï¼Œè¿™äº›åŒ…å«åŸºæœ¬ç±»å‹çš„æ•°ç»„å¾€å¾€åœ¨ç¼–è¯‘æ—¶å¯ä»¥å¾—åˆ°ä¼˜åŒ–ï¼ˆæ¯”å¦‚JVMå¹³å°ä¼šç›´æ¥ç¼–è¯‘ä¸ºåŸºæœ¬ç±»å‹æ•°ç»„ï¼Œå¦‚<code>int[]</code>ã€<code>double[]</code>ç­‰ï¼Œå¯ä»¥å…å»è£…ç®±æ‹†ç®±å¼€é”€ï¼‰</p><table><thead><tr><th>åŸç”Ÿç±»å‹æ•°ç»„</th><th>ç›¸å½“äºJava</th></tr></thead><tbody><tr><td><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean-array/"><code>BooleanArray</code></a></td><td><code>boolean[]</code></td></tr><tr><td><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-byte-array/"><code>ByteArray</code></a></td><td><code>byte[]</code></td></tr><tr><td><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char-array/"><code>CharArray</code></a></td><td><code>char[]</code></td></tr><tr><td><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-double-array/"><code>DoubleArray</code></a></td><td><code>double[]</code></td></tr><tr><td><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-float-array/"><code>FloatArray</code></a></td><td><code>float[]</code></td></tr><tr><td><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int-array/"><code>IntArray</code></a></td><td><code>int[]</code></td></tr><tr><td><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long-array/"><code>LongArray</code></a></td><td><code>long[]</code></td></tr><tr><td><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-short-array/"><code>ShortArray</code></a></td><td><code>short[]</code></td></tr></tbody></table><ul><li>åˆ›å»ºåŸç”Ÿç±»å‹æ•°ç»„ï¼š1. æ„é€ å‡½æ•°   2. intArrayOf()</li></ul><blockquote><p>å¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å¯å˜é•¿åº¦å‚æ•°ï¼Œåˆ™åœ¨å‡½æ•°ä¸­å‚æ•°é»˜è®¤æ˜¯åŸç”Ÿç±»å‹æ•°ç»„</p></blockquote><h4 id="åµŒå¥—æ•°ç»„"><a href="#åµŒå¥—æ•°ç»„" class="headerlink" title="åµŒå¥—æ•°ç»„"></a>åµŒå¥—æ•°ç»„</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//äºŒç»´æ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> array = arrayOf(intArrayOf(<span class="number">1</span>, <span class="number">2</span>), intArrayOf(<span class="number">3</span>, <span class="number">4</span>), intArrayOf(<span class="number">5</span>, <span class="number">6</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//äºŒç»´æ•°ç»„æ„é€ å‡½æ•°æ³•</span></span><br><span class="line"><span class="keyword">var</span> array = Array(<span class="number">3</span>, &#123; Array(<span class="number">2</span>) &#123; <span class="number">0</span> &#125; &#125;)</span><br><span class="line"><span class="comment">////&#123;&#123;0,0&#125;,&#123;0,0&#125;,&#123;0,0&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ›´é«˜ç»´åº¦åŒç†</span></span><br></pre></td></tr></table></figure><p>å¤šå±‚æ¯”è¾ƒå¯ä»¥ç”¨ï¼š<code>contentDeepEquals()</code></p><h2 id="é›†åˆç±»"><a href="#é›†åˆç±»" class="headerlink" title="é›†åˆç±»"></a>é›†åˆç±»</h2><p>å®ç°æ¥å£Collection</p><p><strong>Listï¼š</strong>  æœ‰åºçš„é›†åˆï¼Œé€šè¿‡ç´¢å¼•è®¿é—®å…ƒç´ ï¼Œå¯ä»¥åŒ…å«é‡å¤å…ƒç´ </p><p><strong>Setï¼š</strong>  ä¸åŒ…å«é‡å¤å…ƒç´ çš„é›†åˆï¼Œå®ƒæ›´åƒæ˜¯æ•°å­¦ä¸­çš„é›†åˆï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ç»´æŠ¤å…ƒç´ é¡ºåº</p><p><strong>Mapï¼š</strong>  æ˜¯ä¸€ç»„é”®å€¼å¯¹ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªé”®ä¸å¯é‡å¤å­˜åœ¨ï¼Œæ¯ä¸ªé”®éƒ½æ˜ å°„åˆ°æ°å¥½ä¸€ä¸ªå€¼ï¼ˆå€¼å¯ä»¥é‡å¤å­˜åœ¨ï¼‰</p><h3 id="Listé›†åˆ"><a href="#Listé›†åˆ" class="headerlink" title="Listé›†åˆ"></a>Listé›†åˆ</h3><h4 id="å¯å˜Listé›†åˆMutableList"><a href="#å¯å˜Listé›†åˆMutableList" class="headerlink" title="å¯å˜Listé›†åˆMutableList"></a>å¯å˜Listé›†åˆMutableList</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list: MutableList&lt;String&gt; = mutableListOf(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span> , <span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span> )</span><br></pre></td></tr></table></figure><h4 id="ä¸å¯å˜é›†åˆList"><a href="#ä¸å¯å˜é›†åˆList" class="headerlink" title="ä¸å¯å˜é›†åˆList"></a>ä¸å¯å˜é›†åˆList</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list: List&lt;String&gt; = listOf(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span> , <span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span> )</span><br></pre></td></tr></table></figure><h3 id="Seté›†åˆ"><a href="#Seté›†åˆ" class="headerlink" title="Seté›†åˆ"></a>Seté›†åˆ</h3><p>å®ƒä¸å…è®¸å­˜åœ¨é‡å¤å…ƒç´ ï¼Œé€šå¸¸æƒ…å†µä¸‹æ˜¯æ— åºçš„ï¼Œå¦‚æœéè¦è®¿é—®ç¬¬Nä¸ªå…ƒç´ ï¼Œå¯ä»¥ç”¨è¿­ä»£å™¨æ¥è®¿é—®</p><h4 id="å¯å˜Seté›†åˆ-MutableSet"><a href="#å¯å˜Seté›†åˆ-MutableSet" class="headerlink" title="å¯å˜Seté›†åˆ MutableSet"></a>å¯å˜Seté›†åˆ MutableSet</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">mutableSetOf</span><span class="params">(<span class="keyword">vararg</span> elements: <span class="type">T</span>)</span></span>: MutableSet&lt;T&gt; </span><br></pre></td></tr></table></figure><blockquote><p>åº•å±‚æ˜¯ LinkedHashSet</p></blockquote><h4 id="ä¸å¯å˜Seté›†åˆ-Set"><a href="#ä¸å¯å˜Seté›†åˆ-Set" class="headerlink" title="ä¸å¯å˜Seté›†åˆ Set"></a>ä¸å¯å˜Seté›†åˆ Set</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">setOf</span><span class="params">()</span></span>: Set&lt;T&gt;</span><br></pre></td></tr></table></figure><h4 id="é›†åˆæ“ä½œ"><a href="#é›†åˆæ“ä½œ" class="headerlink" title="é›†åˆæ“ä½œ"></a>é›†åˆæ“ä½œ</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> set1 = mutableSetOf(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> set2 = mutableSetOf(<span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;D&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¹¶é›†(å’Œ + è¿ç®—æ•ˆæœä¸€æ ·)</span></span><br><span class="line">println(set1 union  set2)<span class="comment">//A B C D</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ±‚äº¤é›†</span></span><br><span class="line">println((set1 intersect set2)) <span class="comment">//B C</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ±‚å·®é›†(å’Œ - è¿ç®—æ•ˆæœä¸€æ ·)</span></span><br><span class="line">println((set1 subtract set2))  <span class="comment">// A</span></span><br></pre></td></tr></table></figure><blockquote><p>é›†åˆç›¸å…³æ“ä½œä¹Ÿå¯ä»¥åº”ç”¨äºListé›†åˆï¼Œä½†æ˜¯è®¡ç®—å¾—åˆ°çš„ç»“æœå§‹ç»ˆæ˜¯Seté›†åˆ</p></blockquote><h4 id="å…¶ä»–ç”¨äºåˆ›å»ºçš„é¢„è®¾å‡½æ•°"><a href="#å…¶ä»–ç”¨äºåˆ›å»ºçš„é¢„è®¾å‡½æ•°" class="headerlink" title="å…¶ä»–ç”¨äºåˆ›å»ºçš„é¢„è®¾å‡½æ•°"></a>å…¶ä»–ç”¨äºåˆ›å»ºçš„é¢„è®¾å‡½æ•°</h4><p>HashSet</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> <span class="keyword">set</span> = hashSetOf(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;DDD&quot;</span>, <span class="string">&quot;BBB&quot;</span>)   <span class="comment">//åˆ›ä¸€ä¸ªä¸é‡å¤ä¸”æ— åºçš„Seté›†åˆ</span></span><br></pre></td></tr></table></figure><p>LinkedSet</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> <span class="keyword">set</span> = linkedSetOf(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;DDD&quot;</span>, <span class="string">&quot;BBB&quot;</span>)  <span class="comment">//è·ŸmutableSetOfä¸€æ ·å¾—åˆ°ä¸€ä¸ªä¸é‡å¤ä¸”æœ‰åºçš„Seté›†åˆ</span></span><br></pre></td></tr></table></figure><p>å…ƒç´ è‡ªåŠ¨æ’åºçš„Seté›†åˆï¼Œå¯è‡ªå®šä¹‰æ’åºè§„åˆ™ï¼ŒSortedSet</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sortedSet = sortedSetOf(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure><h4 id="HashSetåˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸åŒçš„è¿‡ç¨‹"><a href="#HashSetåˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸åŒçš„è¿‡ç¨‹" class="headerlink" title="HashSetåˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸åŒçš„è¿‡ç¨‹"></a>HashSetåˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸åŒçš„è¿‡ç¨‹</h4><ol><li>è®¡ç®—HashCodeï¼šè°ƒç”¨å¯¹è±¡çš„<code>hashCode()</code>å‡½æ•°</li><li>æ¯”è¾ƒHasCodeï¼šå¦‚æœä¿©å…ƒç´ çš„HashCodeç›¸åŒï¼Œåˆ™è®¡ç®—æœºè®¤ä¸ºè¿™æ˜¯2ä¸ªä¸åŒçš„å…ƒç´ ï¼›å¦‚æœç›¸åŒåˆ™è¿›è¡Œæ­¥éª¤3</li><li>è°ƒç”¨<code>equals()</code>å‡½æ•°ï¼šè‹¥ä¸¤ä¸ªå…ƒç´ çš„å“ˆå¸Œç ç›¸åŒï¼Œè¿™å¯èƒ½æ˜¯ä¸åŒå…ƒç´ å‡ºç°äº†å“ˆå¸Œå†²çªï¼Œæ‰€ä»¥æ­¤æ—¶è®¡ç®—æœºä¼šè°ƒç”¨å¯¹è±¡çš„<code>equals()</code>å‡½æ•°è¿›è¡Œæ¯”è¾ƒï¼Œåªæœ‰å½“<code>equals()</code>å‡½æ•°è¿”å›ä¸ºtrueæ—¶ï¼Œè®¡ç®—æœºè®¤ä¸ºè¿™æ˜¯åŒä¸€ä¸ªå…ƒç´ </li></ol><blockquote><ol><li>é‡å†™ <code>equals()</code> æ–¹æ³•æ—¶ï¼Œå¿…é¡»åŒæ—¶é‡å†™ <code>hashCode()</code> æ–¹æ³•ï¼Œä»¥ä¿è¯ä¸¤ä¸ªç›¸ç­‰çš„å¯¹è±¡å…·æœ‰ç›¸åŒçš„å“ˆå¸Œç ï¼Œè¿™æ˜¯ å¯¹è±¡ç›¸ç­‰æ€§çš„åŸºæœ¬è¦æ±‚</li><li>å¦‚æœæ²¡æœ‰é‡å†™<code>equals()</code>æ–¹æ³•å’Œ<code>hashCode()</code>å‡½æ•°ï¼Œè®¡ç®—æœºä¼šè°ƒç”¨Anyç±»çš„é»˜è®¤å®ç°â€”æ¯”è¾ƒå¯¹è±¡çš„å¼•ç”¨&#x3D;&#x3D;&#x3D;</li></ol></blockquote><h4 id="é‡å†™equlas-çš„åŒæ—¶ï¼Œå¿…é¡»é‡å†™hashCode"><a href="#é‡å†™equlas-çš„åŒæ—¶ï¼Œå¿…é¡»é‡å†™hashCode" class="headerlink" title="é‡å†™equlas()çš„åŒæ—¶ï¼Œå¿…é¡»é‡å†™hashCode()"></a>é‡å†™equlas()çš„åŒæ—¶ï¼Œå¿…é¡»é‡å†™hashCode()</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è®¡ç®—å¹¶è¿”å›å¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œå“ˆå¸Œå‡½æ•°çš„è®¡ç®—ç»“æœéœ€è¦æ»¡è¶³ä»¥ä¸‹æ ‡å‡†:</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * * æ ‡å‡†1: å¯¹åŒä¸€ä¸ªå¯¹è±¡è°ƒç”¨æ­¤å‡½æ•°æ—¶ï¼Œåº”è¯¥å§‹ç»ˆè¿”å›åŒä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œé™¤éé‡å†™è¿‡ç±»çš„equalså‡½æ•°ï¼Œä¿®æ”¹è¿‡æ¯”è¾ƒæ–¹å¼</span></span><br><span class="line"><span class="comment"> * * æ ‡å‡†2: å¦‚æœä¸¤ä¸ªå¯¹è±¡ä½¿ç”¨equalså‡½æ•°åˆ¤æ–­çš„ç»“æœä¸ºç›¸åŒï¼Œé‚£ä¹ˆå®ƒä»¬è®¡ç®—å¾—åˆ°çš„å“ˆå¸Œå€¼ä¹Ÿåº”è¯¥ç›¸åŒ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">open</span> <span class="function"><span class="keyword">fun</span> <span class="title">hashCode</span><span class="params">()</span></span>: <span class="built_in">Int</span></span><br></pre></td></tr></table></figure><p><code>hashCode()</code>é»˜è®¤è¿”å›å¯¹è±¡åœ¨å†…å­˜ä¸­å­˜æ”¾çš„åœ°å€ï¼Œä»¥intç±»å‹è¡¨ç¤º</p><h3 id="Mapé›†åˆ"><a href="#Mapé›†åˆ" class="headerlink" title="Mapé›†åˆ"></a>Mapé›†åˆ</h3><h4 id="é”®å€¼å¯¹"><a href="#é”®å€¼å¯¹" class="headerlink" title="é”®å€¼å¯¹"></a>é”®å€¼å¯¹</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">infix</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;A, B&gt;</span> A.<span class="title">to</span><span class="params">(that: <span class="type">B</span>)</span></span>: Pair&lt;A, B&gt; = Pair(<span class="keyword">this</span>, that)</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚:</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pair: Pair&lt;<span class="built_in">Int</span>,String&gt; = <span class="number">100</span> to <span class="string">&quot;å°çº¢&quot;</span></span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºMap"><a href="#åˆ›å»ºMap" class="headerlink" title="åˆ›å»ºMap"></a>åˆ›å»ºMap</h4><h5 id="å¯å˜Mapé›†åˆ-MutableMap"><a href="#å¯å˜Mapé›†åˆ-MutableMap" class="headerlink" title="å¯å˜Mapé›†åˆ(MutableMap)"></a>å¯å˜Mapé›†åˆ(MutableMap)</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;K, V&gt;</span> <span class="title">mutableMapOf</span><span class="params">(<span class="keyword">vararg</span> pairs: <span class="type">Pair</span>&lt;<span class="type">K</span>, V&gt;)</span></span>: MutableMap&lt;K, V&gt; </span><br></pre></td></tr></table></figure><h5 id="ä¸å¯å˜Mapé›†åˆ-Map"><a href="#ä¸å¯å˜Mapé›†åˆ-Map" class="headerlink" title="ä¸å¯å˜Mapé›†åˆ(Map)"></a>ä¸å¯å˜Mapé›†åˆ(Map)</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;K, V&gt;</span> <span class="title">mapOf</span><span class="params">(<span class="keyword">vararg</span> pairs: <span class="type">Pair</span>&lt;<span class="type">K</span>, V&gt;)</span></span>: Map&lt;K, V&gt;</span><br></pre></td></tr></table></figure><h4 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸è¯¥é”®å…³è”çš„å‰ä¸€ä¸ªå€¼ï¼Œæˆ– null å¦‚æœkeyä¸åœ¨mapä¸Š</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="title">put</span><span class="params">(key: <span class="type">K</span>, value: <span class="type">V</span>)</span></span>: V?</span><br><span class="line"></span><br><span class="line">map[key: K] = Value: V</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å…¶ä»–èŠ±å¼æ·»åŠ </p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> newMap = map + (<span class="number">10004</span> to Student(<span class="string">&quot;å°å¼º&quot;</span>, <span class="number">18</span>))   <span class="comment">//æ·»åŠ æ–°çš„é”®å€¼å¯¹å¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„Map</span></span><br><span class="line">map += (<span class="number">10004</span> to Student(<span class="string">&quot;å°å¼º&quot;</span>, <span class="number">18</span>))  <span class="comment">//ç›´æ¥æ·»åŠ é”®å€¼å¯¹åˆ°å½“å‰Mapé‡Œé¢</span></span><br><span class="line">map += mapOf(<span class="number">10004</span> to Student(<span class="string">&quot;å°å¼º&quot;</span>, <span class="number">18</span>))  <span class="comment">//æˆ–è€…æ·»åŠ å…¶ä»–Mapåˆ°æ­¤Mapä¸­</span></span><br><span class="line">map.putAll(mapOf(<span class="number">10004</span> to Student(<span class="string">&quot;å°å¼º&quot;</span>, <span class="number">18</span>)))   <span class="comment">//æ·»åŠ å…¶ä»–Mapåˆ°æ­¤Mapä¸­</span></span><br><span class="line">map.putAll(setOf(<span class="number">10004</span> to Student(<span class="string">&quot;å°å¼º&quot;</span>, <span class="number">18</span>)))   <span class="comment">//é”®å€¼å¯¹é›†åˆä¹Ÿå¯ä»¥çš„</span></span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„ä¸€ä¸ªKeyåªèƒ½å¯¹åº”ä¸€ä¸ªValueï¼Œé‡å¤èµ‹å€¼ä¼šè¢«è¦†ç›–</li></ul><h4 id="åˆ "><a href="#åˆ " class="headerlink" title="åˆ "></a>åˆ </h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»æ­¤æ˜ å°„ä¸­åˆ é™¤æŒ‡å®šçš„é”®åŠå…¶å¯¹åº”çš„å€¼ã€‚</span></span><br><span class="line"><span class="comment">//è¿”å›:ä¸è¯¥é”®å…³è”çš„å‰ä¸€ä¸ªå€¼ï¼Œæˆ– null å¦‚æœkeyä¸åœ¨Mapä¸Šã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="title">remove</span><span class="params">(key: <span class="type">K</span>)</span></span>: V?</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»…å½“æŒ‡å®šé”®æ˜ å°„åˆ°æŒ‡å®šå€¼æ—¶ï¼Œæ‰åˆ é™¤æŒ‡å®šé”®çš„é¡¹ã€‚</span></span><br><span class="line"><span class="comment">//è¿”å›:å¦‚æœæ¡ç›®è¢«åˆ é™¤ï¼Œåˆ™ä¸ºTrue</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="title">remove</span><span class="params">(key: <span class="type">K</span>, value: <span class="type">V</span>)</span></span>: <span class="built_in">Boolean</span></span><br></pre></td></tr></table></figure><ul><li><p>å…¶ä»–èŠ±å¼ç§»é™¤</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map -= <span class="number">10001</span>   <span class="comment">//ç­‰ä»·äº map.remove(10001)</span></span><br><span class="line">map -= listOf(<span class="number">10001</span>, <span class="number">10002</span>)   <span class="comment">//æ‰¹é‡ç§»é™¤</span></span><br></pre></td></tr></table></figure></li><li><p>æ ¹æ®Valueåˆ é™¤é”®å€¼å¯¹</p></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map.values.remove(value: V)</span><br><span class="line"><span class="comment">//é€šè¿‡è¿™ç§æ–¹å¼ç§»é™¤ä¹Ÿåªä¼šç§»é™¤æŒ‰é¡ºåºä¸‹æ¥çš„ç¬¬ä¸€ä¸ª</span></span><br></pre></td></tr></table></figure><h4 id="æ”¹"><a href="#æ”¹" class="headerlink" title="æ”¹"></a>æ”¹</h4><p>åŒå¢</p><h4 id="æŸ¥"><a href="#æŸ¥" class="headerlink" title="æŸ¥"></a>æŸ¥</h4><p>ä½¿ç”¨<code>[]</code>è¿ç®—ç¬¦é€šè¿‡KeyæŸ¥æ‰¾Value</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">get</span><span class="params">(key: <span class="type">K</span>)</span></span>: V?</span><br><span class="line"></span><br><span class="line">map.getOrDefault(key: K, defaultValue: V)<span class="comment">//ä½¿ç”¨getOrDefaultåœ¨æ²¡æœ‰ç»“æœæ—¶è¿”å›ç»™å®šçš„é»˜è®¤å€¼</span></span><br><span class="line">map.getOrElse(key: K, defaultValue: () -&gt; V)<span class="comment">//è·Ÿä¸Šé¢ä¸€æ ·ï¼Œåªä¸è¿‡æ˜¯ä½¿ç”¨å‡½æ•°å¼è¿”å›é»˜è®¤å€¼</span></span><br><span class="line">map.getOrPut(key: K, defaultValue: V)<span class="comment">//åœ¨æ²¡æœ‰è¿”å›å€¼çš„æ—¶å€™æŠŠé»˜è®¤å€¼ç»™åŠ åˆ°Mapé‡Œé¢å»,å¹¶è¿”å›</span></span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> map = mutableMapOf(</span><br><span class="line">        <span class="number">1</span> to Student(<span class="string">&quot;å°çº¢&quot;</span>, <span class="number">18</span>),</span><br><span class="line">        <span class="number">2</span> to Student(<span class="string">&quot;å°æ˜&quot;</span>,<span class="number">12</span>),</span><br><span class="line">        <span class="number">3</span> to Student(<span class="string">&quot;å¼ ä¸‰&quot;</span>,<span class="number">19</span>)</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">var</span> student: Student? = map[<span class="number">1</span>]</span><br></pre></td></tr></table></figure><blockquote><ul><li>æ³¨æ„ï¼šå¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ªå¯ç©ºçš„ç±»å‹â€”â€“&gt;å½“Mapä¸­ä¸å­˜åœ¨æŒ‡å®šçš„Keyæ—¶ï¼Œä¼šç›´æ¥å¾—åˆ°nullä½œä¸ºç»“æœ</li></ul></blockquote><ul><li>æŸ¥è¯¢æ˜¯å¦å­˜åœ¨</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŸ¥è¯¢æ˜¯å¦åŒ…å«Key</span></span><br><span class="line">map.contains(key: K)</span><br><span class="line">map.containsKey()</span><br><span class="line">key <span class="keyword">in</span> map</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯åŒ…å«æŒ‡å®šValue</span></span><br><span class="line">map.containsValue(value: V)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>æ³¨æ„ï¼šåªèƒ½é€šè¿‡Keyå»è®¿é—®Valueï¼Œè€Œä¸èƒ½é€šè¿‡Valueå»è®¿é—®Keyï¼Œæ˜ å°„å…³ç³»æ˜¯å•å‘çš„</p></li><li><p>è·å–keysï¼Œvalues</p></li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map.keys</span><br><span class="line">map.values</span><br></pre></td></tr></table></figure><h4 id="éå†é›†åˆ"><a href="#éå†é›†åˆ" class="headerlink" title="éå†é›†åˆ"></a>éå†é›†åˆ</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">map.forEach &#123; k, v -&gt;</span><br><span class="line">    println(<span class="string">&quot;é”®:<span class="variable">$k</span>,å€¼<span class="variable">$v</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h3><p>æ¥å£ï¼šIterable</p><p>ç”Ÿæˆè¿­ä»£å™¨å‡½æ•°ï¼špublic operator fun iterator(): Iterator<T></p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Iterator</span>&lt;<span class="type">out T</span>&gt; &#123;</span><br><span class="line">    <span class="comment">//è·å–ä¸‹ä¸€ä¸ªå¾…éå†å…ƒç´ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">next</span><span class="params">()</span></span>: T</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¦‚æœè¿˜æœ‰å…ƒç´ æ²¡æœ‰éå†ï¼Œé‚£ä¹ˆè¿”å›trueå¦åˆ™è¿”å›falseï¼Œè€Œè¿™ä¸ªå‡½æ•°ä¹Ÿæ˜¯è¿ç®—ç¬¦é‡è½½å‡½æ•°æ­£å¥½å¯¹åº”ç€ for in æ“ä½œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">hasNext</span><span class="params">()</span></span>: <span class="built_in">Boolean</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»ä¼¼äºæŒ‡é’ˆ</p><blockquote><ul><li>åˆå§‹æ—¶ï¼š</li></ul><p>â€‹|A|B|C|</p><p>â€‹â†‘</p><ul><li>è°ƒç”¨next()ï¼šæŒ‡é’ˆå¾€åç§»åŠ¨ï¼Œå¹¶è¿”å›å½“å‰æ‰€æŒ‡å¯¹è±¡ã€‚ç›´åˆ°å®Œæˆæ¯ä¸€ä¸ªå…ƒç´ çš„éå†</li></ul><p>â€‹|A|B|C|</p><p>â€‹â†‘</p></blockquote><p>é›†åˆç±»çš„å®ç°æ–¹æ¡ˆæœ‰å¾ˆå¤šï¼Œå¯èƒ½æ˜¯é“¾å¼å­˜å‚¨ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ•°ç»„å­˜å‚¨ï¼Œä¸åŒçš„å®ç°æœ‰ç€ä¸åŒçš„éå†æ–¹å¼ï¼Œè€Œè¿­ä»£å™¨åˆ™å¯ä»¥å°†å¤šç§å¤šæ ·ä¸åŒçš„é›†åˆç±»éå†æ–¹å¼è¿›è¡Œç»Ÿä¸€ï¼Œåªéœ€è¦å„ä¸ªé›†åˆç±»æ ¹æ®è‡ªå·±çš„æƒ…å†µè¿›è¡Œå¯¹åº”å®ç°å°±è¡Œäº†</p><p>åŒä¸€äº†é›†åˆçš„éå†æ“ä½œ</p><h4 id="éå†æ•°ç»„ï¼Œé›†åˆ"><a href="#éå†æ•°ç»„ï¼Œé›†åˆ" class="headerlink" title="éå†æ•°ç»„ï¼Œé›†åˆ"></a>éå†æ•°ç»„ï¼Œé›†åˆ</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">    println(iterator.next())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>æ³¨æ„ï¼Œè¿­ä»£å™¨çš„ä½¿ç”¨æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œç”¨äº†ä¹‹åå°±ä¸èƒ½ç”¨äº†ï¼Œå¦‚æœéœ€è¦å†æ¬¡è¿›è¡Œéå†æ“ä½œï¼Œé‚£ä¹ˆéœ€è¦é‡æ–°ç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ã€‚</li></ul></blockquote><h4 id="å®ç°Iterableæ¥å£"><a href="#å®ç°Iterableæ¥å£" class="headerlink" title="å®ç°Iterableæ¥å£"></a>å®ç°Iterableæ¥å£</h4><p>è¿™ä¸ªæ¥å£å®ä¸å®ç°å…¶å®éƒ½æ— æ‰€è°“  </p><p>ä¸»è¦æ˜¯è¿ç®—ç¬¦é‡è½½å‡½æ•°iteratoræ˜¯å¿…é¡»è¦çš„ï¼Œå¦åˆ™ä¸æ”¯æŒ</p><p><code>operator fun iterator()</code>å‡½æ•°é‡è½½çš„è¿ç®—ç¬¦å°±æ˜¯<code>for..in</code>ï¼Œæ‰€ä»¥åªè¦å®ç°äº†<code>iterator()</code>å°±å¯ä»¥è¿›è¡Œfor..in</p><p>for in æœ€ç»ˆéƒ½ä¼šç¼–è¯‘æˆwhileæ“ä½œ</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = mutableListOf(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CCC&quot;</span>)   <span class="comment">//ç¼–è¯‘å‰</span></span><br><span class="line"><span class="keyword">for</span> (s <span class="keyword">in</span> list) &#123;</span><br><span class="line">    list.add(<span class="string">&quot;DDD&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = mutableListOf(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CCC&quot;</span>)   <span class="comment">//ç¼–è¯‘å</span></span><br><span class="line"><span class="keyword">val</span> iterator: Iterator&lt;String&gt; = list.iterator()</span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">    <span class="keyword">val</span> next = iterator.next()</span><br><span class="line">    println(next)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ListIterator"><a href="#ListIterator" class="headerlink" title="ListIterator"></a>ListIterator</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> iterator: ListIterator&lt;String&gt; = list.listIterator()   <span class="comment">//ä½¿ç”¨listIteratorå‡½æ•°æ¥è·å–ListIterator</span></span><br><span class="line">println(iterator.next())  <span class="comment">//ä¸ä»…å¯ä»¥æ­£ç€è¿­ä»£</span></span><br><span class="line">println(iterator.nextIndex())   <span class="comment">//è¿˜å¯ä»¥ç›´æ¥å‘Šè¯‰ä½ ä¸‹ä¸€ä¸ªè¿­ä»£çš„æ˜¯Listçš„ç¬¬å‡ ä¸ªå…ƒç´ </span></span><br><span class="line">println(iterator.previous())   <span class="comment">//è¿˜èƒ½åç€æ¥</span></span><br></pre></td></tr></table></figure><h4 id="MutableIterator"><a href="#MutableIterator" class="headerlink" title="MutableIterator"></a>MutableIterator</h4><p>åœ¨JVMç¯å¢ƒä¸‹ï¼ŒKotliné»˜è®¤ä¸æ”¯æŒåœ¨è¿­ä»£æ—¶ä¿®æ”¹é›†åˆé‡Œé¢çš„å†…å®¹ï¼Œæ— è®ºæ˜¯æ’å…¥æ–°çš„å…ƒç´ è¿˜æ˜¯ç§»é™¤å…ƒç´ ï¼Œéƒ½ä¼šè§¦å‘å¹¶å‘ä¿®æ”¹å¼‚å¸¸ã€‚</p><p>ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒKotlinä¸ºæ‰€æœ‰çš„MutableCollectionï¼ˆæ‰€æœ‰éåªè¯»é›†åˆç±»ï¼‰æä¾›äº†ä¸€ä¸ªç‰¹æ®Šçš„ç”¨äºç”ŸæˆMutableIteratorçš„å‡½æ•°ï¼Œåªè¦æˆ‘ä»¬ä½¿ç”¨çš„ä¸æ˜¯åªè¯»çš„é›†åˆç±»ï¼Œéƒ½å¯ä»¥è·å¾—è¿™ä¸ªç‰¹æ®Šçš„è¿­ä»£å™¨ï¼Œå®ƒæ”¯æŒåœ¨éå†æ—¶å¯¹å…ƒç´ è¿›è¡Œ<strong>åˆ é™¤</strong> (ä¸èƒ½æ’å…¥)</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mutableiterator.remove()   <span class="comment">//åˆ é™¤å½“å‰è¿­ä»£å™¨å·²ç»éå†çš„æœ€åä¸€ä¸ªå…ƒç´ </span></span><br></pre></td></tr></table></figure><h3 id="é›†åˆä¸æ•°ç»„çš„æ‰©å±•æ“ä½œ"><a href="#é›†åˆä¸æ•°ç»„çš„æ‰©å±•æ“ä½œ" class="headerlink" title="é›†åˆä¸æ•°ç»„çš„æ‰©å±•æ“ä½œ"></a>é›†åˆä¸æ•°ç»„çš„æ‰©å±•æ“ä½œ</h3><h4 id="æ•°ç»„toé›†åˆ"><a href="#æ•°ç»„toé›†åˆ" class="headerlink" title="æ•°ç»„toé›†åˆ"></a>æ•°ç»„toé›†åˆ</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array.toList()</span><br><span class="line">array.toMutableList()</span><br><span class="line">array.toSet()</span><br></pre></td></tr></table></figure><h4 id="æ˜ å°„map"><a href="#æ˜ å°„map" class="headerlink" title="æ˜ å°„map"></a>æ˜ å°„map</h4><p>æ³¨æ„è¿™é‡Œè¯´çš„mapè·Ÿæˆ‘ä»¬å‰é¢è¯´çš„é›†åˆMapæ˜¯ä¸¤ä¸ªæ¦‚å¿µ</p><p>é›†åˆï¼ˆå¦‚ <code>List</code>ã€<code>Set</code>ï¼‰,åºåˆ— Sequenceè°ƒç”¨ <code>map</code> å‡½æ•°æ—¶ï¼Œä¼šéå†é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå°†å…¶ä¼ å…¥ç»™å®šçš„è½¬æ¢å‡½æ•°è¿›è¡Œå¤„ç†ï¼Œç„¶åæŠŠå¤„ç†ç»“æœæ”¶é›†åˆ°ä¸€ä¸ªæ–°çš„é›†åˆä¸­è¿”å›ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¸¦ç´¢å¼•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">mapIndexed</span><span class="params">(transform: (<span class="type">index</span>: <span class="type">Int</span>, <span class="type">T</span>) -&gt; <span class="type">R</span>)</span></span>: List&lt;R&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">map</span><span class="params">(transform: (<span class="type">T</span>) -&gt; <span class="type">R</span>)</span></span>: List&lt;R&gt; </span><br></pre></td></tr></table></figure><p>å¯¹äºMapç±»å‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å•ç‹¬å¯¹æ‰€æœ‰Keyæˆ–æ˜¯Valueè¿›è¡Œæ“ä½œï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbersMap = mapOf(<span class="string">&quot;key1&quot;</span> to <span class="number">1</span>, <span class="string">&quot;key2&quot;</span> to <span class="number">2</span>, <span class="string">&quot;key3&quot;</span> to <span class="number">3</span>)</span><br><span class="line">numbersMap.mapKeys &#123;  &#125;  <span class="comment">//å¯¹æ‰€æœ‰çš„Keyè¿›è¡ŒMapæ“ä½œ</span></span><br><span class="line">numbersMap.mapValues &#123; it.value + it.key.length &#125;</span><br></pre></td></tr></table></figure><h4 id="å‹ç¼©æ“ä½œ"><a href="#å‹ç¼©æ“ä½œ" class="headerlink" title="å‹ç¼©æ“ä½œ"></a>å‹ç¼©æ“ä½œ</h4><p>å®ƒå¯ä»¥å°†å½“å‰é›†åˆå…ƒç´ å’Œå¦ä¸€ä¸ªé›†åˆä¸­å…·æœ‰<strong>ç›¸åŒç´¢å¼•</strong>çš„å…ƒç´ ç»„åˆèµ·æ¥ï¼Œç”Ÿæˆä¸€ä¸ªè£…æ»¡Pairçš„åˆ—è¡¨</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list1 = listOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">val</span> list2 = listOf(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CCC&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> pairs: List&lt;Pair&lt;<span class="built_in">Int</span>, String&gt;&gt; = list1.zip(list2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ©ç”¨å‹ç¼©æ“ä½œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿå°†ä¸¤ä¸ªListé›†åˆæ‰æˆä¸€ä¸ªMapé›†åˆ</span></span><br><span class="line"><span class="keyword">val</span> map = mutableMapOf&lt;<span class="built_in">Int</span>, String&gt;()</span><br><span class="line">map.putAll(list1.zip(list2))</span><br><span class="line">println(map)  <span class="comment">//ç»“æœ &#123;1=AAA, 2=BBB, 3=CCC&#125;</span></span><br></pre></td></tr></table></figure><h4 id="è§£å‹æ“ä½œ"><a href="#è§£å‹æ“ä½œ" class="headerlink" title="è§£å‹æ“ä½œ"></a>è§£å‹æ“ä½œ</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = listOf(<span class="number">1</span> to <span class="string">&quot;AAA&quot;</span>, <span class="number">2</span> to <span class="string">&quot;BBB&quot;</span>, <span class="number">3</span> to <span class="string">&quot;CCC&quot;</span>)  <span class="comment">//æŠŠåˆåœ¨ä¸€èµ·çš„Pairæ¯ä¸ªå…ƒç´ éƒ½åˆ†å¼€</span></span><br><span class="line"><span class="keyword">val</span> unzipList: Pair&lt;List&lt;<span class="built_in">Int</span>&gt;, List&lt;String&gt;&gt; = list.unzip()  <span class="comment">//è½¬æ¢å‡ºæ¥æ˜¯ä¸€ä¸ªå­˜æ”¾ä¸¤ä¸ªListçš„Pair</span></span><br><span class="line"><span class="comment">//Pairçš„keyæ˜¯æ‰€æœ‰keyçš„åˆ—è¡¨ï¼Œvalueæ˜¯æ‰€æœ‰valueçš„åˆ—è¡¨</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="associateæ“ä½œ"><a href="#associateæ“ä½œ" class="headerlink" title="associateæ“ä½œ"></a><code>associate</code>æ“ä½œ</h4><p>å°†æ™®é€šé›†åˆè½¬æ¢ä¸ºMapæ˜ å°„</p><ol><li><code>associateWith</code>ï¼šä»¥åˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ ä¸ºKeyï¼Œæä¾›ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›å€¼ä½œä¸ºç”Ÿæˆçš„Mapå¯¹åº”Keyçš„Value</li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = listOf(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CCC&quot;</span>)</span><br><span class="line"><span class="comment">//ä½¿ç”¨associateWithå¿«é€Ÿæ„å»ºä»¥åˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ ä¸ºKeyçš„Mapæ˜ å°„</span></span><br><span class="line"><span class="keyword">val</span> associate: Map&lt;String, <span class="built_in">Int</span>&gt; = list.associateWith &#123; it.length &#125;   <span class="comment">//æä¾›ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›å€¼ä½œä¸ºç”Ÿæˆçš„Mapå¯¹åº”Keyçš„Value</span></span><br><span class="line"><span class="comment">//ç»“æœ &#123;AAA=3, BBB=3, CCC=3&#125;</span></span><br></pre></td></tr></table></figure><ol start="2"><li><code>associateBy</code>ï¼šæ„å»ºä»¥åˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ ä¸ºValueçš„Mapæ˜ å°„ï¼Œè¿”å›å€¼ä½œä¸ºç”Ÿæˆçš„Mapå¯¹åº”Valueçš„Key</li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = listOf(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CCC&quot;</span>)</span><br><span class="line"><span class="comment">//ä½¿ç”¨associateByå¿«é€Ÿæ„å»ºä»¥åˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ ä¸ºValueçš„Mapæ˜ å°„</span></span><br><span class="line"><span class="keyword">val</span> associate: Map&lt;<span class="built_in">Int</span>, String&gt; = list.associateBy &#123; it.length &#125;   <span class="comment">//æä¾›ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›å€¼ä½œä¸ºç”Ÿæˆçš„Mapå¯¹åº”Valueçš„Key</span></span><br><span class="line"><span class="comment">//ç»“æœ&#123;3=CCC&#125;ï¼Œå› ä¸ºä¸Šé¢ç”Ÿäº§å‡ºæ¥çš„Keyå…¨æ˜¯3ï¼Œè¦†ç›–å®Œåªå‰©ä¸‹æœ€åä¸€ä¸ªäº†</span></span><br></pre></td></tr></table></figure><ul><li>ç”±äºåˆ—è¡¨çš„å…ƒç´ æ˜¯å¯ä»¥é‡å¤çš„ï¼Œä½†æ˜¯Mapçš„Keyæ˜¯ä¸èƒ½é‡å¤çš„ï¼Œæ‰€ä»¥ï¼Œå½“æœ‰å¤šä¸ªé‡å¤çš„ï¼Œå½“ç”Ÿæˆäº†å¤šä¸ªé‡å¤çš„keyæ—¶ï¼Œä»¥æœ€åä¸€ä¸ªä¸ºä¸»</li></ul><ol start="3"><li><code>associate</code>ï¼šè‡ªè¡Œæ„å»ºä¸€ä¸ªPairä½œä¸ºç»“æœè¿”å›</li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> associate: Map&lt;String, <span class="built_in">Int</span>&gt; = list.associate &#123; it to it.length &#125;  <span class="comment">//è¿”å›ä¸€ä¸ªPair</span></span><br></pre></td></tr></table></figure><h4 id="æ‰å¹³åŒ–æ“ä½œ"><a href="#æ‰å¹³åŒ–æ“ä½œ" class="headerlink" title="æ‰å¹³åŒ–æ“ä½œ"></a>æ‰å¹³åŒ–æ“ä½œ</h4><p>æŠŠè¿™ä¸ªåµŒå¥—çš„é›†åˆå†…æ‰€æœ‰çš„é›†åˆå…¨éƒ¨æ‹†å‡ºæ¥</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = listOf(listOf(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;BBB&quot;</span>), listOf(<span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;DDD&quot;</span>))</span><br><span class="line"><span class="keyword">val</span> flatten: List&lt;String&gt; = list.flatten()   <span class="comment">//ä½¿ç”¨flattenå‡½æ•°å°†åµŒå¥—é›†åˆæ‰å¹³åŒ–</span></span><br><span class="line"><span class="comment">//å¯ä»¥çœ‹åˆ°å†…å®¹è‡ªåŠ¨è¢«å±•å¹³äº† [AAA, BBB, CCC, DDD]</span></span><br></pre></td></tr></table></figure><h4 id="åˆ†å—"><a href="#åˆ†å—" class="headerlink" title="åˆ†å—"></a>åˆ†å—</h4><p>å°†æ‰å¹³çš„é›†åˆåµŒå¥—</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = listOf(<span class="string">&quot;AA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CC&quot;</span>, <span class="string">&quot;DDD&quot;</span>)</span><br><span class="line"><span class="comment">//ä½¿ç”¨chunkedè¿›è¡Œåˆ†å—ï¼Œè¿™é‡Œ2ä¸ªå…ƒç´ ä¸ºä¸€ç»„è¿›è¡Œåˆ†å—ï¼Œå¾—åˆ°ä¸€ä¸ªåµŒå¥—çš„é›†åˆ</span></span><br><span class="line">println(list.chunked(<span class="number">2</span>))   <span class="comment">//ç»“æœ [[AA, BBB], [CC, DDD]]</span></span><br></pre></td></tr></table></figure><h4 id="è¿‡æ»¤æ“ä½œ"><a href="#è¿‡æ»¤æ“ä½œ" class="headerlink" title="è¿‡æ»¤æ“ä½œ"></a>è¿‡æ»¤æ“ä½œ</h4><p>æä¾›ä¸€ä¸ªå‡½æ•°ä½œä¸ºè¿‡æ»¤æ ‡å‡†ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„é›†åˆ</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">filter</span><span class="params">(predicate: (<span class="type">T</span>) -&gt; <span class="type">Boolean</span>)</span></span>: List&lt;T&gt;</span><br></pre></td></tr></table></figure><p>å¿«é€Ÿè¿‡æ»¤æ‰€æœ‰ç©ºå€¼</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = listOf(<span class="string">&quot;AAA&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;BBB&quot;</span>, <span class="literal">null</span>)</span><br><span class="line"><span class="keyword">val</span> filterList: List&lt;String&gt; = list.filterNotNull()</span><br><span class="line">println(filterList)   <span class="comment">//ç»“æœ [AAA, BBB]</span></span><br></pre></td></tr></table></figure><p>å¿«é€Ÿè¿‡æ»¤å‡ºæŒ‡å®šç±»å‹çš„é›†åˆ</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = listOf(<span class="string">&quot;AAA&quot;</span>, Any(), <span class="string">&quot;BBB&quot;</span>, <span class="number">123</span>, <span class="number">3.14</span>)</span><br><span class="line"><span class="keyword">val</span> filterList: List&lt;String&gt; = list.filterIsInstance&lt;String&gt;()  <span class="comment">//å¿«é€Ÿè¿‡æ»¤å‡ºæ‰€æœ‰çš„Stringå…ƒç´ </span></span><br><span class="line">println(filterList)   <span class="comment">//ç»“æœ [AAA, BBB]</span></span><br></pre></td></tr></table></figure><h4 id="åˆ†åŒºæ“ä½œ"><a href="#åˆ†åŒºæ“ä½œ" class="headerlink" title="åˆ†åŒºæ“ä½œ"></a>åˆ†åŒºæ“ä½œ</h4><p>è¿‡æ»¤æ“ä½œå¯ä»¥å¿«é€Ÿç­›é€‰å‡ºæˆ‘ä»¬éœ€è¦çš„é‚£äº›å…ƒç´ ï¼Œå½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬æ—¢éœ€è¦ç­›é€‰å‡ºæ¥çš„å…ƒç´ ï¼Œä¹Ÿéœ€è¦ç­›é€‰å‡ºå»çš„å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ†åŒºæ“ä½œ</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">partition</span><span class="params">(predicate: (<span class="type">T</span>) -&gt; <span class="type">Boolean</span>)</span></span>: Pair&lt;List&lt;T&gt;, List&lt;T&gt;&gt;</span><br></pre></td></tr></table></figure><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = listOf(<span class="string">&quot;AA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CC&quot;</span>, <span class="string">&quot;DDD&quot;</span>)</span><br><span class="line"><span class="comment">//åˆ†åŒºæ“ä½œå¾—åˆ°ä¸€ä¸ªåŒ¹é…åˆ—è¡¨å’Œä¸€ä¸ªä¸åŒ¹é…åˆ—è¡¨</span></span><br><span class="line"><span class="keyword">val</span> (match, mismatch) = list.partition &#123; it.length &gt; <span class="number">2</span> &#125;</span><br><span class="line">println(<span class="string">&quot;åŒ¹é…çš„åˆ—è¡¨: <span class="variable">$match</span>&quot;</span>)</span><br><span class="line">println(<span class="string">&quot;ä¸åŒ¹é…çš„åˆ—è¡¨: <span class="variable">$mismatch</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="åˆ†ç»„æ“ä½œ"><a href="#åˆ†ç»„æ“ä½œ" class="headerlink" title="åˆ†ç»„æ“ä½œ"></a>åˆ†ç»„æ“ä½œ</h4><p>å®ƒå¯ä»¥å°†å…ƒç´ æŒ‰ç±»åˆ«è¿›è¡Œåˆ†ç»„ï¼Œä»¥Mapçš„å½¢å¼è¿”å›ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = listOf(<span class="string">&quot;AA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CC&quot;</span>, <span class="string">&quot;DDD&quot;</span>)</span><br><span class="line">println(list.groupBy &#123; it.length &#125;)  <span class="comment">//æŒ‰ç…§å­—ç¬¦ä¸²çš„é•¿åº¦è¿›è¡Œåˆ†ç»„</span></span><br><span class="line"><span class="comment">//å¾—åˆ° &#123;2=[AA, CC], 3=[BBB, DDD]&#125;</span></span><br></pre></td></tr></table></figure><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><p><a href="https://kotlinlang.org/docs/collections-overview.html">https://kotlinlang.org/docs/collections-overview.html</a></p><h2 id="åºåˆ—"><a href="#åºåˆ—" class="headerlink" title="åºåˆ—"></a>åºåˆ—</h2><p>é™¤äº†é›†åˆï¼ŒKotlinæ ‡å‡†åº“è¿˜åŒ…å«å¦ä¸€ç§ç±»å‹ï¼š<em>åºåˆ—</em>ï¼ˆ<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html"><code>Sequence</code></a>ï¼‰ä¸é›†åˆä¸åŒï¼Œåºåˆ—ä¸åŒ…å«å…ƒç´ ï¼Œå®ƒåœ¨è¿è¡Œæ—¶ç”Ÿæˆå…ƒç´ </p><p><code>Sequence</code>æ¥å£ä¸<code>Iterable</code>æ¥å£ç±»ä¼¼ï¼ŒåªåŒ…å«ä¸€ä¸ªç”Ÿæˆè¿­ä»£å™¨çš„å‡½æ•°</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åºåˆ—æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Sequence</span>&lt;<span class="type">out T</span>&gt; &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ç”Ÿæˆè¿­ä»£å™¨</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">iterator</span><span class="params">()</span></span>: Iterator&lt;T&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>æ€§èƒ½ä¼˜åŒ–â€”æƒ°æ€§</strong></li></ul><p>åºåˆ—å®é™…ä¸Šæ˜¯ä¸€ä¸ªå»¶è¿Ÿè·å–æ•°æ®çš„é›†åˆï¼Œåªæœ‰éœ€è¦å…ƒç´ æ—¶æ‰ä¼šç”Ÿäº§å…ƒç´ ï¼Œå¹¶æä¾›ç»™å¤–éƒ¨ï¼ŒåŒ…æ‹¬æ‰€æœ‰å¯¹å…ƒç´ æ“ä½œï¼Œå¹¶ä¸æ˜¯ä¸€æ¬¡æ€§å…¨éƒ¨å¤„ç†ï¼Œè€Œæ˜¯æ ¹æ®æƒ…å†µé€‰æ‹©åˆé€‚çš„å…ƒç´ è¿›è¡Œæ“ä½œã€‚ä½¿ç”¨åºåˆ—èƒ½å¤Ÿåœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶è·å¾—æ˜¾è‘—çš„æ€§èƒ½æå‡</p><p>åºåˆ—å¹¶ä¸æ˜¯éšæ—¶éšåœ°éƒ½å¯ä»¥ä½¿ç”¨çš„ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦è¦ä½¿ç”¨åºåˆ—ï¼Œå¦‚æœåœ¨æ•°æ®é‡ç‰¹åˆ«åºå¤§çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨åºåˆ—å¤„ç†ä¼šæ›´å¥½ï¼Œä½†æ˜¯å¦‚æœæ•°æ®é‡å¾ˆå°ï¼Œä½¿ç”¨åºåˆ—åè€Œä¼šå¢åŠ å¼€é”€</p><h1 id="Kotlinç‰¹æ®Šç±»å‹"><a href="#Kotlinç‰¹æ®Šç±»å‹" class="headerlink" title="Kotlinç‰¹æ®Šç±»å‹"></a>Kotlinç‰¹æ®Šç±»å‹</h1><h2 id="æ•°æ®ç±»å‹-data-class"><a href="#æ•°æ®ç±»å‹-data-class" class="headerlink" title="æ•°æ®ç±»å‹(data class)"></a>æ•°æ®ç±»å‹(data class)</h2><p>Kotlinä¸ºæˆ‘ä»¬æä¾›äº†ä¸“é—¨çš„æ•°æ®ç±»ï¼Œæ•°æ®ç±»ä¸ä»…èƒ½åƒæ™®é€šç±»ä¸€æ ·ä½¿ç”¨ï¼Œå¹¶ä¸”è‡ªå¸¦æˆ‘ä»¬éœ€è¦çš„é¢å¤–æˆå‘˜å‡½æ•°ï¼Œæ¯”å¦‚æ‰“å°åˆ°è¾“å‡ºã€æ¯”è¾ƒå®ä¾‹ã€å¤åˆ¶å®ä¾‹ç­‰</p><p>æ•°æ®ç±»å£°æ˜åï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®<strong>ä¸»æ„é€ å‡½æ•°</strong>ä¸­å£°æ˜çš„æ‰€æœ‰å±æ€§è‡ªåŠ¨ä¸ºå…¶ç”Ÿæˆä»¥ä¸‹å‡½æ•°ï¼š</p><ul><li><code>.equals()</code>&#x2F;<code>.hashCode()</code></li><li><code>.toString()</code>ç”Ÿæˆçš„å­—ç¬¦ä¸²æ ¼å¼</li><li><code>.componentN()</code>ä¸æŒ‰å£°æ˜é¡ºåºè‡ªåŠ¨ç”Ÿæˆç”¨äºè§£æ„çš„å‡½æ•°</li><li><code>.copy()</code>ç”¨äºå¯¹å¯¹è±¡è¿›è¡Œæ‹·è´(æµ…æ‹·è´)</li></ul><p>æ³¨æ„ï¼Œç¼–è¯‘å™¨ä¼šä¸”åªä¼šæ ¹æ®ä¸»æ„é€ å‡½æ•°ä¸­å®šä¹‰çš„å±æ€§ç”Ÿæˆå¯¹åº”å‡½æ•°ï¼Œå¦‚æœæœ‰äº›æ—¶å€™æˆ‘ä»¬ä¸å¸Œæœ›æŸäº›å±æ€§è¢«æ·»åŠ åˆ°è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å°†å…¶ç§»å‡ºä¸»æ„é€ å‡½æ•°ï¼Œç”¨è¾…åŠ©å‡½æ•°åˆå§‹åŒ–</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">Student</span>(<span class="keyword">var</span> name: String)&#123;</span><br><span class="line">    <span class="keyword">var</span> age: <span class="built_in">Int</span> = <span class="number">18</span> <span class="comment">//ageå±æ€§ä¸ä¼šè¢«å¤„ç†</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(name: String, age: <span class="built_in">Int</span>):<span class="keyword">this</span>(name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æšä¸¾ç±»å‹-enum-class"><a href="#æšä¸¾ç±»å‹-enum-class" class="headerlink" title="æšä¸¾ç±»å‹(enum class)"></a>æšä¸¾ç±»å‹(enum class)</h2><p>ç”¨äºè¡¨ç¤ºä¸€ç»„å›ºå®šçš„å¸¸é‡å€¼</p><h3 id="å®šä¹‰æšä¸¾ç±»"><a href="#å®šä¹‰æšä¸¾ç±»" class="headerlink" title="å®šä¹‰æšä¸¾ç±»"></a>å®šä¹‰æšä¸¾ç±»</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨ç±»å‰é¢æ·»åŠ enumè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹</span></span><br><span class="line"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title class_">LightState</span> &#123;</span><br><span class="line">    GREEN, YELLOW, RED   <span class="comment">//ç›´æ¥åœ¨æšä¸¾ç±»å†…éƒ¨å†™ä¸Šæ‰€æœ‰æšä¸¾çš„åç§°ï¼Œä¸€èˆ¬å…¨éƒ¨ç”¨å¤§å†™å­—æ¯å‘½å</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æšä¸¾ç±»çš„å€¼åªèƒ½æ˜¯æˆ‘ä»¬åœ¨ç±»ä¸­å®šä¹‰çš„é‚£äº›æšä¸¾ï¼Œä¸å¯ä»¥å­˜åœ¨å…¶ä»–çš„ç»“æœï¼Œæšä¸¾ç±»å‹åŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»ï¼Œåªæ˜¯å­˜åœ¨å€¼çš„é™åˆ¶ã€‚</p><h3 id="å®šä¹‰æˆå‘˜"><a href="#å®šä¹‰æˆå‘˜" class="headerlink" title="å®šä¹‰æˆå‘˜"></a>å®šä¹‰æˆå‘˜</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŒæ ·å¯ä»¥å®šä¹‰æˆå‘˜å˜é‡ï¼Œä½†æ˜¯ä¸èƒ½å‘½åä¸ºnameï¼Œå› ä¸ºnameæ‹¿æ¥è¿”å›æšä¸¾åç§°äº†</span></span><br><span class="line"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title class_">LightState</span>(<span class="keyword">val</span> color: String) &#123;</span><br><span class="line">    GREEN(<span class="string">&quot;ç»¿ç¯&quot;</span>), YELLOW(<span class="string">&quot;é»„ç¯&quot;</span>), RED(<span class="string">&quot;çº¢ç¯&quot;</span>);  <span class="comment">//æšä¸¾åœ¨å®šä¹‰æ—¶ä¹Ÿå¿…é¡»å¡«å†™å‚æ•°ï¼Œå¦‚æœåé¢è¿˜è¦ç¼–å†™æˆå‘˜å‡½æ•°ä¹‹ç±»çš„å…¶ä»–å†…å®¹ï¼Œè¿˜éœ€åœ¨æœ«å°¾æ·»åŠ åˆ†å·ç»“æŸ</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">fun</span> <span class="title">isGreen</span><span class="params">()</span></span> = <span class="keyword">this</span> == LightState.GREEN  <span class="comment">//å®šä¹‰ä¸€ä¸ªå‡½æ•°ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æšä¸¾ä¸­çš„æŠ½è±¡å‡½æ•°"><a href="#æšä¸¾ä¸­çš„æŠ½è±¡å‡½æ•°" class="headerlink" title="æšä¸¾ä¸­çš„æŠ½è±¡å‡½æ•°"></a>æšä¸¾ä¸­çš„æŠ½è±¡å‡½æ•°</h3><p>åœ¨æšä¸¾ç±»ä¸­ä¹Ÿå¯ä»¥ç¼–å†™æŠ½è±¡å‡½æ•°ï¼ŒæŠ½è±¡å‡½æ•°éœ€è¦ç”±æšä¸¾è‡ªè¡Œå®ç°ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title class_">LightState</span> &#123;</span><br><span class="line">    GREEN&#123;</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span> = println(<span class="string">&quot;æˆ‘æ˜¯ç»¿ç¯&quot;</span>)</span><br><span class="line">    &#125;, YELLOW&#123;</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span> = println(<span class="string">&quot;æˆ‘æ˜¯é»„ç¯&quot;</span>)</span><br><span class="line">    &#125;, RED&#123;</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span> = println(<span class="string">&quot;æˆ‘æ˜¯çº¢ç¯&quot;</span>)</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">abstract</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æšä¸¾ä¸­çš„æ¥å£"><a href="#æšä¸¾ä¸­çš„æ¥å£" class="headerlink" title="æšä¸¾ä¸­çš„æ¥å£"></a>æšä¸¾ä¸­çš„æ¥å£</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Message</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">speakMessage</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title class_">LightState</span> : <span class="type">Message</span>&#123;</span><br><span class="line">    GREEN&#123;</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span> = println(<span class="string">&quot;æˆ‘æ˜¯ç»¿ç¯&quot;</span>)</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">speakMessage</span><span class="params">()</span></span> = println(<span class="string">&quot;ç»¿ç¯è¡Œ&quot;</span>)</span><br><span class="line">        </span><br><span class="line">    &#125;, YELLOW&#123;</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span> = println(<span class="string">&quot;æˆ‘æ˜¯é»„ç¯&quot;</span>)</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">speakMessage</span><span class="params">()</span></span> = println(<span class="string">&quot;é»„ç¯å‡é€Ÿ&quot;</span>)</span><br><span class="line">    &#125;, RED&#123;</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span> = println(<span class="string">&quot;æˆ‘æ˜¯çº¢ç¯&quot;</span>)</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">speakMessage</span><span class="params">()</span></span> = println(<span class="string">&quot;çº¢ç¯åœ&quot;</span>)</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œç»Ÿä¸€å®ç°</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">speakMessage</span><span class="params">()</span></span> &#123;</span><br><span class="line">        TODO(<span class="string">&quot;Not yet implemented&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">abstract</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æšä¸¾çš„å…¶ä»–å‡½æ•°"><a href="#æšä¸¾çš„å…¶ä»–å‡½æ•°" class="headerlink" title="æšä¸¾çš„å…¶ä»–å‡½æ•°"></a>æšä¸¾çš„å…¶ä»–å‡½æ•°</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> state: LightState = LightState.valueOf(<span class="string">&quot;RED&quot;</span>)   <span class="comment">//é€šè¿‡valueOfå‡½æ•°ä»¥å­—ç¬¦ä¸²åç§°çš„å½¢å¼è½¬æ¢ä¸ºå¯¹åº”åç§°çš„æšä¸¾</span></span><br><span class="line"><span class="keyword">val</span> state: LightState = enumValueOf&lt;LightState&gt;(<span class="string">&quot;RED&quot;</span>)   <span class="comment">//åŒä¸Š</span></span><br><span class="line">println(state)</span><br><span class="line">println(state.ordinal)   <span class="comment">//æšä¸¾åœ¨ç¬¬å‡ ä¸ªä½ç½®</span></span><br><span class="line">println(state.name)   <span class="comment">//æšä¸¾åç§°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> entries: EnumEntries&lt;LightState&gt; = LightState.entries  <span class="comment">//ä¸€é”®è·å–å…¨éƒ¨æšä¸¾ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯EnumEntriesç±»å‹çš„ï¼Œä»–æ˜¯Listçš„å­æ¥å£ï¼Œå› æ­¤å¯ä»¥å½“åšListæ¥ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">val</span> values: Array&lt;LightState&gt; = enumValues&lt;LightState&gt;()   <span class="comment">//æˆ–è€…åƒè¿™æ ·ä»¥Arrayå½¢å¼è·å–åˆ°æ‰€æœ‰çš„æšä¸¾</span></span><br><span class="line">println(entries)</span><br></pre></td></tr></table></figure><h2 id="åŒ¿åç±»å’Œä¼´ç”Ÿå¯¹è±¡"><a href="#åŒ¿åç±»å’Œä¼´ç”Ÿå¯¹è±¡" class="headerlink" title="åŒ¿åç±»å’Œä¼´ç”Ÿå¯¹è±¡"></a>åŒ¿åç±»å’Œä¼´ç”Ÿå¯¹è±¡</h2><p>åœ¨æŸäº›æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸´æ—¶ä½¿ç”¨ä¸€ä¸‹æŸä¸ªç±»ï¼Œå¹¶ä¸éœ€è¦é€šè¿‡classå…³é”®å­—å®šä¹‰å¯¹è±¡ï¼Œè€Œæ˜¯ä»¥åŒ¿åçš„å½¢å¼åˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œåœ¨ä½¿ç”¨å®Œä¹‹åå°±ä¸å†éœ€è¦äº†ï¼Œè¿™ç§æƒ…å†µå®Œå…¨æ²¡æœ‰å¿…è¦å®šä¹‰ä¸€ä¸ªå®Œæˆçš„ç±»å‹ï¼Œè€Œæ˜¯å¯ä»¥ä½¿ç”¨åŒ¿åç±»çš„æ–¹å¼ï¼ˆç‰¹åˆ«æ˜¯æŸäº›æ¥å£ï¼‰</p><p><strong>åœ¨éœ€è¦åˆ›å»ºä¸€ä¸ªåªä½¿ç”¨ä¸€æ¬¡çš„ç±»å®ä¾‹</strong></p><h3 id="åŒ¿åç±»çš„åˆ›å»ºobject"><a href="#åŒ¿åç±»çš„åˆ›å»ºobject" class="headerlink" title="åŒ¿åç±»çš„åˆ›å»ºobject"></a>åŒ¿åç±»çš„åˆ›å»º<code>object</code></h3><p>åŒ¿åç±»é™¤äº†æ²¡åå­—ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥å®šä¹‰æˆå‘˜ï¼Œåªä¸è¿‡è¿™ç§åŒ¿åç±»ä¸èƒ½å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°ï¼Œå› ä¸ºå®ƒæ˜¯ç›´æ¥åˆ›å»ºçš„ï¼Œè¿™ç§å†™æ³•æˆ‘ä»¬ä¹Ÿå¯ä»¥å«åš<strong>å¯¹è±¡è¡¨è¾¾å¼</strong></p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨objectå…³é”®å­—å£°æ˜ä¸€ä¸ªåŒ¿åç±»å¹¶åˆ›å»ºå…¶å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å˜é‡æ¥æ”¶å¾—åˆ°çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">val</span> obj = <span class="keyword">object</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> name: String = <span class="string">&quot;åŒ¿åç±»&quot;</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">toString</span><span class="params">()</span></span>: String =<span class="string">&quot;æˆ‘æ˜¯<span class="subst">$&#123;name&#125;</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">println(obj)</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨<code>object</code>å…³é”®å­—ï¼šå£°æ˜ä¸€ä¸ªåŒ¿åç±»å¹¶åˆ›å»ºå…¶å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å˜é‡æ¥æ”¶å¾—åˆ°çš„å¯¹è±¡</li><li><em>åŒ¿åç±»é»˜è®¤ç»§æ‰¿äºAny</em></li></ul><h3 id="ç»§æ‰¿-æŠ½è±¡ç±»ï¼Œæ¥å£ï¼Œç±»"><a href="#ç»§æ‰¿-æŠ½è±¡ç±»ï¼Œæ¥å£ï¼Œç±»" class="headerlink" title="ç»§æ‰¿ æŠ½è±¡ç±»ï¼Œæ¥å£ï¼Œç±»"></a>ç»§æ‰¿ æŠ½è±¡ç±»ï¼Œæ¥å£ï¼Œç±»</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">object</span> :Message&#123;</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">speakMessage</span><span class="params">()</span></span>= println(<span class="string">&quot;æˆ‘æ˜¯åŒ¿åç±»å®ç°æ¥å£&quot;</span>)</span><br><span class="line">    &#125;.speakMessage()</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°å¼æ¥å£"><a href="#å‡½æ•°å¼æ¥å£" class="headerlink" title="å‡½æ•°å¼æ¥å£"></a>å‡½æ•°å¼æ¥å£</h3><p>å¯¹äºåªå­˜åœ¨ä¸€ä¸ªæŠ½è±¡å‡½æ•°çš„æ¥å£ç§°ä¸º<strong>å‡½æ•°å¼æ¥å£</strong>æˆ–<strong>å•ä¸€æŠ½è±¡æ–¹æ³•ï¼ˆSAMï¼‰æ¥å£</strong>ï¼Œå‡½æ•°å¼æ¥å£å¯ä»¥æœ‰Nä¸ªéæŠ½è±¡æˆå‘˜ï¼Œä½†æ˜¯<strong>åªèƒ½æœ‰ä¸€ä¸ªæŠ½è±¡æˆå‘˜</strong>ã€‚å¯¹äºå‡½æ•°å¼æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨æˆ‘ä»¬å‰é¢ä»‹ç»çš„Lambdaè¡¨è¾¾å¼æ¥ä½¿ä»£ç æ›´ç®€æ´</p><p>**å‡½æ•°å¼æ¥å£ï¼š**ä¸€ä¸ªæŠ½è±¡æˆå‘˜ï¼Œå¤šä¸ªéæŠ½è±¡æˆå‘˜</p><h4 id="å®šä¹‰å‡½æ•°å¼æ¥å£"><a href="#å®šä¹‰å‡½æ•°å¼æ¥å£" class="headerlink" title="å®šä¹‰å‡½æ•°å¼æ¥å£"></a>å®šä¹‰å‡½æ•°å¼æ¥å£</h4><p>åœ¨interfaceä¹‹å‰ä½¿ç”¨funå…³é”®å­—</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨æ¥å£å£°æ˜å‰é¢æ·»åŠ funå…³é”®å­—ï¼Œå£°æ˜è¿™æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="keyword">interface</span> Message &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">speakMessage</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨Lambdaæ¥å®šä¹‰å‡½æ•°å¼æ¥å£ä¸­çš„æŠ½è±¡æˆå‘˜</span></span><br><span class="line"><span class="keyword">val</span> message = Message&#123;</span><br><span class="line">        println(<span class="string">&quot;æˆ‘æ˜¯å‡½æ•°å¼æ¥å£&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å› ä¸ºåŒ¿åäº§ç”Ÿçš„äº›è®¸é—®é¢˜"><a href="#å› ä¸ºåŒ¿åäº§ç”Ÿçš„äº›è®¸é—®é¢˜" class="headerlink" title="å› ä¸ºåŒ¿åäº§ç”Ÿçš„äº›è®¸é—®é¢˜"></a>å› ä¸ºåŒ¿åäº§ç”Ÿçš„äº›è®¸é—®é¢˜</h3><p>å› ä¸ºæœ‰äº†åŒ¿åç±»ï¼Œæ‰€ä»¥æœ‰äº›æ—¶å€™æˆ‘ä»¬é€šè¿‡å‡½æ•°å¾—åˆ°çš„ç»“æœï¼Œå¯èƒ½å¹¶ä¸æ˜¯æŸä¸ªå…·ä½“å®šä¹‰çš„ç±»å‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç›´æ¥é‡‡ç”¨åŒ¿åå½¢å¼åˆ›å»ºçš„åŒ¿åç±»å¯¹è±¡ï¼Œè¿™æ˜¯è¿”å›çš„å¯¹è±¡åªèƒ½å½“ä½œåŒ¿åç±»ç»§æ‰¿çš„ç±»ä½¿ç”¨</p><p>ä¾‹å¦‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">Human</span>(<span class="keyword">var</span> name: String)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span>= <span class="keyword">object</span>: Human(<span class="string">&quot;å°å¸…&quot;</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> age:<span class="built_in">Int</span>=<span class="number">20</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">toString</span><span class="params">()</span></span> = <span class="string">&quot;æˆ‘æ˜¯<span class="variable">$name</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> test:Human = test()<span class="comment">//è¿”å›çš„ç±»å‹æ˜¯Humanï¼Œç”±äºå…¶åŒ¿åç‰¹æ€§ï¼Œåªèƒ½å½“åšHumanä½¿ç”¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å•ä¾‹ç±»å‹"><a href="#å•ä¾‹ç±»å‹" class="headerlink" title="å•ä¾‹ç±»å‹"></a>å•ä¾‹ç±»å‹</h2><p><code>object</code>å…³é”®å­—ä¸ä»…å¯ä»¥ç”¨äºå£°æ˜åŒ¿åç±»å‹ï¼Œä¹Ÿå¯ä»¥ç”¨äºå£°æ˜<strong>å•ä¾‹ç±»</strong></p><ul><li>å•ä¾‹ç±»ï¼šåœ¨æ•´ä¸ªç¨‹åºä¸­åªèƒ½å­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å•ä¸ªå®ä¾‹ï¼Œä¸å¯ä»¥åˆ›å»ºå…¶ä»–çš„å¯¹è±¡ï¼Œå§‹ç»ˆä½¿ç”¨çš„åªèƒ½æ˜¯é‚£ä¸€ä¸ªå¯¹è±¡</li></ul><p>é€šè¿‡ç±»åç›´æ¥å¾—åˆ°æ­¤å•ä¾‹ç±»çš„å¯¹è±¡</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">object</span> Singleton&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> name = <span class="string">&quot;å•ä¾‹&quot;</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">toString</span><span class="params">()</span></span>: String = <span class="string">&quot;æˆ‘æ˜¯<span class="subst">$&#123;name&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> singleton = Singleton   <span class="comment">//é€šè¿‡ç±»åç›´æ¥å¾—åˆ°æ­¤å•ä¾‹ç±»çš„å¯¹è±¡</span></span><br><span class="line">    <span class="comment">//ä¸å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°çš„å½¢å¼åˆ›å»º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å•ä¾‹ç±»çš„è¿™ç§æ€§è´¨åœ¨å¾ˆå¤šæƒ…å†µä¸‹éƒ½å¾ˆæ–¹ä¾¿ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦ç¼–å†™æŸäº›å·¥å…·æ“ä½œï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å•ä¾‹ç±»çš„å½¢å¼ç¼–å†™</p></blockquote><h2 id="ä¼´ç”Ÿå¯¹è±¡-æœ‰ç§javaä¸­çš„staticçš„æ„Ÿjio"><a href="#ä¼´ç”Ÿå¯¹è±¡-æœ‰ç§javaä¸­çš„staticçš„æ„Ÿjio" class="headerlink" title="ä¼´ç”Ÿå¯¹è±¡(æœ‰ç§javaä¸­çš„staticçš„æ„Ÿjio)"></a>ä¼´ç”Ÿå¯¹è±¡(æœ‰ç§javaä¸­çš„staticçš„æ„Ÿjio)</h2><p>æ—¢å¸Œæœ›åƒå•ä¾‹ç±»é‚£æ ·ç›´æ¥è°ƒç”¨ï¼Œåˆæ”¯æŒåƒä¸€ä¸ªæ™®é€šclassé‚£æ ·ä½¿ç”¨ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨ä¼´ç”Ÿå¯¹è±¡æ¥å®ç°</p><p>å®é™…ä¸Šå°±æ˜¯å°†ä¸€ä¸ªå•ä¾‹ç±»<strong>å†™åˆ°æŸä¸ªç±»çš„å†…éƒ¨</strong></p><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>ä½¿ç”¨companionå…³é”®å­—åœ¨å†…éƒ¨ç¼–å†™ä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡ï¼Œå®ƒåŒæ ·æ˜¯å•ä¾‹çš„</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="keyword">var</span> name: String , <span class="keyword">var</span> age: <span class="built_in">Int</span> , <span class="keyword">var</span> id:<span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="comment">//ä½¿ç”¨companionå…³é”®å­—åœ¨å†…éƒ¨ç¼–å†™ä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡ï¼Œå®ƒåŒæ ·æ˜¯å•ä¾‹çš„</span></span><br><span class="line">    <span class="keyword">companion</span> <span class="keyword">object</span> Tools&#123;</span><br><span class="line">        <span class="keyword">var</span> tempId:<span class="built_in">Int</span>=<span class="number">0</span></span><br><span class="line">        <span class="comment">//ä¼´ç”Ÿå¯¹è±¡å®šä¹‰çš„å‡½æ•°å¯ä»¥ç›´æ¥é€šè¿‡å¤–éƒ¨ç±»åè°ƒç”¨</span></span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">create</span><span class="params">(name: <span class="type">String</span>,age: <span class="type">Int</span>)</span></span>:Student&#123;</span><br><span class="line">           tempId+=<span class="number">1</span></span><br><span class="line">           <span class="keyword">return</span> Student(name,age, tempId)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> createStudent:(name:String,age:<span class="built_in">Int</span>)-&gt;Student=&#123;name: String, age: <span class="built_in">Int</span> -&gt;</span><br><span class="line">            tempId+=<span class="number">1</span></span><br><span class="line">            Student(name,age, tempId)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨companionå…³é”®å­—åœ¨å†…éƒ¨ç¼–å†™ä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡ï¼Œå®ƒåŒæ ·æ˜¯å•ä¾‹çš„</li><li>ä¼´ç”Ÿå¯¹è±¡å®šä¹‰çš„å‡½æ•°å¯ä»¥ç›´æ¥é€šè¿‡å¤–éƒ¨ç±»åè°ƒç”¨</li></ul><h2 id="å§”æ‰˜æ¨¡å¼"><a href="#å§”æ‰˜æ¨¡å¼" class="headerlink" title="å§”æ‰˜æ¨¡å¼"></a>å§”æ‰˜æ¨¡å¼</h2><p>ç»§æ‰¿çš„ä¸€ç§æ›´å¥½çš„æ›¿ä»£æ–¹æ¡ˆ</p><h3 id="æ‰‹åŠ¨å®ç°"><a href="#æ‰‹åŠ¨å®ç°" class="headerlink" title="æ‰‹åŠ¨å®ç°"></a>æ‰‹åŠ¨å®ç°</h3><p>æ¯”å¦‚ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªæ¥å£</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Message</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">speakMessage</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®ç°Messageæ¥å£çš„ç±»ï¼Œè¯¥ç±»æœ‰ä¸€ä¸ªå®ç°è¯¥æ¥å£çš„å¯¹è±¡<code>messageImpl</code></p><p>åœ¨é‡å†™Messageçš„æ¥å£çš„æ–¹æ³•æ—¶ï¼Œè°ƒç”¨<code>messageImpl</code>å¯¹äºæ–¹æ³•çš„å®ç°</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(<span class="keyword">var</span> messageImpl: Message) : Message &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">speakMessage</span><span class="params">()</span></span> = messageImpl.speakMessage() </span><br><span class="line">    <span class="comment">//çœŸæ­£å»å®ç°è¿™ä¸ªæ¥å£çš„ï¼Œå®é™…ä¸Šå¹¶ä¸æ˜¯å½“å‰ç±»ï¼Œè€Œæ˜¯è¢«æ‹‰è¿›æ¥çš„é‚£ä¸ªæ›¿èº«</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Aå§”æ‰˜åˆ«äººå»å®Œæˆæ–¹æ³•</p><h3 id="åŸå§‹æ”¯æŒby"><a href="#åŸå§‹æ”¯æŒby" class="headerlink" title="åŸå§‹æ”¯æŒby"></a>åŸå§‹æ”¯æŒ<code>by</code></h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Message</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">speakMessage</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(<span class="keyword">val</span> messageImpl: Message) : Message <span class="keyword">by</span> messageImpl</span><br></pre></td></tr></table></figure><h4 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="headerlink" title="æ‡’åŠ è½½"></a>æ‡’åŠ è½½</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span>&#123;</span><br><span class="line">    <span class="keyword">val</span> p: String <span class="keyword">by</span> lazy &#123; <span class="string">&quot;ddd&quot;</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//lazyä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªå§”æ‰˜å¯¹è±¡ï¼Œè¿™æ ·åœ¨è·å–å±æ€§å€¼çš„æ—¶å€™å°±ä¼šæ‰§è¡Œlazyé‡Œé¢çš„æ“ä½œäº†ï¼Œçœ‹èµ·æ¥æ•ˆæœå°±åƒæ˜¯å»¶è¿Ÿæ‰§è¡Œä¸€æ ·ï¼Œç”±äºåªèƒ½è·å–ï¼Œæ‰€ä»¥è¯´åªæ”¯æŒvalå˜é‡</span></span><br></pre></td></tr></table></figure><p>è·å–å±æ€§å€¼çš„æ—¶å€™å°±ä¼šæ‰§è¡Œlazyé‡Œé¢çš„æ“ä½œäº†ï¼Œçœ‹èµ·æ¥æ•ˆæœå°±åƒæ˜¯å»¶è¿Ÿæ‰§è¡Œä¸€æ ·ï¼Œç”±äºåªèƒ½è·å–ï¼Œæ‰€ä»¥è¯´åªæ”¯æŒvalå˜é‡</p><h4 id="è®¾ç½®æ£€æµ‹å™¨"><a href="#è®¾ç½®æ£€æµ‹å™¨" class="headerlink" title="è®¾ç½®æ£€æµ‹å™¨"></a>è®¾ç½®æ£€æµ‹å™¨</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span>&#123;</span><br><span class="line">    <span class="keyword">val</span> p: String <span class="keyword">by</span> Delegates.observable(<span class="string">&quot;æˆ‘æ˜¯åˆå§‹å€¼&quot;</span>)&#123;property, oldValue, newValue -&gt;</span><br><span class="line">        println(<span class="string">&quot;æ£€æµ‹åˆ°<span class="subst">$&#123;property&#125;</span>çš„å€¼å‘ç”Ÿå˜åŒ–,<span class="subst">$&#123;oldValue&#125;</span>-&gt;<span class="subst">$&#123;newValue&#125;</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯†å°ç±»"><a href="#å¯†å°ç±»" class="headerlink" title="å¯†å°ç±»"></a>å¯†å°ç±»</h3><p>æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç¼–å†™ä¸€äº›ç±»ç»™å…¶ä»–äººä½¿ç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›ä»–ä»¬éšæ„ç»§æ‰¿ä½¿ç”¨æˆ‘ä»¬æä¾›çš„ç±»ï¼Œæˆ‘ä»¬åªå¸Œæœ›åœ¨æˆ‘ä»¬æä¾›çš„æ¡†æ¶å†…éƒ¨è‡ªå·±è¿›è¡Œä½¿ç”¨ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥å°†ç±»æˆ–æ¥å£è®¾å®šä¸ºå¯†å°çš„</p><ul><li><p><code>sealed</code>å¯†å°ç±»å£°æ˜</p></li><li><p>å¯†å°ç±»åŒä¸€ä¸ªæ¨¡å—æˆ–åŒ…ä¸­å¯ä»¥éšæ„ç»§æ‰¿ï¼Œå¹¶ä¸”å­ç±»ä¹Ÿå¯ä»¥æ˜¯å¯†å°çš„</p></li><li><p>å¯†å°ç±»æœ¬èº«æ˜¯æŠ½è±¡çš„</p></li></ul><h2 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h2><h3 id="ç»§æ‰¿ç»“æ„"><a href="#ç»§æ‰¿ç»“æ„" class="headerlink" title="ç»§æ‰¿ç»“æ„"></a>ç»§æ‰¿ç»“æ„</h3><blockquote><p>kotlin.Throwable<br>â”‚<br>â”œâ”€â”€ kotlin.Exception<br>â”‚   â”œâ”€â”€ java.lang.RuntimeException<br>â”‚   â”‚   â”œâ”€â”€ java.lang.NullPointerException<br>â”‚   â”‚   â”œâ”€â”€ java.lang.IllegalArgumentException<br>â”‚   â”‚   â”œâ”€â”€ java.lang.IllegalStateException<br>â”‚   â”‚   â”œâ”€â”€ java.lang.IndexOutOfBoundsException<br>â”‚   â”‚   â””â”€â”€ java.lang.ClassCastException<br>â”‚   â”œâ”€â”€ java.io.IOException<br>â”‚   â””â”€â”€ java.lang.InterruptedException<br>â”‚</p><p>â”‚</p><p>â””â”€â”€ kotlin.Error<br> â”œâ”€â”€ java.lang.OutOfMemoryError<br> â”œâ”€â”€ java.lang.StackOverflowError<br> â””â”€â”€ java.lang.VirtualMachineError</p></blockquote><h4 id="Throwableç±»"><a href="#Throwableç±»" class="headerlink" title="Throwableç±»"></a>Throwableç±»</h4><p><code>Throwable</code> æ˜¯æ‰€æœ‰å¼‚å¸¸å’Œé”™è¯¯çš„æ ¹ç±»ã€‚</p><p><code>Throwable</code> çš„é‡è¦å±æ€§ï¼š</p><ul><li><code>message</code>ï¼šå¼‚å¸¸çš„æè¿°ä¿¡æ¯ã€‚</li><li><code>cause</code>ï¼šå¯¼è‡´è¯¥å¼‚å¸¸çš„æ ¹æœ¬åŸå› ã€‚</li></ul><p>å…·æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„æ„é€ å‡½æ•°ï¼š</p><p>constructor(message: String?) : this(message, null)</p><p>constructor(cause: Throwable?) : this(cause?.toString(), cause)</p><h3 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">catch</span> (e:Exception)&#123;</span><br><span class="line">    println(e)</span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        println(<span class="string">&quot;æ‰§è¡Œ finally å—&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰å¼‚å¸¸"><a href="#è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸"></a>è‡ªå®šä¹‰å¼‚å¸¸</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyException</span>():Exception(<span class="string">&quot;è‡ªå®šä¹‰å¼‚å¸¸&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ViewBinding</title>
      <link href="/2025/03/05/ViewBinding/"/>
      <url>/2025/03/05/ViewBinding/</url>
      
        <content type="html"><![CDATA[<h1 id="ViewBinding"><a href="#ViewBinding" class="headerlink" title="ViewBinding"></a>ViewBinding</h1><h2 id="ä»€ä¹ˆæ˜¯ViewBinding"><a href="#ä»€ä¹ˆæ˜¯ViewBinding" class="headerlink" title="ä»€ä¹ˆæ˜¯ViewBinding"></a>ä»€ä¹ˆæ˜¯ViewBinding</h2><p>ä¸ºäº†é¿å…ç¼–å†™findViewById()è€Œäº§ç”Ÿçš„ä¸€ä¸ªæ’ä»¶</p><p>æ—§çš„<code>kotlin-android-extensions</code>å·²è¢«æ”¾ç”¨</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åœ¨ä½ é¡¹ç›®å·¥ç¨‹æ¨¡å—çš„build.gradleä¸­ï¼Œå¼€å¯viewBinding</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">android&#123;</span><br><span class="line">    ...</span><br><span class="line">    buildFeatures&#123;</span><br><span class="line">        viewBinding <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Activityä¸­ä½¿ç”¨"><a href="#Activityä¸­ä½¿ç”¨" class="headerlink" title="Activityä¸­ä½¿ç”¨"></a>Activityä¸­ä½¿ç”¨</h2><p>å¯åŠ¨äº†ViewBindingåŠŸèƒ½ä¹‹åï¼ŒAndroid Studioä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æ‰€ç¼–å†™çš„æ¯ä¸€ä¸ªå¸ƒå±€æ–‡ä»¶éƒ½ç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„Bindingç±»</p><p>ä¾‹å¦‚ï¼šactivity_main.xmlå¸ƒå±€ï¼Œå¯¹åº”ç”ŸæˆActivityMainBinding</p><blockquote><p>å¦‚æœæŸå¸ƒå±€æ–‡ä»¶ä¸å¸Œæœ›ç”Ÿæˆå¯¹åº”çš„Bindingç±»ï¼Œå¯ä»¥åœ¨è¯¥å¸ƒå±€æ ¹å…ƒç´ ä¸­åŠ å…¥</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;LinearLayout</span><br><span class="line">Â Â Â Â xmlns:tools=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span><br><span class="line">Â Â Â Â ...</span><br><span class="line">Â Â Â Â tools:viewBindingIgnore=<span class="string">&quot;true&quot;</span>&gt;</span><br><span class="line">Â Â Â Â ...</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainActivity</span> : <span class="type">AppCompatActivity</span>() &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">        <span class="keyword">var</span> binding = ActivityMainBinding.inflate(layoutInflater)</span><br><span class="line">        setContentView(binding.root)</span><br><span class="line">        binding.tvMainHello.text = <span class="string">&quot;Hello Andorid&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ol><li><p>é¦–å…ˆæˆ‘ä»¬è¦è°ƒç”¨activity_main.xmlå¸ƒå±€æ–‡ä»¶å¯¹åº”çš„Bindingç±»ï¼Œä¹Ÿå°±æ˜¯ActivityMainBindingçš„**inflate()**å‡½æ•°å»åŠ è½½è¯¥å¸ƒå±€ï¼Œinflate()å‡½æ•°æ¥æ”¶ä¸€ä¸ªLayoutInflaterå‚æ•°</p></li><li><p>Bindingç±»çš„getRoot()å‡½æ•°å¯ä»¥å¾—åˆ°activity_main.xmlä¸­æ ¹å…ƒç´ çš„å®ä¾‹</p><p>è°ƒç”¨getvMainHello()å‡½æ•°å¯ä»¥è·å¾—idä¸ºtv_main_helloçš„å…ƒç´ å®ä¾‹</p></li></ol></blockquote><h3 id="bindingå…¨å±€å˜é‡"><a href="#bindingå…¨å±€å˜é‡" class="headerlink" title="bindingå…¨å±€å˜é‡"></a>bindingå…¨å±€å˜é‡</h3><p>å¦‚æœä½ éœ€è¦åœ¨onCreate()å‡½æ•°ä¹‹å¤–çš„åœ°æ–¹å¯¹æ§ä»¶è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆå°±å¾—å°†bindingå˜é‡å£°æ˜æˆå…¨å±€å˜é‡</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainActivity</span> : <span class="type">AppCompatActivity</span>() &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> binding: ActivityMainBinding</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">        binding = ActivityMainBinding.inflate(layoutInflater)</span><br><span class="line">        setContentView(binding.root)</span><br><span class="line">        binding.tvMainHello.text = <span class="string">&quot;Hello Andorid&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„</strong>ï¼šKotlinå£°æ˜çš„å˜é‡éƒ½å¿…é¡»åœ¨å£°æ˜çš„åŒæ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚è€Œè¿™é‡Œæˆ‘ä»¬æ˜¾ç„¶æ— æ³•åœ¨å£°æ˜å…¨å±€bindingå˜é‡çš„åŒæ—¶å¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰€ä»¥è¿™é‡Œåˆä½¿ç”¨äº†lateinitå…³é”®å­—å¯¹bindingå˜é‡è¿›è¡Œäº†å»¶è¿Ÿåˆå§‹åŒ–</p></blockquote><h2 id="Fragmentä¸­ä½¿ç”¨"><a href="#Fragmentä¸­ä½¿ç”¨" class="headerlink" title="Fragmentä¸­ä½¿ç”¨"></a>Fragmentä¸­ä½¿ç”¨</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TestFragment</span>: <span class="type">Fragment</span>() &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨å¯ç©ºç±»å‹å£°æ˜ binding å˜é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> _binding: FragmentTestBinding? =<span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨å§”æ‰˜å±æ€§è·å–éç©ºçš„ binding å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> binding <span class="keyword">get</span>() = _binding!!</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreateView</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        inflater: <span class="type">LayoutInflater</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">        container: <span class="type">ViewGroup</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">        savedInstanceState: <span class="type">Bundle</span>?</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: View? &#123;</span><br><span class="line">        _binding = FragmentTestBinding.inflate(inflater,container,<span class="literal">false</span>)</span><br><span class="line">        <span class="keyword">return</span> binding.root</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onDestroyView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroyView()</span><br><span class="line">        _binding = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å’Œåœ¨Activityä¸­ä½¿ç”¨ç›¸ä¼¼</p><p>è°ƒç”¨FragmentMainBindingçš„inflate()å‡½æ•°å»åŠ è½½fragment_main.xmlå¸ƒå±€æ–‡ä»¶ï¼Œä½†ç”±äºè¿™æ˜¯åœ¨Fragmentå½“ä¸­ï¼Œæ‰€ä»¥ä½¿ç”¨äº†3ä¸ªå‚æ•°çš„inflate()å‡½æ•°é‡è½½ï¼Œè¿™å’Œæˆ‘ä»¬å¹³æ—¶åœ¨Fragmentä¸­å»åŠ è½½å¸ƒå±€æ–‡ä»¶çš„æ–¹å¼å¦‚å‡ºä¸€è¾™</p></blockquote><blockquote><p><strong>ä¸åŒç‚¹</strong></p><p>ç”±äºæˆ‘ä»¬æ˜¯åœ¨onCreateView()å‡½æ•°ä¸­åŠ è½½çš„å¸ƒå±€ï¼Œé‚£ä¹ˆç†åº”åœ¨ä¸å…¶å¯¹åº”çš„onDestroyView()å‡½æ•°ä¸­å¯¹bindingå˜é‡ç½®ç©ºï¼Œä»è€Œä¿è¯bindingå˜é‡çš„æœ‰æ•ˆç”Ÿå‘½å‘¨æœŸæ˜¯åœ¨onCreateView()å‡½æ•°å’ŒonDestroyView()å‡½æ•°ä¹‹é—´</p><p>åˆå› ä¸ºï¼Œéœ€è¦åœ¨onDestroyView()ç½®ç©ºbindingæ‰€ä»¥bindingéœ€è¦ä¸ºå¯ç©ºç±»å‹</p></blockquote><h2 id="åœ¨Adapterä¸­ä½¿ç”¨"><a href="#åœ¨Adapterä¸­ä½¿ç”¨" class="headerlink" title="åœ¨Adapterä¸­ä½¿ç”¨"></a>åœ¨Adapterä¸­ä½¿ç”¨</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RvAdapter</span>(<span class="keyword">val</span> InfoList:List&lt;InfoData&gt;): RecyclerView.Adapter&lt;RvAdapter.ViewHolder&gt;() &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreateViewHolder</span><span class="params">(parent: <span class="type">ViewGroup</span>, viewType: <span class="type">Int</span>)</span></span>: ViewHolder &#123;</span><br><span class="line">        <span class="keyword">val</span> binding = ItemContentBinding.inflate(LayoutInflater.from(parent.context), parent, <span class="literal">false</span>)</span><br><span class="line">        <span class="keyword">return</span> ViewHolder(binding)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getItemCount</span><span class="params">()</span></span>: <span class="built_in">Int</span> = InfoList.size</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onBindViewHolder</span><span class="params">(holder: <span class="type">ViewHolder</span>, position: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">val</span> (title,content,imageId) = InfoList[position]</span><br><span class="line">        holder.tv_title.text=title</span><br><span class="line">        holder.tv_content.text=content</span><br><span class="line">        holder.imageView.setImageResource(imageId)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">inner</span> <span class="keyword">class</span> <span class="title class_">ViewHolder</span>(binding: ItemContentBinding):RecyclerView.ViewHolder(binding.root)&#123;</span><br><span class="line">        <span class="keyword">val</span> imageView: ImageView = binding.ivImg</span><br><span class="line">        <span class="keyword">val</span> tv_title: TextView = binding.tvTitle</span><br><span class="line">        <span class="keyword">val</span> tv_content: TextView = binding.tvContent</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨**onCreateViewHolder()**å‡½æ•°ä¸­è°ƒç”¨ItemContentBindingçš„inflate()å‡½æ•°å»åŠ è½½item_content.xmlå¸ƒå±€æ–‡ä»¶ï¼Œè¿™å’ŒViewBindingåœ¨Fragmentä¸­çš„ç”¨æ³•æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</li><li><strong>ViewHolder</strong>ï¼Œè®©å…¶æ„é€ å‡½æ•°æ¥æ”¶ItemContentBindingè¿™ä¸ªå‚æ•°ã€‚ä½†æ˜¯æ³¨æ„ï¼ŒViewHolderçš„çˆ¶ç±»RecyclerView.ViewHolderå®ƒåªä¼šæ¥æ”¶Viewç±»å‹çš„å‚æ•°ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è°ƒç”¨binding.rootè·å¾—fruit_item.xmlä¸­æ ¹å…ƒç´ çš„å®ä¾‹ä¼ ç»™RecyclerView.ViewHolderã€‚</li></ul></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OkHttpä¸Retrofit</title>
      <link href="/2025/01/31/OkHttp%E4%B8%8ERetrofit/"/>
      <url>/2025/01/31/OkHttp%E4%B8%8ERetrofit/</url>
      
        <content type="html"><![CDATA[<h1 id="OkHttp"><a href="#OkHttp" class="headerlink" title="OkHttp"></a>OkHttp</h1><h2 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h2><p><strong>å¹¶è¡Œã€ä¸²è¡Œã€å¹¶å‘</strong> â€”â€” <strong>ä»»åŠ¡æ‰§è¡Œæ–¹å¼</strong>ï¼ˆè¿›ç¨‹&#x2F;çº¿ç¨‹å¦‚ä½•æ‰§è¡Œä»»åŠ¡ï¼‰</p><blockquote><p><strong>ä¸²è¡Œ</strong>ï¼šä»»åŠ¡æŒ‰é¡ºåºé€ä¸ªæ‰§è¡Œï¼Œæ¯ä¸ªä»»åŠ¡å¿…é¡»ç­‰å¾…ä¸Šä¸€ä¸ªä»»åŠ¡å®Œæˆåæ‰èƒ½å¼€å§‹</p><p><strong>å¹¶è¡Œ</strong>ï¼šå¤šä¸ªä»»åŠ¡<strong>çœŸæ­£åŒæ—¶æ‰§è¡Œ</strong>ï¼Œé€šå¸¸éœ€è¦å¤šä¸ªçº¿ç¨‹æˆ–å¤šä¸ª CPU æ ¸å¿ƒæ¥å®ç°ã€‚æ¯ä¸ªä»»åŠ¡åœ¨ä¸åŒçš„æ ¸å¿ƒæˆ–çº¿ç¨‹ä¸Šè¿è¡Œï¼Œä»»åŠ¡ä¹‹é—´ä¸ä¼šäº¤æ›¿ï¼Œè€Œæ˜¯<strong>åŒæ—¶è¿›è¡Œ</strong></p><p><strong>å¹¶å‘ï¼šå¤šä¸ªä»»åŠ¡çœ‹ä¼¼åœ¨åŒä¸€æ—¶é—´è¿›è¡Œï¼Œä½†å®é™…ä¸Šå®ƒä»¬æ˜¯</strong>äº¤æ›¿æ‰§è¡Œ**çš„ã€‚æ“ä½œç³»ç»Ÿå¯èƒ½ä¼šåœ¨å¤šä¸ªä»»åŠ¡ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œé€šå¸¸æ˜¯åœ¨å•çº¿ç¨‹æˆ–å°‘æ•°çº¿ç¨‹çš„ç¯å¢ƒä¸‹</p></blockquote><p><strong>åŒæ­¥ã€å¼‚æ­¥</strong> â€”â€” <strong>ä»»åŠ¡æäº¤å’Œç­‰å¾…æœºåˆ¶</strong>ï¼ˆä»»åŠ¡æ˜¯å¦‚ä½•æäº¤ã€å¦‚ä½•ç­‰å¾…ç»“æœï¼‰</p><blockquote><p><strong>åŒæ­¥</strong>ï¼šå½“ä»»åŠ¡è¢«æäº¤æ—¶ï¼Œè°ƒç”¨è€…ä¼šç­‰å¾…ä»»åŠ¡å®Œæˆæ‰èƒ½ç»§ç»­æ‰§è¡Œåç»­æ“ä½œã€‚ä»»åŠ¡å®Œæˆåæ‰è¿”å›ç»“æœæˆ–ç»§ç»­æ‰§è¡Œã€‚æ˜¯<strong>é˜»å¡</strong>çš„ï¼Œè°ƒç”¨è€…åœ¨ä»»åŠ¡å®Œæˆå‰æ— æ³•è¿›è¡Œå…¶ä»–æ“ä½œã€‚</p><p><strong>å¼‚æ­¥</strong>ï¼šå½“ä»»åŠ¡è¢«æäº¤æ—¶ï¼Œè°ƒç”¨è€…ä¸ä¼šç­‰å¾…ä»»åŠ¡å®Œæˆï¼Œè€Œæ˜¯<strong>ç«‹å³è¿”å›</strong>ï¼Œå¹¶åœ¨ä»»åŠ¡å®Œæˆæ—¶é€šè¿‡å›è°ƒå‡½æ•°æˆ–é€šçŸ¥æœºåˆ¶æ¥è·å–ç»“æœã€‚è°ƒç”¨è€…å¯ä»¥ç»§ç»­åšå…¶ä»–å·¥ä½œï¼Œä»»åŠ¡å®Œæˆåä¼šè§¦å‘å›è°ƒã€‚<strong>éé˜»å¡</strong>çš„ï¼Œè°ƒç”¨è€…å¯ä»¥åœ¨ç­‰å¾…æœŸé—´åšå…¶ä»–äº‹ã€‚</p></blockquote><h2 id="å¯¼åŒ…"><a href="#å¯¼åŒ…" class="headerlink" title="å¯¼åŒ…"></a>å¯¼åŒ…</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">&#x27;com.squareup.okhttp3:okhttp:4.9.0&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h2><h3 id="åˆ›å»ºOkhttpClientï¼ˆè¯·æ±‚å™¨ï¼‰"><a href="#åˆ›å»ºOkhttpClientï¼ˆè¯·æ±‚å™¨ï¼‰" class="headerlink" title="åˆ›å»ºOkhttpClientï¼ˆè¯·æ±‚å™¨ï¼‰"></a>åˆ›å»ºOkhttpClientï¼ˆè¯·æ±‚å™¨ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">OkHttpClient</span> <span class="variable">okHttpClient</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OkHttpClient</span>();</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºRequestï¼ˆè®¾ç½®è¯·æ±‚çš„å‚æ•°ï¼‰"><a href="#åˆ›å»ºRequestï¼ˆè®¾ç½®è¯·æ±‚çš„å‚æ•°ï¼‰" class="headerlink" title="åˆ›å»ºRequestï¼ˆè®¾ç½®è¯·æ±‚çš„å‚æ•°ï¼‰"></a>åˆ›å»ºRequestï¼ˆè®¾ç½®è¯·æ±‚çš„å‚æ•°ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>.Builder().url(<span class="string">&quot;https://www.httpbin.org/get&quot;</span>).build();</span><br></pre></td></tr></table></figure><h3 id="è·å–å‡†å¤‡å¥½è¯·æ±‚çš„Callå¯¹è±¡"><a href="#è·å–å‡†å¤‡å¥½è¯·æ±‚çš„Callå¯¹è±¡" class="headerlink" title="è·å–å‡†å¤‡å¥½è¯·æ±‚çš„Callå¯¹è±¡"></a>è·å–å‡†å¤‡å¥½è¯·æ±‚çš„Callå¯¹è±¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Call</span> <span class="variable">call</span> <span class="operator">=</span> okHttpClient.newCall(request);</span><br></pre></td></tr></table></figure><h3 id="è¿›è¡Œè®¿é—®"><a href="#è¿›è¡Œè®¿é—®" class="headerlink" title="è¿›è¡Œè®¿é—®"></a>è¿›è¡Œè®¿é—®</h3><h4 id="åŒæ­¥"><a href="#åŒæ­¥" class="headerlink" title="åŒæ­¥"></a>åŒæ­¥</h4><p>åŒæ­¥è®¿é—®éœ€è¦ç›´æ¥æ‰‹åŠ¨å¼€è¾Ÿä¸€ä¸ªæ–°çš„çº¿ç¨‹è¿›è¡Œç½‘ç»œè®¿é—®ï¼Œå› ä¸ºå¦‚æœä¸å¼€é€šåˆ™ä¼šé˜»å¡ä¸»çº¿ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call.execute();<span class="comment">//åŒæ­¥</span></span><br></pre></td></tr></table></figure><h4 id="å¼‚æ­¥"><a href="#å¼‚æ­¥" class="headerlink" title="å¼‚æ­¥"></a>å¼‚æ­¥</h4><p>å¼‚æ­¥è®¿é—®ä¸éœ€è¦è‡ªå·±æ‰‹åŠ¨å¼€è¾Ÿä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œåœ¨ OkHttp ä¸­ï¼Œä½¿ç”¨ <strong><code>enqueue()</code></strong> æ–¹æ³•æ¥æ‰§è¡Œç½‘ç»œè¯·æ±‚æ—¶ï¼Œå®ƒå†…éƒ¨ä¼šä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå­çº¿ç¨‹ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨ä¸»çº¿ç¨‹ï¼ˆUIçº¿ç¨‹ï¼‰ä¸­æ‰§è¡Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼‚æ­¥</span></span><br><span class="line">call.enqueue(<span class="keyword">new</span> <span class="title class_">Callback</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onFailure</span><span class="params">(<span class="meta">@NonNull</span> Call call, <span class="meta">@NonNull</span> IOException e)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//è°ƒç”¨onResponseä»£è¡¨ä¸æœåŠ¡å™¨çš„æ²Ÿé€šæˆåŠŸï¼Œå¹¶ä¸ä¸€å®šæ˜¯æ‹¿åˆ°äº†æ•°æ®</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResponse</span><span class="params">(<span class="meta">@NonNull</span> Call call, <span class="meta">@NonNull</span> Response response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">                <span class="keyword">if</span> (response.isSuccessful())&#123;</span><br><span class="line">                    Log.i(TAG, <span class="string">&quot;onResponse: &quot;</span>+response.body().string());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h2 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h2><p>å…¶ä»–æ­¥éª¤ä¸getç›¸åŒï¼Œåœ¨åˆ›å»ºRequestçš„æ—¶å€™æœ‰å·®åˆ«</p><h3 id="åˆ›å»ºRequestï¼ˆè®¾ç½®è¯·æ±‚çš„å‚æ•°ï¼‰ï¼Œä¸getæœ‰å·®åˆ«"><a href="#åˆ›å»ºRequestï¼ˆè®¾ç½®è¯·æ±‚çš„å‚æ•°ï¼‰ï¼Œä¸getæœ‰å·®åˆ«" class="headerlink" title="åˆ›å»ºRequestï¼ˆè®¾ç½®è¯·æ±‚çš„å‚æ•°ï¼‰ï¼Œä¸getæœ‰å·®åˆ«"></a>åˆ›å»ºRequestï¼ˆè®¾ç½®è¯·æ±‚çš„å‚æ•°ï¼‰ï¼Œä¸getæœ‰å·®åˆ«</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FormBody</span> <span class="variable">formBody</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FormBody</span>.Builder().add(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;1&quot;</span>).add(<span class="string">&quot;b&quot;</span>, <span class="string">&quot;2&quot;</span>).build();</span><br><span class="line"><span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>.Builder().url(<span class="string">&quot;https://https://www.httpbin.org/post&quot;</span>).post(formBody).</span><br><span class="line">    build();</span><br></pre></td></tr></table></figure><p>Request.Builder()é»˜è®¤æ˜¯Getæ‰€ä»¥ä¸ç”¨å†™<code>.get()</code>,ä½†å½“postçš„æ—¶å€™éœ€è¦å£°æ˜<code>.post(RequestBody)</code>(è¯·æ±‚ä½“),<code>FormBody</code> å¯ä»¥ç”¨æ¥æ„å»º <strong>é”®å€¼å¯¹</strong> æ•°æ®</p><h2 id="æœ€åé™„ä¸Šæºç "><a href="#æœ€åé™„ä¸Šæºç " class="headerlink" title="æœ€åé™„ä¸Šæºç "></a>æœ€åé™„ä¸Šæºç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainActivity</span> <span class="keyword">extends</span> <span class="title class_">AppCompatActivity</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> OkHttpClient okHttpClient;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">TAG</span> <span class="operator">=</span><span class="string">&quot;MainActivity&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        okHttpClient=<span class="keyword">new</span> <span class="title class_">OkHttpClient</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//getåŒæ­¥è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getSync</span><span class="params">(View view)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>.Builder().url(<span class="string">&quot;https://www.httpbin.org/get&quot;</span>).build();</span><br><span class="line"></span><br><span class="line">                <span class="comment">//è·å–å‡†å¤‡å¥½è¯·æ±‚çš„Callå¯¹è±¡</span></span><br><span class="line">                <span class="type">Call</span> <span class="variable">call</span> <span class="operator">=</span> okHttpClient.newCall(request);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="type">Response</span> <span class="variable">response</span> <span class="operator">=</span> call.execute();</span><br><span class="line">                    Log.i(TAG, <span class="string">&quot;getSync: &quot;</span>+response.body().string());</span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//getå¼‚æ­¥è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getAsync</span><span class="params">(View view)</span> &#123;</span><br><span class="line">        <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>.Builder().url(<span class="string">&quot;https://v1.hitokoto.cn/&quot;</span>).build();</span><br><span class="line">        <span class="type">Call</span> <span class="variable">call</span> <span class="operator">=</span> okHttpClient.newCall(request);</span><br><span class="line">        call.enqueue(<span class="keyword">new</span> <span class="title class_">Callback</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onFailure</span><span class="params">(<span class="meta">@NonNull</span> Call call, <span class="meta">@NonNull</span> IOException e)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResponse</span><span class="params">(<span class="meta">@NonNull</span> Call call, <span class="meta">@NonNull</span> Response response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">                <span class="keyword">if</span> (response.isSuccessful())&#123;</span><br><span class="line">                    Log.i(TAG, <span class="string">&quot;onResponse: &quot;</span>+response.body().string());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//poståŒæ­¥è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postSync</span><span class="params">(View view)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="type">FormBody</span> <span class="variable">formBody</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FormBody</span>.Builder().add(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;1&quot;</span>).add(<span class="string">&quot;b&quot;</span>, <span class="string">&quot;2&quot;</span>).build();</span><br><span class="line">                <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>.Builder().url(<span class="string">&quot;https://www.httpbin.org/post&quot;</span>).post(formBody).build();</span><br><span class="line">                <span class="type">Call</span> <span class="variable">call</span> <span class="operator">=</span> okHttpClient.newCall(request);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="type">Response</span> <span class="variable">response</span> <span class="operator">=</span> call.execute();</span><br><span class="line">                    Log.i(TAG, <span class="string">&quot;run: &quot;</span>+response.body().string());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    Log.i(TAG, <span class="string">&quot;run: &quot;</span>+e.toString());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//postå¼‚æ­¥è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postAsync</span><span class="params">(View view)</span> &#123;</span><br><span class="line">        <span class="type">FormBody</span> <span class="variable">formBody</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FormBody</span>.Builder().add(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;1&quot;</span>).add(<span class="string">&quot;b&quot;</span>, <span class="string">&quot;1&quot;</span>).build();</span><br><span class="line">        <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>.Builder().url(<span class="string">&quot;https://www.httpbin.org/post&quot;</span>).post(formBody).build();</span><br><span class="line">        Log.i(TAG, <span class="string">&quot;postAsync1: &quot;</span>+request.body().toString());</span><br><span class="line">        <span class="type">Call</span> <span class="variable">call</span> <span class="operator">=</span> okHttpClient.newCall(request);</span><br><span class="line">        call.enqueue(<span class="keyword">new</span> <span class="title class_">Callback</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onFailure</span><span class="params">(<span class="meta">@NonNull</span> Call call, <span class="meta">@NonNull</span> IOException e)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResponse</span><span class="params">(<span class="meta">@NonNull</span> Call call, <span class="meta">@NonNull</span> Response response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">                <span class="keyword">if</span> (response.isSuccessful())&#123;</span><br><span class="line">                    Log.i(TAG, <span class="string">&quot;onResponse: &quot;</span>+response.body().string());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="POSTè¯·æ±‚"><a href="#POSTè¯·æ±‚" class="headerlink" title="POSTè¯·æ±‚"></a>POSTè¯·æ±‚</h2><p>åè®®è§„å®šäº†POSTæäº¤çš„æ•°æ®å¿…é¡»å­˜æ”¾åœ¨è¯·æ±‚ä½“ä¸­</p><p><a href="https://www.runoob.com/http/http-content-type.html">HTTP content-type | èœé¸Ÿæ•™ç¨‹</a></p><p>Content-Typeï¼šapplication&#x2F;x-www-form-urlencoded æ•°æ®è¢«ç¼–ç ä¸ºé”®å€¼å¯¹ï¼Œé»˜è®¤ç±»å‹</p><p>Content-Typeï¼šmultipart&#x2F;form-data æ•°æ®è¢«ç¼–ç æˆä¸€æ¡æ¶ˆæ¯ï¼Œä¸€èˆ¬ç”¨äºæ–‡ä»¶ä¸Šä¼ </p><p>Content-Typeï¼šapplication&#x2F;octet-stream æäº¤äºŒè¿›åˆ¶æ•°æ®ï¼ŒåŒäºæ–‡ä»¶ä¸Šä¼ ï¼Œåªèƒ½ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ï¼›</p><p>Content-Typeï¼šapplication&#x2F;json æäº¤jsonæ•°æ®</p><p>and so on</p><h1 id="Builderæ„å»ºè€…ï¼Œè‡ªå®šä¹‰é…ç½®"><a href="#Builderæ„å»ºè€…ï¼Œè‡ªå®šä¹‰é…ç½®" class="headerlink" title="Builderæ„å»ºè€…ï¼Œè‡ªå®šä¹‰é…ç½®"></a>Builderæ„å»ºè€…ï¼Œè‡ªå®šä¹‰é…ç½®</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OkHttpClient okHttpClient=<span class="keyword">new</span> <span class="title class_">OkHttpClient</span>.Builder().build();</span><br></pre></td></tr></table></figure><h3 id="æ‹¦æˆªå™¨-Interceptor"><a href="#æ‹¦æˆªå™¨-Interceptor" class="headerlink" title="æ‹¦æˆªå™¨ Interceptor"></a>æ‹¦æˆªå™¨ Interceptor</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Interceptor</span>() &#123;</span><br><span class="line">            <span class="meta">@NonNull</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Response <span class="title function_">intercept</span><span class="params">(<span class="meta">@NonNull</span> Chain chain)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">                <span class="comment">//å‰ç½®å¤„ç†</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="type">Response</span> <span class="variable">response</span> <span class="operator">=</span> chain.proceed(chain.request());</span><br><span class="line"></span><br><span class="line">                <span class="comment">//åç½®å¤„ç†</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> response;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>OkHttpClient.Builder()å¯ä»¥æ·»åŠ 2ç§æ‹¦æˆªå™¨</p><blockquote><p>.addInterceptor()</p><p>.addNetworkInterceptor()ï¼Œåªåœ¨è¯·æ±‚æˆåŠŸåˆ°è¾¾æœåŠ¡å™¨å¹¶ä¸”æœåŠ¡å™¨è¿”å›å“åº”ä¹‹åæ‰ä¼šè¢«è°ƒç”¨</p></blockquote><h3 id="Chain-çš„ä¸¤ä¸ªå…³é”®æ–¹æ³•"><a href="#Chain-çš„ä¸¤ä¸ªå…³é”®æ–¹æ³•" class="headerlink" title="Chain çš„ä¸¤ä¸ªå…³é”®æ–¹æ³•"></a><code>Chain</code> çš„ä¸¤ä¸ªå…³é”®æ–¹æ³•</h3><ul><li><strong><code>request()</code></strong>ï¼šè·å–å½“å‰è¯·æ±‚å¯¹è±¡ã€‚</li><li><strong><code>proceed(Request request)</code></strong>ï¼šæ‰§è¡Œé“¾æ¡çš„ä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œå‘é€è¯·æ±‚å¹¶è·å–å“åº”</li></ul><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">OkHttpClient</span> <span class="variable">okHttpClient</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OkHttpClient</span>.Builder().cookieJar(<span class="keyword">new</span> <span class="title class_">CookieJar</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//ä¿å­˜Cookieï¼Œå‚æ•°ï¼šhttpUrlï¼šå½“å‰è¯·æ±‚çš„ URLã€listï¼šæœåŠ¡å™¨è¿”å›çš„ Cookie åˆ—è¡¨ã€‚</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveFromResponse</span><span class="params">(<span class="meta">@NonNull</span> HttpUrl httpUrl, <span class="meta">@NonNull</span> List&lt;Cookie&gt; list)</span> &#123;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@NonNull</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//åœ¨å‘é€è¯·æ±‚å‰ï¼ŒOkHttp ä¼šè°ƒç”¨è¯¥æ–¹æ³•æ¥è·å–åº”è¯¥é™„åŠ åˆ°è¯·æ±‚ä¸­çš„ Cookie</span></span><br><span class="line">            <span class="keyword">public</span> List&lt;Cookie&gt; <span class="title function_">loadForRequest</span><span class="params">(<span class="meta">@NonNull</span> HttpUrl httpUrl)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> Collections.emptyList();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).build();</span><br></pre></td></tr></table></figure><p>åœ¨å†…å­˜ä¸­ä¿å­˜Cookie</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String,List&lt;Cookie&gt;&gt; cookies=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cookieUnitTest</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//**********åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„OkHttpClient**********</span></span><br><span class="line">        <span class="type">OkHttpClient</span> <span class="variable">okHttpClient</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OkHttpClient</span>.Builder().cookieJar(<span class="keyword">new</span> <span class="title class_">CookieJar</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="comment">//ä¿å­˜Cookie</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveFromResponse</span><span class="params">(<span class="meta">@NonNull</span> HttpUrl httpUrl, <span class="meta">@NonNull</span> List&lt;Cookie&gt; list)</span> &#123;</span><br><span class="line">                cookies.put(httpUrl.host(),list);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@NonNull</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="comment">//ç»™è®¿é—®æ·»åŠ Cookie</span></span><br><span class="line">            <span class="keyword">public</span> List&lt;Cookie&gt; <span class="title function_">loadForRequest</span><span class="params">(<span class="meta">@NonNull</span> HttpUrl httpUrl)</span> &#123;</span><br><span class="line">                List&lt;Cookie&gt; cookie = cookies.get(httpUrl.host());</span><br><span class="line">                <span class="keyword">return</span> cookie==<span class="literal">null</span>?Collections.emptyList():cookie;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).build();</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="type">FormBody</span> <span class="variable">formBody</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FormBody</span>.Builder().add(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;dadadapp&quot;</span>).add(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;dddddd&quot;</span>).build();</span><br><span class="line"></span><br><span class="line">        <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>.Builder().url(<span class="string">&quot;https://www.wanandroid.com/user/login&quot;</span>).post(formBody).build();</span><br><span class="line">        <span class="type">Call</span> <span class="variable">call</span> <span class="operator">=</span> okHttpClient.newCall(request);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Response</span> <span class="variable">response</span> <span class="operator">=</span> call.execute();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        request =<span class="keyword">new</span> <span class="title class_">Request</span>.Builder().url(<span class="string">&quot;https://www.wanandroid.com/lg/collect/list/0/json&quot;</span>).get().build();</span><br><span class="line">        <span class="type">Call</span> <span class="variable">call1</span> <span class="operator">=</span> okHttpClient.newCall(request);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Response</span> <span class="variable">response</span> <span class="operator">=</span> call1.execute();</span><br><span class="line">            System.out.println(response.body().string());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1 id="Retrofit"><a href="#Retrofit" class="headerlink" title="Retrofit"></a>Retrofit</h1><p>åŸºäºOkHttpçš„å°è£…</p><h2 id="Retrofitçš„åŸºæœ¬ä½¿ç”¨"><a href="#Retrofitçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="Retrofitçš„åŸºæœ¬ä½¿ç”¨"></a>Retrofitçš„åŸºæœ¬ä½¿ç”¨</h2><h3 id="æ ¹æ®Httpæ¥å£ï¼Œåˆ›å»ºjavaæ¥å£"><a href="#æ ¹æ®Httpæ¥å£ï¼Œåˆ›å»ºjavaæ¥å£" class="headerlink" title="æ ¹æ®Httpæ¥å£ï¼Œåˆ›å»ºjavaæ¥å£"></a>æ ¹æ®Httpæ¥å£ï¼Œåˆ›å»ºjavaæ¥å£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">HttpbinService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@POST(&quot;post&quot;)</span></span><br><span class="line">    <span class="meta">@FormUrlEncoded</span></span><br><span class="line">    Call&lt;ResponseBody&gt; <span class="title function_">post</span><span class="params">(<span class="meta">@Field(&quot;username&quot;)</span> String username, <span class="meta">@Field(&quot;password&quot;)</span> String password)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET(&quot;get&quot;)</span></span><br><span class="line">    Call&lt;ResponseBody&gt; <span class="title function_">get</span><span class="params">(<span class="meta">@Query(&quot;username&quot;)</span> String username , <span class="meta">@Query(&quot;password&quot;)</span> String password)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š Callæ˜¯RetrofitåŒ…é‡Œçš„Callï¼ŒResponseBodyæ˜¯OkHttpåŒ…é‡Œçš„</p><h3 id="åˆ›å»ºRetrofitçš„å¯¹è±¡ï¼Œå¹¶ç”Ÿæˆæ¥å£å®ç°ç±»å¯¹è±¡"><a href="#åˆ›å»ºRetrofitçš„å¯¹è±¡ï¼Œå¹¶ç”Ÿæˆæ¥å£å®ç°ç±»å¯¹è±¡" class="headerlink" title="åˆ›å»ºRetrofitçš„å¯¹è±¡ï¼Œå¹¶ç”Ÿæˆæ¥å£å®ç°ç±»å¯¹è±¡"></a>åˆ›å»ºRetrofitçš„å¯¹è±¡ï¼Œå¹¶ç”Ÿæˆæ¥å£å®ç°ç±»å¯¹è±¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Retrofit</span> <span class="variable">retrofit</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Retrofit</span>.Builder().baseUrl(<span class="string">&quot;https://www.httpbin.org/&quot;</span>).build();</span><br><span class="line"><span class="type">HttpbinService</span> <span class="variable">httpbinService</span> <span class="operator">=</span> retrofit.create(HttpbinService.class);</span><br></pre></td></tr></table></figure><h3 id="è°ƒç”¨"><a href="#è°ƒç”¨" class="headerlink" title="è°ƒç”¨"></a>è°ƒç”¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">retrofit2.Call&lt;ResponseBody&gt; call = httpbinService.post(<span class="string">&quot;hiir&quot;</span>, <span class="string">&quot;dddddd&quot;</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    call.execute();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Retrofitçš„æ³¨è§£"><a href="#Retrofitçš„æ³¨è§£" class="headerlink" title="Retrofitçš„æ³¨è§£"></a>Retrofitçš„æ³¨è§£</h2><blockquote><p>æ–¹æ³•æ³¨è§£ï¼š<code>@GET</code>ã€<code>@POST</code>ã€<code> @PUT</code>ã€<code>@DELETE</code>ã€<code>@PATH</code>ã€<code>@HEAD</code>ã€<code>@OPTIONS</code>ã€<code>@HTTP</code></p><p>æ ‡è®°æ³¨è§£ï¼š<code>@FormUrlEncoded</code>ã€<code>@Multipart</code>ã€<code>@Streaming</code></p><p>å‚æ•°æ³¨è§£ï¼š<code>@Query</code>ã€<code>@QueryMap</code>ã€<code>@Body</code>ã€<code>@Field</code>ã€<code>@FieldMap</code>ã€<code>@Part</code>ã€<code>@PartMap</code></p><p>å…¶ä»–æ³¨è§£ï¼š<code>@Path</code>ã€<code>@Header</code>ã€<code>@Headers</code>ã€<code>@Url</code></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ROOMæ¡†æ¶</title>
      <link href="/2025/01/23/ROOM%E6%A1%86%E6%9E%B6/"/>
      <url>/2025/01/23/ROOM%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="ROOMæ¡†æ¶"><a href="#ROOMæ¡†æ¶" class="headerlink" title="ROOMæ¡†æ¶"></a>ROOMæ¡†æ¶</h1><p>Room æ˜¯ Android å®˜æ–¹æä¾›çš„ä¸€ä¸ªç”¨äºå¤„ç† SQLite æ•°æ®åº“çš„æŒä¹…åŒ–åº“ï¼Œå®ƒåœ¨ SQLite åŸºç¡€ä¸Šè¿›è¡Œäº†å°è£…ï¼Œç®€åŒ–äº†æ•°æ®åº“æ“ä½œï¼Œæä¾›äº†æ›´ç›´è§‚ã€é«˜æ•ˆä¸”ç±»å‹å®‰å…¨çš„æ•°æ®åº“è®¿é—®æ–¹å¼</p><h2 id="ä¸»è¦ç»„ä»¶"><a href="#ä¸»è¦ç»„ä»¶" class="headerlink" title="ä¸»è¦ç»„ä»¶"></a>ä¸»è¦ç»„ä»¶</h2><blockquote><p><strong>æ•°æ®åº“ï¼ˆDatabaseï¼‰</strong></p><ul><li>è¿™æ˜¯ Room æ¡†æ¶çš„æ ¸å¿ƒç±»ï¼Œéœ€ç»§æ‰¿ <code>RoomDatabase</code> æŠ½è±¡ç±»ã€‚</li><li>åˆ©ç”¨ <code>@Database</code> æ³¨è§£å¯¹å…¶è¿›è¡Œæ ‡æ³¨ï¼Œè¯¥æ³¨è§£ç”¨äºæŒ‡å®šæ•°æ®åº“åŒ…å«çš„å®ä½“ç±»å’Œç‰ˆæœ¬å·ã€‚</li><li>ä¸ºæ¯ä¸ª <code>DAO</code>ï¼ˆæ•°æ®è®¿é—®å¯¹è±¡ï¼‰æä¾›ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œè¿”å›å¯¹åº”çš„ <code>DAO</code> å®ä¾‹</li></ul><p><strong>å®ä½“ï¼ˆEntityï¼‰</strong></p><ul><li>ä»£è¡¨æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ï¼Œæ˜¯ä¸€ä¸ª Java æˆ– Kotlin ç±»ã€‚</li><li>ç”¨ <code>@Entity</code> æ³¨è§£æ ‡æ³¨ï¼Œå¯æŒ‡å®šè¡¨åç­‰ä¿¡æ¯ã€‚</li><li>ç±»ä¸­çš„æ¯ä¸ªå­—æ®µå¯¹åº”è¡¨ä¸­çš„ä¸€åˆ—ï¼Œå¯ä½¿ç”¨ <code>@PrimaryKey</code> æ³¨è§£æŒ‡å®šä¸»é”®ã€‚</li></ul><p><strong>æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆDAOï¼‰</strong></p><ul><li>æ˜¯ä¸€ä¸ªæ¥å£æˆ–æŠ½è±¡ç±»ï¼Œå€ŸåŠ©æ³¨è§£å®šä¹‰æ•°æ®åº“æ“ä½œæ–¹æ³•ï¼Œå¦‚æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°å’Œåˆ é™¤ç­‰ã€‚</li><li>å¸¸è§æ³¨è§£æœ‰ <code>@Insert</code>ã€<code>@Query</code>ã€<code>@Update</code> å’Œ <code>@Delete</code>ã€‚</li></ul></blockquote><h2 id="å·¥ä½œæµç¨‹"><a href="#å·¥ä½œæµç¨‹" class="headerlink" title="å·¥ä½œæµç¨‹"></a>å·¥ä½œæµç¨‹</h2><ol><li>å¯¼å…¥é…ç½®æ–‡ä»¶</li><li>åˆ›å»ºå®ä½“ç±»Entity</li><li>åˆ›å»ºDAOæ¥å£</li><li>åˆ›å»ºæ•°æ®åº“ç±»Database</li><li>å°è£…æ•°æ®åº“ä¸ä¸šåŠ¡é€»è¾‘äº¤äº’çš„Repository</li></ol><h3 id="åˆ›å»ºå®ä½“ç±»Entity"><a href="#åˆ›å»ºå®ä½“ç±»Entity" class="headerlink" title="åˆ›å»ºå®ä½“ç±»Entity"></a>åˆ›å»ºå®ä½“ç±»Entity</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.mvpdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.room.ColumnInfo;</span><br><span class="line"><span class="keyword">import</span> androidx.room.Entity;</span><br><span class="line"><span class="keyword">import</span> androidx.room.PrimaryKey;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * description ï¼š ç”¨æˆ·çš„Entity</span></span><br><span class="line"><span class="comment"> * author : HI-IR</span></span><br><span class="line"><span class="comment"> * email : qq2420226433@outlook.com</span></span><br><span class="line"><span class="comment"> * date : 2025/1/23 19:23</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity(tableName = &quot;user_info&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserEntity</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PrimaryKey(autoGenerate = true)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo(name = &quot;user_username&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ColumnInfo(name = &quot;user_password&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨è§£ï¼ˆå¸¸ç”¨ï¼‰</strong></p><table><thead><tr><th align="left">åºå·</th><th align="left">æ³¨è§£åç§°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">@Entity</td><td align="left">å£°æ˜æ‰€æ ‡è®°çš„ç±»æ˜¯ä¸€ä¸ªæ•°æ®è¡¨ï¼Œ@Entity åŒ…æ‹¬çš„å‚æ•°æœ‰ï¼štableName(è¡¨åï¼‰ï¼Œindicesï¼ˆè¡¨çš„ç´¢å¼•ï¼‰ï¼ŒprimaryKeysï¼ˆä¸»é”®ï¼‰ï¼ŒforeignKeysï¼ˆå¤–é”®ï¼‰ï¼ŒignoredColumnsï¼ˆå¿½ç•¥å®ä½“ä¸­çš„å±æ€§ï¼Œä¸ä½œä¸ºæ•°æ®è¡¨ä¸­çš„å­—æ®µï¼‰ï¼ŒinheritSuperIndicesï¼ˆæ˜¯å¦é›†æˆçˆ¶ç±»çš„ç´¢å¼•ï¼Œé»˜è®¤ falseï¼‰</td></tr><tr><td align="left">2</td><td align="left">@ColumnInfo</td><td align="left">ç”¨æ¥å£°æ˜æ•°æ®åº“ä¸­çš„å­—æ®µåï¼Œå‚æ•°ï¼šname(åœ¨æ•°æ®åº“ä¸­çš„åå­—)</td></tr><tr><td align="left">3</td><td align="left">@PrimaryKey</td><td align="left">è¢«ä¿®é¥°çš„å±æ€§ä½œä¸ºæ•°æ®è¡¨çš„ä¸»é”®ï¼Œ@PrimaryKey åŒ…å«ä¸€ä¸ªå‚æ•°ï¼šautoGenerate(æ˜¯å¦å…è®¸è‡ªåŠ¨åˆ›å»ºï¼Œé»˜è®¤false)</td></tr><tr><td align="left">4</td><td align="left">@Embedded</td><td align="left">æŠŠä¸€ä¸ªå®ä½“ç±»çš„å­—æ®µåµŒå…¥åˆ°å¦ä¸€ä¸ªå®ä½“ç±»å½“ä¸­,æœ‰æ—¶ä¸€ä¸ªå®ä½“å¯èƒ½åŒ…å«å¤šä¸ªç›¸å…³è”çš„å­å­—æ®µï¼Œè€Œè¿™äº›å­å­—æ®µå¯ä»¥å½’ä¸ºä¸€ä¸ªç‹¬ç«‹çš„é€»è¾‘å•å…ƒã€‚é€šè¿‡ä½¿ç”¨ <code>@Embedded</code> æ³¨è§£ï¼Œèƒ½å°†è¿™äº›å­å­—æ®µå°è£…æˆä¸€ä¸ªå•ç‹¬çš„ç±»ï¼Œå†åµŒå…¥åˆ°ä¸»å®ä½“ç±»ä¸­ï¼Œä»è€Œè®©ä»£ç ç»“æ„æ›´æ¸…æ™°ï¼Œæ›´æ˜“äºç»´æŠ¤</td></tr><tr><td align="left">5</td><td align="left">@Dao</td><td align="left">å°†ç±»æ ‡è®°ä¸ºæ•°æ®è®¿é—®å¯¹è±¡ï¼ˆData Access Objectï¼‰</td></tr><tr><td align="left">6</td><td align="left">@Database</td><td align="left">å°†ç±»æ ‡è®°ä¸ºRoomDatabase</td></tr><tr><td align="left">7</td><td align="left">@Delete</td><td align="left">å°† DAO ä¸­çš„æ–¹æ³•æ ‡è®°ä¸ºä¸åˆ é™¤ç›¸å…³çš„æ–¹æ³•</td></tr><tr><td align="left">8</td><td align="left">@Insert</td><td align="left"></td></tr><tr><td align="left">9</td><td align="left">@Update</td><td align="left"></td></tr><tr><td align="left">10</td><td align="left">@Query</td><td align="left"></td></tr></tbody></table></blockquote><h3 id="åˆ›å»ºDaoï¼ˆè‹¥æœ‰å¤šä¸ªEntityåº”è¯¥å†™å¤šä¸ªDaoï¼‰"><a href="#åˆ›å»ºDaoï¼ˆè‹¥æœ‰å¤šä¸ªEntityåº”è¯¥å†™å¤šä¸ªDaoï¼‰" class="headerlink" title="åˆ›å»ºDaoï¼ˆè‹¥æœ‰å¤šä¸ªEntityåº”è¯¥å†™å¤šä¸ªDaoï¼‰"></a>åˆ›å»ºDaoï¼ˆè‹¥æœ‰å¤šä¸ªEntityåº”è¯¥å†™å¤šä¸ªDaoï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@androidx</span>.room.Dao</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">    <span class="meta">@Insert</span><span class="comment">//å¢åŠ </span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">insertUser</span><span class="params">(UserEntity user)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update</span><span class="comment">//ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">updateUser</span><span class="params">(UserEntity user)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete</span> <span class="comment">//åˆ é™¤</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">deleteUser</span><span class="params">(UserEntity user)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Query(&quot;select user_password from user_info where user_username = :username&quot;)</span></span><br><span class="line">    String <span class="title function_">queryUserPassword</span><span class="params">(String username)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>â€œuser_username &#x3D; :usernameâ€â€ä¸­çš„<code>:</code>æ˜¯å ä½ç¬¦</p></blockquote><h3 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Database(entities = &#123;UserEntity.class&#125;,version = 1,exportSchema = false)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">UserDatabase</span> <span class="keyword">extends</span> <span class="title class_">RoomDatabase</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> UserDao <span class="title function_">getUserDao</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è°ƒç”¨</span></span><br><span class="line">userDatabase = Room.databaseBuilder(mContext, UserDatabase.class, <span class="string">&quot;user_database&quot;</span>).build();</span><br><span class="line">                userDao = userDatabase.getUserDao();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> å¯’å‡è€ƒæ ¸ç³»åˆ— </tag>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ViewPager2å’ŒBottomNavigationViewçš„è”åŠ¨</title>
      <link href="/2025/01/20/ViewPager2%E5%92%8CBottomNavigationView%E7%9A%84%E8%81%94%E5%8A%A8/"/>
      <url>/2025/01/20/ViewPager2%E5%92%8CBottomNavigationView%E7%9A%84%E8%81%94%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="ViewPager2å’ŒBottomNavigationViewçš„è”åŠ¨"><a href="#ViewPager2å’ŒBottomNavigationViewçš„è”åŠ¨" class="headerlink" title="ViewPager2å’ŒBottomNavigationViewçš„è”åŠ¨"></a>ViewPager2å’ŒBottomNavigationViewçš„è”åŠ¨</h1><h2 id="ViewPager2å¯¹BottomNavigationViewçš„æ§åˆ¶"><a href="#ViewPager2å¯¹BottomNavigationViewçš„æ§åˆ¶" class="headerlink" title="ViewPager2å¯¹BottomNavigationViewçš„æ§åˆ¶"></a>ViewPager2å¯¹BottomNavigationViewçš„æ§åˆ¶</h2><p>å®ç°ViewPager2å·¦å³æ»‘åŠ¨æ§åˆ¶BottomNavigationViewçš„menuçš„æ§åˆ¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mViewPager2.registerOnPageChangeCallback(......);<span class="comment">//æ£€æµ‹Pageçš„å˜åŒ–</span></span><br><span class="line">mBottomNavigationView.setSelectedItemId(R.id.xxx)<span class="comment">//è®¾ç½®BottomNavigationViewçš„menuè¢«é€‰ä¸­çš„é€‰é¡¹</span></span><br></pre></td></tr></table></figure><ul><li><strong>å®ä¾‹</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ViewPager2.registerOnPageChangeCallback(<span class="keyword">new</span> <span class="title class_">ViewPager2</span>.OnPageChangeCallback() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onPageScrolled</span><span class="params">(<span class="type">int</span> position, <span class="type">float</span> positionOffset, <span class="type">int</span> positionOffsetPixels)</span> &#123;</span><br><span class="line">                <span class="built_in">super</span>.onPageScrolled(position, positionOffset, positionOffsetPixels);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å½“é¡µé¢è¢«é€‰æ‹©æ—¶</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onPageSelected</span><span class="params">(<span class="type">int</span> position)</span> &#123;</span><br><span class="line">                <span class="built_in">super</span>.onPageSelected(position);</span><br><span class="line">                onPagerSelected(position);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onPageScrollStateChanged</span><span class="params">(<span class="type">int</span> state)</span> &#123;</span><br><span class="line">                <span class="built_in">super</span>.onPageScrollStateChanged(state);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onPagerSelected</span><span class="params">(<span class="type">int</span> position)</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> (position)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:&#123;</span><br><span class="line">                mBottomNavigationView.setSelectedItemId(R.id.menu_xxx);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:&#123;</span><br><span class="line">                mBottomNavigationView.setSelectedItemId(R.id.menu_xxx);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:&#123;</span><br><span class="line">                mBottomNavigationView.setSelectedItemId(R.id.menu_xxx);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">default</span>:&#123;<span class="keyword">break</span>;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="BottomNavigationViewå¯¹ViewPager2çš„æ§åˆ¶"><a href="#BottomNavigationViewå¯¹ViewPager2çš„æ§åˆ¶" class="headerlink" title="BottomNavigationViewå¯¹ViewPager2çš„æ§åˆ¶"></a>BottomNavigationViewå¯¹ViewPager2çš„æ§åˆ¶</h2><p>å®ç°BottomNavigationViewçš„menuç‚¹å‡»æ§åˆ¶ViewPager2ç¿»é¡µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mBottomNavigationView.setOnNavigationItemSelectedListener(...);<span class="comment">//ç›‘å¬menuçš„ç‚¹å‡»</span></span><br><span class="line">mViewPager.setCurrentItem(<span class="type">int</span> Index);<span class="comment">//è®¾ç½®ViewPager2çš„é¡µæ•°</span></span><br></pre></td></tr></table></figure><ul><li><strong>å®ä¾‹</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mBottomNavigationView.setOnNavigationItemSelectedListener(<span class="keyword">new</span> <span class="title class_">BottomNavigationView</span>.OnNavigationItemSelectedListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onNavigationItemSelected</span><span class="params">(<span class="meta">@NonNull</span> MenuItem item)</span> &#123;</span><br><span class="line">                <span class="keyword">switch</span> (item.getItemId())&#123;</span><br><span class="line">                    <span class="keyword">case</span> R.id.xxx:&#123;</span><br><span class="line">                        mVp2.setCurrentItem(<span class="number">0</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">case</span> R.id.xxx:&#123;</span><br><span class="line">                        mVp2.setCurrentItem(<span class="number">1</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">case</span> R.id.xxx:&#123;</span><br><span class="line">                        mVp2.setCurrentItem(<span class="number">2</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">default</span>:&#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> å¯’å‡è€ƒæ ¸ç³»åˆ— </tag>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BottomNavigationView</title>
      <link href="/2025/01/20/BottomNavigationView/"/>
      <url>/2025/01/20/BottomNavigationView/</url>
      
        <content type="html"><![CDATA[<h1 id="BottomNavigationView"><a href="#BottomNavigationView" class="headerlink" title="BottomNavigationView"></a>BottomNavigationView</h1><h2 id="å¯¼å…¥æ–°åŒ…"><a href="#å¯¼å…¥æ–°åŒ…" class="headerlink" title="å¯¼å…¥æ–°åŒ…"></a>å¯¼å…¥æ–°åŒ…</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">&#x27;com.google.android.material:material:1.4.0&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨å±æ€§"><a href="#å¸¸ç”¨å±æ€§" class="headerlink" title="å¸¸ç”¨å±æ€§"></a>å¸¸ç”¨å±æ€§</h2><ul><li>åº•éƒ¨å¯¼èˆªæ çš„èƒŒæ™¯é¢œè‰²,é»˜è®¤æ˜¯ä¸»é¢˜çš„é¢œè‰²</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:iteamBackground=&quot;&quot;</span><br></pre></td></tr></table></figure><ul><li>åº•éƒ¨å¯¼èˆªæ ä¸­iconçš„é¢œè‰²</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:itemIconTint=&quot;&quot;</span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥è®¾ç½®æˆä¸€ä¸ªselectoræ¥å®ç°è¢«é€‰æ‹©ä¸æ²¡è¢«é€‰ä¸­ä¸åŒé¢œè‰²</p></blockquote><ul><li>åº•éƒ¨å¯¼èˆªæ æ–‡å­—çš„é¢œè‰²</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:itemTextColor=&quot;&quot;</span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥è®¾ç½®æˆä¸€ä¸ªselectoræ¥å®ç°è¢«é€‰æ‹©ä¸æ²¡è¢«é€‰ä¸­ä¸åŒé¢œè‰²</p></blockquote><ul><li>æ ‡ç­¾å¯è§æ€§è®¾ç½®</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:labelVisibilityMode=&quot;&quot;</span><br></pre></td></tr></table></figure><blockquote><ul><li>labeledï¼šå›¾æ ‡å’Œæ–‡å­—éƒ½æ˜¾ç¤º</li><li>selectedï¼šé€‰æ‹©æ—¶æ˜¾ç¤ºæ–‡å­—</li><li>autoï¼š</li><li>unlabeledï¼šæ–‡å­—ä¸æ˜¾ç¤º</li></ul></blockquote><ul><li><p>autoçš„æ˜¾ç¤ºæ•ˆæœå’Œ<code>isShifting</code>æœ‰å…³</p></li><li><p>å½“<code>isShifting=true</code>æ—¶ï¼Œautoå’Œselectedæ˜¾ç¤ºæ•ˆæœä¸€æ ·</p></li><li><p>å½“<code>isShifting=false</code>æ—¶ï¼Œautoå’Œlabeledæ˜¾ç¤ºæ•ˆæœä¸€æ ·</p></li><li><p>å­—ä½“çš„styleè®¾ç½®</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app:itemTextAppearanceActive=&quot;@style/selectText&quot;<span class="comment">&lt;!--é€‰ä¸­å­—ä½“å¤§å°é£æ ¼--&gt;</span></span><br><span class="line">app:itemTextAppearanceInactive=&quot;@style/unSelectText&quot;<span class="comment">&lt;!--æœªé€‰ä¸­å­—ä½“å¤§å°é£æ ¼--&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨<code>@style/selectText</code>ä¸­è®¾ç½®å­—ä½“çš„å¤§å°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">&quot;selectText&quot;</span>&gt;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:textSize&quot;</span>&gt;</span>20sp<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:drawablePadding&quot;</span>&gt;</span>8dp<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">&quot;unSelectText&quot;</span>&gt;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:textSize&quot;</span>&gt;</span>14sp<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:drawablePadding&quot;</span>&gt;</span>4dp<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>èœå•å¸ƒå±€</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:menu=&quot;&quot;</span><br></pre></td></tr></table></figure><ul><li>æ°´æ³¢çº¹æ•ˆæœ(app:itemRippleColor)</li></ul><p><code>app:itemBackground</code> å’Œ<code>app:itemRippleColor</code>éƒ½æ˜¯è®¾ç½®ç»™åˆ°å¯¼èˆªæ çš„èƒŒæ™¯,å¦‚æœè¦è®¾ç½®æ°´æ³¢çº¹æœ‰æœ‰æ•ˆæœ,é‚£ä¹ˆå¿…é¡»ä¸è®¾ç½®èƒŒæ™¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app:itemBackground=&quot;@null&quot;</span><br><span class="line">app:itemRippleColor=&quot;@color/design_default_color_primary&quot;</span><br></pre></td></tr></table></figure><h2 id="äº¤äº’"><a href="#äº¤äº’" class="headerlink" title="äº¤äº’"></a>äº¤äº’</h2><h3 id="è®¾ç½®ç‚¹å‡»äº‹ä»¶"><a href="#è®¾ç½®ç‚¹å‡»äº‹ä»¶" class="headerlink" title="è®¾ç½®ç‚¹å‡»äº‹ä»¶"></a>è®¾ç½®ç‚¹å‡»äº‹ä»¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BottomNavigationView.OnNavigationItemSelectedListener();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> å¯’å‡è€ƒæ ¸ç³»åˆ— </tag>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ToolBaræ§ä»¶</title>
      <link href="/2025/01/20/ToolBar%E6%8E%A7%E4%BB%B6/"/>
      <url>/2025/01/20/ToolBar%E6%8E%A7%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="ToolBaræ§ä»¶"><a href="#ToolBaræ§ä»¶" class="headerlink" title="ToolBaræ§ä»¶"></a>ToolBaræ§ä»¶</h1><h2 id="å¸¸ç”¨å±æ€§"><a href="#å¸¸ç”¨å±æ€§" class="headerlink" title="å¸¸ç”¨å±æ€§"></a>å¸¸ç”¨å±æ€§</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">androidx.appcompat.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;?android:attr/actionBarSize&quot;</span>//<span class="attr">å·¥å…·æ¡é«˜åº¦å’Œç•Œé¢ä¿æŒä¸€è‡´</span>(<span class="attr">é»˜è®¤56dp</span>)</span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br></pre></td></tr></table></figure><ul><li>èƒŒæ™¯è‰²</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:background=&quot;&quot;</span><br></pre></td></tr></table></figure><ul><li>å·¦ä¾§å›¾æ ‡</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:navigationIcon=&quot;&quot;</span><br></pre></td></tr></table></figure><ul><li>ä¸»æ ‡é¢˜</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:title=&quot;&quot;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:titleTextColor=&quot;&quot;<span class="comment">&lt;!--æ”¹å­—ä½“é¢œè‰²--&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ToolBaré‡Œé¢è®¾ç½®çš„ä¸»æ ‡é¢˜ä¸èƒ½ä¿®æ”¹å­—ä½“å¤§å°ï¼Œæ–‡å­—å±…ä¸­ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬å¯ä»¥åœ¨Toolbarä¸­åµŒå¥—ä¸€ä¸ªTextViewæ¥åšæ ‡é¢˜</p></blockquote><ul><li>æ ‡é¢˜å’Œå›¾æ ‡çš„é—´è·</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:titleMarginStart=&quot;&quot;</span><br></pre></td></tr></table></figure><ul><li>å­æ ‡é¢˜</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:subtitle=&quot;&quot;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:subtitleTextColor=&quot;&quot; <span class="comment">&lt;!--å­—ä½“é¢œè‰²--&gt;</span></span><br></pre></td></tr></table></figure><ul><li>logo</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:logo=&quot;&quot;</span><br></pre></td></tr></table></figure><ul><li>å³ä¾§æŠ˜å èœå•</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:menu=&quot;&quot;</span><br></pre></td></tr></table></figure><h2 id="äº¤äº’"><a href="#äº¤äº’" class="headerlink" title="äº¤äº’"></a>äº¤äº’</h2><ul><li>å·¦ä¾§å›¾æ ‡çš„ç‚¹å‡»äº‹ä»¶</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setNavigationOnClickListener(OnClickListener listener)è®¾ç½®ç‚¹å‡»å¯¼èˆªæŒ‰é’®ç›‘å¬</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> å¯’å‡è€ƒæ ¸ç³»åˆ— </tag>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DrawerLayout-NavigationViewå®ç°æ»‘åŠ¨èœå•</title>
      <link href="/2025/01/19/DrawerLayout-NavigationView%E5%AE%9E%E7%8E%B0%E6%BB%91%E5%8A%A8%E8%8F%9C%E5%8D%95/"/>
      <url>/2025/01/19/DrawerLayout-NavigationView%E5%AE%9E%E7%8E%B0%E6%BB%91%E5%8A%A8%E8%8F%9C%E5%8D%95/</url>
      
        <content type="html"><![CDATA[<h1 id="DrawerLayout-NavigationViewå®ç°æ»‘åŠ¨èœå•"><a href="#DrawerLayout-NavigationViewå®ç°æ»‘åŠ¨èœå•" class="headerlink" title="DrawerLayout-NavigationViewå®ç°æ»‘åŠ¨èœå•"></a>DrawerLayout-NavigationViewå®ç°æ»‘åŠ¨èœå•</h1><h2 id="DrawerLayout"><a href="#DrawerLayout" class="headerlink" title="DrawerLayout"></a>DrawerLayout</h2><h3 id="DrawerLayoutä»‹ç»"><a href="#DrawerLayoutä»‹ç»" class="headerlink" title="DrawerLayoutä»‹ç»"></a>DrawerLayoutä»‹ç»</h3><p> DrawerLayout æä¾›äº†ä¸€ç§ç®€å•è€Œç›´è§‚çš„æ–¹å¼æ¥è®©ç”¨æˆ·è®¿é—®åº”ç”¨çš„ä¸åŒéƒ¨åˆ†æˆ–åŠŸèƒ½æ¨¡å—</p><blockquote><p><code>DrawerLayout</code> æ˜¯ Android ä¸­ç”¨äºå®ç°ä¾§è¾¹å¯¼èˆªæ çš„ä¸€ä¸ªé‡è¦ç»„ä»¶ã€‚</p></blockquote><h3 id="DrawerLayoutçš„å®ç°"><a href="#DrawerLayoutçš„å®ç°" class="headerlink" title="DrawerLayoutçš„å®ç°"></a>DrawerLayoutçš„å®ç°</h3><h4 id="XMLå¸ƒå±€"><a href="#XMLå¸ƒå±€" class="headerlink" title="XMLå¸ƒå±€"></a>XMLå¸ƒå±€</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">androidx.drawerlayout.widget.DrawerLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/drawer_layout&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ä¸»å±å¹•æ˜¾ç¤ºå†…å®¹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/textView&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginEnd</span>=<span class="string">&quot;140dp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;è¿™æ˜¯ä¸»å±å¹•&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">&quot;20sp&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">&quot;parent&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/button&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;æ‰“å¼€å·¦ä¾§èœå•&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">&quot;parent&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ä¾§æ»‘æ˜¾ç¤ºå†…å®¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;260dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">&quot;left&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">&quot;#BCEE68&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">&quot;center_horizontal&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">&quot;è¿™æ˜¯ä¾§æ»‘æ˜¾ç¤º&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">&quot;25sp&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.drawerlayout.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š</p><p>ä¸»è§†å›¾çš„ <code>layout_height</code> å¿…é¡»æ˜¯ <code>match_parent</code>ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p><p>ä¾§æ»‘èœå•å…³é”®å±æ€§<code>android:layout_gravity</code>ï¼Œè¿™ä¸ªæ˜¯å¿…é¡»è¦æŒ‡å®šçš„ã€‚(leftå³ä¸ºå·¦ä¾§ä¾§æ»‘èœå•ï¼Œrightå³ä¸ºå³ä¾§ä¾§æ»‘èœå•)</p></blockquote><p> è¿™é‡Œåªæ˜¯ä¸€ä¸ªç®€å•çš„å®ç°ï¼Œä½ å¯ä»¥æŠŠ <code>TextView</code> æ”¹ä¸º <code>NavigationView æˆ–è‡ªå®šä¹‰å¸ƒå±€</code>ã€‚</p><h4 id="DrawerLayoutçš„äº¤äº’"><a href="#DrawerLayoutçš„äº¤äº’" class="headerlink" title="DrawerLayoutçš„äº¤äº’"></a>DrawerLayoutçš„äº¤äº’</h4><h5 id="æ‰“å¼€ä¾§è¾¹æ "><a href="#æ‰“å¼€ä¾§è¾¹æ " class="headerlink" title="æ‰“å¼€ä¾§è¾¹æ "></a>æ‰“å¼€ä¾§è¾¹æ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drawerLayout.openDrawer()</span><br></pre></td></tr></table></figure><p>é€šè¿‡æŒ‰é’®æˆ–æ‰‹åŠ¿è°ƒç”¨ <code>drawerLayout.openDrawer()</code> æ–¹æ³•ï¼Œå°†æ»‘åŠ¨èœå•æ˜¾ç¤ºå‡ºæ¥ï¼Œæ³¨æ„ <code>openDrawer</code> æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ª<code>Gravity</code>å‚æ•°ã€‚éœ€è¦å’ŒXMLæ–‡ä»¶è®¾ç½®çš„ <code>layout_gravity</code> æ–¹å‘ä¿æŒç»Ÿä¸€ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p><h5 id="å…³é—­ä¾§è¾¹æ "><a href="#å…³é—­ä¾§è¾¹æ " class="headerlink" title="å…³é—­ä¾§è¾¹æ "></a>å…³é—­ä¾§è¾¹æ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drawerLayout.closeDrawer();</span><br></pre></td></tr></table></figure><p>é€šè¿‡æŒ‰é’®æˆ–æ‰‹åŠ¿è°ƒç”¨ <code>drawerLayout.closeDrawer()</code> æ–¹æ³•ï¼Œå°†æ»‘åŠ¨èœå•æ˜¾ç¤ºå‡ºæ¥ï¼Œæ³¨æ„ <code>closeDrawer</code> æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ª<code>Gravity</code>å‚æ•°ã€‚éœ€è¦å’ŒXMLæ–‡ä»¶è®¾ç½®çš„ <code>layout_gravity</code> æ–¹å‘ä¿æŒç»Ÿä¸€ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p><h5 id="ä¾§è¾¹æ çš„ç›‘å¬"><a href="#ä¾§è¾¹æ çš„ç›‘å¬" class="headerlink" title="ä¾§è¾¹æ çš„ç›‘å¬"></a>ä¾§è¾¹æ çš„ç›‘å¬</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drawerLayout.addDrawerListener();</span><br></pre></td></tr></table></figure><p>é€šè¿‡<code>addDrawerListener</code>æ–¹æ³•ç›‘å¬ä¾§è¾¹æ </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">drawerLayout.addDrawerListener(<span class="keyword">new</span> <span class="title class_">DrawerLayout</span>.DrawerListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onDrawerSlide</span><span class="params">(<span class="meta">@NonNull</span> View drawerView, <span class="type">float</span> slideOffset)</span> &#123;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onDrawerOpened</span><span class="params">(<span class="meta">@NonNull</span> View drawerView)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onDrawerClosed</span><span class="params">(<span class="meta">@NonNull</span> View drawerView)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onDrawerStateChanged</span><span class="params">(<span class="type">int</span> newState)</span> &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><h2 id="NavigationView"><a href="#NavigationView" class="headerlink" title="NavigationView"></a>NavigationView</h2><h3 id="NavigationViewä»‹ç»"><a href="#NavigationViewä»‹ç»" class="headerlink" title="NavigationViewä»‹ç»"></a>NavigationViewä»‹ç»</h3><p>æ ¹æ®ä¸Šé¢å†…å®¹å·²ç»æˆåŠŸå®ç°äº†ä¾§æ»‘èœå•çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¾§æ»‘èœå•çš„UIæ¯”è¾ƒå•ä¸€ã€‚ä½†çœŸæ­£çš„ä¾§æ»‘èœå•å¯ä¸ä¼šè¿™ä¹ˆç®€å•,å¦‚ä½•ä¸°å¯Œæˆ‘ä»¬çš„ä¾§æ»‘èœå•å‘¢ï¼Ÿ</p><p>æœ‰2ç§è§£å†³é€”å¾„</p><blockquote><ul><li>1.åœ¨ä¾§æ»‘èœå•ä¸­è‡ªå®šä¹‰å¸ƒå±€</li><li>2.Google æä¾›çš„ NavigationView(æ¨èä½¿ç”¨)ã€‚</li></ul></blockquote><p>è¿™ä¸ªèœå•æ•´ä½“ä¸Šåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸Šé¢ä¸€éƒ¨åˆ†å«åš<code>HeaderLayout</code>ï¼Œä¸‹é¢çš„é‚£äº›ç‚¹å‡»é¡¹éƒ½æ˜¯<code>menu</code></p><h3 id="NavigationViewå±æ€§"><a href="#NavigationViewå±æ€§" class="headerlink" title="NavigationViewå±æ€§"></a>NavigationViewå±æ€§</h3><ul><li><p><code>app:headerLayout=&quot;@layout/header_layout</code>:å¼•ç”¨ä¸€ä¸ªå¤´å¸ƒå±€æ–‡ä»¶ï¼Œè¿™ä¸ªå¤´å°±æ˜¯æˆ‘ä»¬åœ¨ä¸Šé¢çœ‹åˆ°çš„é‚£ä¸ªèƒŒæ™¯å›¾ç‰‡ï¼ŒåŒ…æ‹¬èƒŒæ™¯å›¾ç‰‡ä¸Šé¢çš„æ˜¾ç¤ºç”¨æˆ·åçš„æ§ä»¶ç­‰ç­‰</p></li><li><p><code>app:menu=&quot;@menu/menu&quot;</code>è¡¨ç¤ºå¼•ç”¨ä¸€ä¸ªmenuä½œä¸ºä¸‹é¢çš„ç‚¹å‡»é¡¹</p></li><li><p><code>app:itemIconTint=&quot;@color/blue&quot;</code>å¯ä»¥è®¾ç½®menuä¸­itemçš„iconé¢œè‰²</p></li></ul><blockquote><p>å¦‚æœè¦ä½¿ç”¨iconåŸæœ¬çš„é¢œè‰²ï¼Œå¯ä»¥ä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NavigationView</span> <span class="variable">navigationView</span> <span class="operator">=</span>findViewById(R.id.navigation_view);</span><br><span class="line">navigationView.setItemIconTintList(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure></blockquote><ul><li><p><code>app:itemBackground=&quot;@color/colorAccent&quot;</code>è®¾ç½®æ¯ä¸€ä¸ªitemçš„èƒŒæ™¯é¢œè‰²</p><p><code>app:itemTextColor=&quot;&quot;</code>è®¾ç½®itemçš„èƒŒæ™¯é¢œè‰²</p></li><li><p>å¦‚æœæˆ‘æƒ³åœ¨NavigationViewçš„itemä¹‹é—´æ·»åŠ ä¸Šä¸€æ¡åˆ†éš”çº¿å‘¢ï¼Ÿ</p><p>åªéœ€è¦åœ¨<code>menu</code>ä¸­å°†ç›¸åº”çš„<code>item</code>æ”¾åˆ°ä¸€ä¸ª<code>group</code>ä¸­ï¼Œå¹¶ç»™è¯¥groupå–ä¸€ä¸ªidå³å¯</p></li></ul><h3 id="NavigationViewçš„äº‹ä»¶ç›‘å¬"><a href="#NavigationViewçš„äº‹ä»¶ç›‘å¬" class="headerlink" title="NavigationViewçš„äº‹ä»¶ç›‘å¬"></a>NavigationViewçš„äº‹ä»¶ç›‘å¬</h3><h4 id="å¤´éƒ¨ç‚¹å‡»äº‹ä»¶"><a href="#å¤´éƒ¨ç‚¹å‡»äº‹ä»¶" class="headerlink" title="å¤´éƒ¨ç‚¹å‡»äº‹ä»¶"></a>å¤´éƒ¨ç‚¹å‡»äº‹ä»¶</h4><p>å¤„ç†å¤´éƒ¨ç‚¹å‡»äº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆè·å¾—åˆ°å¤´éƒ¨æ§ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–å¤´å¸ƒå±€æ–‡ä»¶</span></span><br><span class="line"><span class="type">View</span> <span class="variable">headerView</span> <span class="operator">=</span> navigationView.getHeaderView(<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>ç„¶åé€šè¿‡è°ƒç”¨headerViewä¸­çš„findViewByIdæ–¹æ³•æ¥æŸ¥æ‰¾åˆ°å¤´éƒ¨çš„æ§ä»¶ï¼Œè®¾ç½®ç‚¹å‡»äº‹ä»¶å³å¯ã€‚</p><h4 id="itemç‚¹å‡»äº‹ä»¶"><a href="#itemç‚¹å‡»äº‹ä»¶" class="headerlink" title="itemç‚¹å‡»äº‹ä»¶"></a>itemç‚¹å‡»äº‹ä»¶</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">navigationView.setNavigationItemSelectedListener(<span class="keyword">new</span> <span class="title class_">NavigationView</span>.OnNavigationItemSelectedListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onNavigationItemSelected</span><span class="params">(<span class="meta">@NonNull</span> MenuItem menuItem)</span> &#123;</span><br><span class="line">                <span class="keyword">switch</span> (menuItem.getItemId()) &#123;</span><br><span class="line">                    <span class="keyword">case</span> R.id.title1:</span><br><span class="line">                        Toast.makeText(Main2Activity.<span class="built_in">this</span>, <span class="string">&quot;ç¬¬ä¸€ä¸ª&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> å¯’å‡è€ƒæ ¸ç³»åˆ— </tag>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯’å‡è€ƒæ ¸Day1</title>
      <link href="/2025/01/18/%E5%AF%92%E5%81%87%E8%80%83%E6%A0%B8Day1/"/>
      <url>/2025/01/18/%E5%AF%92%E5%81%87%E8%80%83%E6%A0%B8Day1/</url>
      
        <content type="html"><![CDATA[<h1 id="å¯’å‡è€ƒæ ¸Day1"><a href="#å¯’å‡è€ƒæ ¸Day1" class="headerlink" title="å¯’å‡è€ƒæ ¸Day1"></a>å¯’å‡è€ƒæ ¸Day1</h1><p>ä»Šæ—¥å®Œæˆï¼š</p><ul><li><input checked="" disabled="" type="checkbox"> å­¦ä¹ MVPæ¶æ„</li><li><input checked="" disabled="" type="checkbox"> è¿›è¡ŒMVPæ¶æ„çš„å°ç»ƒä¹ </li><li><input checked="" disabled="" type="checkbox"> å®Œæˆäº†åŸºç¡€çš„è½¯ä»¶è§„åˆ’</li><li><input checked="" disabled="" type="checkbox"> å®Œæˆäº†åŸºç¡€çš„ç™»å½•åŠŸèƒ½</li><li><input checked="" disabled="" type="checkbox"> å®Œæˆäº†NetUtilså·¥å…·ç±»çš„ç¼–å†™</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> å¯’å‡è€ƒæ ¸ç³»åˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVPæ¶æ„</title>
      <link href="/2025/01/18/MVP%E6%9E%B6%E6%9E%84/"/>
      <url>/2025/01/18/MVP%E6%9E%B6%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<h1 id="MVPæ¶æ„"><a href="#MVPæ¶æ„" class="headerlink" title="MVPæ¶æ„"></a>MVPæ¶æ„</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ç»„æˆï¼šModelï¼ˆæ¨¡å‹ï¼‰ã€Viewï¼ˆè§†å›¾ï¼‰å’Œ Presenterï¼ˆå±•ç¤ºå™¨ï¼‰</p><p>æŠŠåŸæ¥çš„UIé€»è¾‘æŠ½è±¡æˆViewæ¥å£ï¼ŒæŠŠåŸæ¥çš„ä¸šåŠ¡é€»è¾‘æŠ½è±¡æˆPresenteræ¥å£ï¼Œmodelè¿˜æ˜¯åŸæ¥çš„modle</p><blockquote><p><strong>Modelï¼ˆæ¨¡å‹ï¼‰</strong>ï¼š</p><ul><li>**å®šä¹‰:**è´Ÿè´£å¤„ç†åº”ç”¨ç¨‹åºçš„æ•°æ®é€»è¾‘ï¼ŒåŒ…æ‹¬ä¸æ•°æ®åº“ã€ç½‘ç»œã€APIç­‰æ•°æ®æºçš„äº¤äº’</li><li>**èŒè´£:**æä¾›æ•°æ®ï¼Œå¹¶å°†å…¶è¿”å›ç»™ Presenterï¼Œä¸æ¶‰åŠä»»ä½•UIç›¸å…³é€»è¾‘</li></ul><p><strong>Viewï¼ˆè§†å›¾ï¼‰</strong>ï¼š</p><ul><li><p>**å®šä¹‰:**è´Ÿè´£å±•ç¤ºç”¨æˆ·ç•Œé¢ï¼Œæ¥æ”¶ç”¨æˆ·çš„è¾“å…¥å¹¶å°†å…¶ä¼ é€’ç»™ Presenter</p></li><li><p>**èŒè´£:**å±•ç¤ºç”± Presenter æä¾›çš„æ•°æ®ï¼Œå¹¶æ ¹æ®ç”¨æˆ·æ“ä½œè°ƒç”¨ Presenter çš„æ–¹æ³•ã€‚View å±‚ä¸ç›´æ¥å¤„ç†é€»è¾‘ï¼Œåªå±•ç¤ºå†…å®¹</p></li></ul><p><strong>Presenterï¼ˆæ¼”ç¤ºè€…ï¼‰</strong>ï¼š</p><ul><li><p>**å®šä¹‰ï¼š**ä½œä¸º View å’Œ Model ä¹‹é—´çš„æ¡¥æ¢ï¼Œè´Ÿè´£å¤„ç†é€»è¾‘å’Œåè°ƒæ•°æ®æµ</p></li><li><p><strong>èŒè´£ï¼š</strong></p><ol><li>ä» View æ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œè°ƒç”¨ Model è·å–æ•°æ®</li><li>å°†æ•°æ®å¤„ç†ç»“æœè¿”å›ç»™ View ä»¥æ›´æ–°UI</li><li>Presenter ä¸ç›´æ¥æ“ä½œUIï¼Œè€Œæ˜¯é€šè¿‡æ¥å£ä¸ View è¿›è¡Œäº¤äº’</li></ol></li></ul></blockquote><h2 id="äº¤äº’æµç¨‹"><a href="#äº¤äº’æµç¨‹" class="headerlink" title="äº¤äº’æµç¨‹"></a>äº¤äº’æµç¨‹</h2><p>ç”¨æˆ·æ“ä½œè§¦å‘â€”â€”&gt;Presenter å¤„ç†â€”â€”&gt;Model æ•°æ®å¤„ç†â€”â€”&gt;Presenter æ›´æ–° View</p><h2 id="æ¡ˆä¾‹ï¼šç®€å•ç™»å½•é¡µ"><a href="#æ¡ˆä¾‹ï¼šç®€å•ç™»å½•é¡µ" class="headerlink" title="æ¡ˆä¾‹ï¼šç®€å•ç™»å½•é¡µ"></a>æ¡ˆä¾‹ï¼šç®€å•ç™»å½•é¡µ</h2><ul><li><h3 id="å®šä¹‰æ¥å£"><a href="#å®šä¹‰æ¥å£" class="headerlink" title="å®šä¹‰æ¥å£"></a>å®šä¹‰æ¥å£</h3></li></ul><p>ä¸ºäº†ä¿è¯Presenterä¸Viewå’ŒModelè§£è€¦ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºViewå’ŒModelå®šä¹‰æ¥å£</p><p><strong>ILoginView:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ILoginView</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">showLoging</span><span class="params">()</span>;<span class="comment">//åŠ è½½æ¡</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">hideLoading</span><span class="params">()</span>;<span class="comment">//éšè—åŠ è½½æ¡</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">showLoginInf</span><span class="params">(String msg)</span>;<span class="comment">//æ˜¾ç¤ºç™»å½•ä¿¡æ¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ILoginModel:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ILoginModel</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String usename,String password,Callback callback)</span>;<span class="comment">//æ•°æ®åˆ¤æ–­é€»è¾‘</span></span><br><span class="line">    <span class="keyword">interface</span> <span class="title class_">Callback</span> &#123;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">onSuccess</span><span class="params">(String msg)</span>;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(String msg)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><h3 id="å®ç°Modelå’ŒPresenter"><a href="#å®ç°Modelå’ŒPresenter" class="headerlink" title="å®ç°Modelå’ŒPresenter"></a>å®ç°Modelå’ŒPresenter</h3></li></ul><p><strong>LoginModel</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginModel</span> <span class="keyword">implements</span> <span class="title class_">ILoginModel</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String usename, String password, Callback callback)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (usename.equals(<span class="string">&quot;admin&quot;</span>) &amp;&amp; password.equals(<span class="string">&quot;1234&quot;</span>))&#123;</span><br><span class="line">            callback.onSuccess(<span class="string">&quot;ç™»å½•æˆåŠŸ&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            callback.onError(<span class="string">&quot;å¯†ç é”™è¯¯&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>LoginPresenter</strong></p><blockquote><p>Presenteråƒä¸€ä¸ªäººä¸€æ ·ï¼Œå·¦æ‰‹ç‰µViewå±‚ï¼Œå³æ‰‹ç‰µModelå±‚</p></blockquote><ol><li>æ„å»ºViewå±‚ä¸Presenterå’ŒModelå±‚å’ŒPresenterå±‚çš„è”ç³»</li></ol><p><em>å¦‚å›¾ï¼š</em> <img src="/../image/MVP%E6%9E%B6%E6%9E%84/1.jpg" alt="1"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginPresenter</span>&lt;T <span class="keyword">extends</span> <span class="title class_">ILoginView</span>&gt; &#123;</span><br><span class="line">    <span class="comment">//-------------æ„å»ºViewå±‚ä¸Presenterå’ŒModelå±‚å’ŒPresenterå±‚çš„è”ç³»---------------</span></span><br><span class="line">    ILoginView mLoginView;</span><br><span class="line">    <span class="type">ILoginModel</span> <span class="variable">mLoginModel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LoginModel</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LoginPresenter</span><span class="params">(T View)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.mLoginView = View;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//---------------------------------ä¸šåŠ¡é€»è¾‘-----------------------------------</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String username, String password)</span>&#123;</span><br><span class="line">        mLoginView.showLoging();</span><br><span class="line">        mLoginModel.login(username, password, <span class="keyword">new</span> <span class="title class_">ILoginModel</span>.Callback() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSuccess</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">                mLoginView.hideLoading();</span><br><span class="line">                mLoginView.showLoginInf(msg);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onError</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">                mLoginView.hideLoading();</span><br><span class="line">                mLoginView.showLoginInf(msg);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><h3 id="Viewå±‚å®ç°"><a href="#Viewå±‚å®ç°" class="headerlink" title="Viewå±‚å®ç°"></a>Viewå±‚å®ç°</h3></li></ul><p>æœ€åï¼Œæˆ‘ä»¬åœ¨Viewå±‚ä¸­å®ç°ILoginViewæ¥å£ï¼Œå¹¶å°†æ“ä½œå§”æ‰˜ç»™Presenterå±‚</p><p><strong>LoginActivityï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginActivity</span> <span class="keyword">extends</span> <span class="title class_">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title class_">ILoginView</span> &#123;</span><br><span class="line">    EditText mEtUserName;</span><br><span class="line">    EditText mEtPassWord;</span><br><span class="line">    Button mBtnLogin;</span><br><span class="line">    ProgressBar mProgressBar;</span><br><span class="line">    LoginPresenter mLoginPresenter;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_login);</span><br><span class="line">        initview();</span><br><span class="line">        initEvent();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initview</span><span class="params">()</span> &#123;</span><br><span class="line">        mEtPassWord=findViewById(R.id.password);</span><br><span class="line">        mEtUserName=findViewById(R.id.username);</span><br><span class="line">        mBtnLogin=findViewById(R.id.loginButton);</span><br><span class="line">        mProgressBar=findViewById(R.id.progressBar);</span><br><span class="line">        mLoginPresenter=<span class="keyword">new</span> <span class="title class_">LoginPresenter</span>(<span class="built_in">this</span>);<span class="comment">//åˆ›å»ºPresenterå±‚</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initEvent</span><span class="params">()</span> &#123;</span><br><span class="line">        mBtnLogin.setOnClickListener(<span class="keyword">new</span> <span class="title class_">View</span>.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">(View v)</span> &#123;</span><br><span class="line">                showLoging();</span><br><span class="line">               mLoginPresenter.login(mEtUserName.getText().toString(),mEtPassWord.getText().toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showLoging</span><span class="params">()</span> &#123;</span><br><span class="line">        mProgressBar.setVisibility(View.VISIBLE);</span><br><span class="line">        Toast.makeText(<span class="built_in">this</span>,<span class="string">&quot;ç™»å½•ä¸­&quot;</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hideLoading</span><span class="params">()</span> &#123;</span><br><span class="line">        mProgressBar.setVisibility(View.GONE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showLoginInf</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        Toast.makeText(<span class="built_in">this</span>,msg,Toast.LENGTH_SHORT).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>xxxxxxxxxx11Â 1navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {2 Â  Â  Â  Â  Â  Â @Override3 Â  Â  Â  Â  Â  Â public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {4 Â  Â  Â  Â  Â  Â  Â  Â switch (menuItem.getItemId()) {5 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â case R.id.title1:6 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Toast.makeText(Main2Activity.this, â€œç¬¬ä¸€ä¸ªâ€, Toast.LENGTH_SHORT).show();7 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â break;8 Â  Â  Â  Â  Â  Â  Â   }9 Â  Â  Â  Â  Â  Â  Â  Â return true;10 Â  Â  Â  Â  Â   }11 Â  Â  Â   });java</p><p><strong>activity_login.xmlï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:padding</span>=<span class="string">&quot;16dp&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ç”¨æˆ·åè¾“å…¥æ¡† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/username&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:hint</span>=<span class="string">&quot;Username&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:inputType</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:padding</span>=<span class="string">&quot;12dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginBottom</span>=<span class="string">&quot;16dp&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¯†ç è¾“å…¥æ¡† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/password&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:hint</span>=<span class="string">&quot;Password&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:inputType</span>=<span class="string">&quot;textPassword&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:padding</span>=<span class="string">&quot;12dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginBottom</span>=<span class="string">&quot;16dp&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ç™»å½•æŒ‰é’® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/loginButton&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;Login&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:padding</span>=<span class="string">&quot;12dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginBottom</span>=<span class="string">&quot;16dp&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- åŠ è½½è¿›åº¦æ¡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/progressBar&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:visibility</span>=<span class="string">&quot;gone&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3></li></ul><p>â€‹<img src="/../image/MVP%E6%9E%B6%E6%9E%84/2.jpg" alt="2"></p><p><strong>ä»£ç é€»è¾‘</strong></p><ol><li>ç”¨æˆ·åœ¨ <code>LoginActivity</code> ä¸­è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ç‚¹å‡»ç™»å½•æŒ‰é’®ã€‚</li><li><code>LoginActivity</code> é€šè¿‡ <code>LoginPresenter</code> è°ƒç”¨ <code>login</code> æ–¹æ³•ï¼Œä¼ é€’ç”¨æˆ·åå’Œå¯†ç ã€‚</li><li><code>LoginPresenter</code> è°ƒç”¨ <code>LoginView</code> çš„ <code>showLoading</code> æ–¹æ³•æ˜¾ç¤ºåŠ è½½çŠ¶æ€ã€‚</li><li><code>LoginPresenter</code> è°ƒç”¨ <code>LoginModel</code> çš„ <code>login</code> æ–¹æ³•ï¼Œå¹¶ä¼ é€’ç”¨æˆ·åã€å¯†ç å’Œ <code>LoginCallback</code> å®ä¾‹ã€‚</li><li><code>LoginModelImpl</code> è¿›è¡Œç™»å½•éªŒè¯ï¼Œå¦‚æœæˆåŠŸï¼Œè°ƒç”¨ <code>LoginCallback</code> çš„ <code>onSuccess</code> æ–¹æ³•ï¼›å¦‚æœå¤±è´¥ï¼Œè°ƒç”¨ <code>onError</code> æ–¹æ³•ã€‚</li><li><code>LoginPresenter</code> æ”¶åˆ°å›è°ƒç»“æœï¼Œè°ƒç”¨ <code>LoginView</code> çš„ <code>hideLoading</code> æ–¹æ³•éšè—åŠ è½½çŠ¶æ€ï¼Œå¹¶æ ¹æ®ç»“æœè°ƒç”¨ <code>LoginView</code> çš„ <code>showLoginInf</code> æ–¹æ³•</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> javaåŸºç¡€ </tag>
            
            <tag> å¯’å‡è€ƒæ ¸ç³»åˆ— </tag>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLæŒ‡ä»¤</title>
      <link href="/2025/01/17/SQL%E6%8C%87%E4%BB%A4/"/>
      <url>/2025/01/17/SQL%E6%8C%87%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="SQLæŒ‡ä»¤"><a href="#SQLæŒ‡ä»¤" class="headerlink" title="SQLæŒ‡ä»¤"></a>SQLæŒ‡ä»¤</h1><blockquote><p>å¯ä»¥ä½¿ç”¨SQLå‘½ä»¤è¿›è¡Œå…³ç³»å‹æ•°æ®åº“æ“ä½œ</p></blockquote><blockquote><p><strong>æ³¨:</strong> ä¸åŒçš„å…³ç³»å‹ç®¡ç†ç³»ç»Ÿå¯èƒ½æœ‰ä¸åŒçš„æŒ‡ä»¤</p></blockquote><p><strong>æŒç»­æ›´æ–°(å­¦åˆ°å“ªæ›´åˆ°å“ª)</strong></p><h2 id="SQLæ¦‚è¿°"><a href="#SQLæ¦‚è¿°" class="headerlink" title="SQLæ¦‚è¿°"></a>SQLæ¦‚è¿°</h2><blockquote><p>SQLæŒ‡ä»¤ä¸»è¦åˆ†ä¸ºï¼šæ•°æ®å®šä¹‰ï¼Œæ•°æ®æ“çºµï¼Œæ•°æ®æŸ¥è¯¢ï¼Œæ•°æ®æ§åˆ¶ï¼Œäº‹åŠ¡æ§åˆ¶ç­‰</p></blockquote><h3 id="æ•°æ®å®šä¹‰-DDL"><a href="#æ•°æ®å®šä¹‰-DDL" class="headerlink" title="æ•°æ®å®šä¹‰(DDL)"></a>æ•°æ®å®šä¹‰(DDL)</h3><p>â€‹åˆ›å»ºå’Œä¿®æ”¹ç››æ”¾æ•°æ®çš„å®¹å™¨</p><h3 id="æ•°æ®æ“çºµ-DML"><a href="#æ•°æ®æ“çºµ-DML" class="headerlink" title="æ•°æ®æ“çºµ(DML)"></a>æ•°æ®æ“çºµ(DML)</h3><p>â€‹è¡¨ä¸­æ·»åŠ ï¼Œä¿®æ”¹ï¼Œåˆ é™¤æ•°æ®</p><h3 id="æ•°æ®æŸ¥è¯¢-DQL"><a href="#æ•°æ®æŸ¥è¯¢-DQL" class="headerlink" title="æ•°æ®æŸ¥è¯¢(DQL)"></a>æ•°æ®æŸ¥è¯¢(DQL)</h3><p>â€‹è¡¨ä¸­æ•°æ®å¤šæ¡ä»¶æŸ¥è¯¢ï¼ˆæœ€å¤æ‚çš„ï¼ï¼ï¼ï¼‰</p><h3 id="äº‹åŠ¡æ§åˆ¶-TCL-ä¸-æ•°æ®æ§åˆ¶-DCL"><a href="#äº‹åŠ¡æ§åˆ¶-TCL-ä¸-æ•°æ®æ§åˆ¶-DCL" class="headerlink" title="äº‹åŠ¡æ§åˆ¶(TCL) ä¸ æ•°æ®æ§åˆ¶(DCL)"></a>äº‹åŠ¡æ§åˆ¶(TCL) ä¸ æ•°æ®æ§åˆ¶(DCL)</h3><p>â€‹äº‹åŠ¡å¯åŠ¨ï¼Œæäº¤ï¼Œå›æ»š(äº‹åŠ¡æ§åˆ¶)</p><p>â€‹è´¦å·åˆ›å»ºï¼Œæƒé™æ§åˆ¶(æ•°æ®æ§åˆ¶)</p><p><strong>æ³¨ï¼š</strong> æ•°æ®å®šä¹‰ï¼Œæ•°æ®æ“çºµï¼Œæ•°æ®æŸ¥è¯¢æ˜¯é‡ç‚¹</p><blockquote><p><strong>å­¦ä¹ è·¯çº¿</strong> DDL - DML - DQL  - TCL - DCL</p></blockquote><h3 id="ä¸€æ¡æ•°æ®çš„å­˜å‚¨è¿‡ç¨‹"><a href="#ä¸€æ¡æ•°æ®çš„å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="ä¸€æ¡æ•°æ®çš„å­˜å‚¨è¿‡ç¨‹"></a>ä¸€æ¡æ•°æ®çš„å­˜å‚¨è¿‡ç¨‹</h3><p>åˆ›å»ºåº“ -&gt; å®šå­—æ®µ -&gt; åˆ›å»ºè¡¨ -&gt; æ’æ•°æ®</p><h2 id="åŸºç¡€æ“ä½œ"><a href="#åŸºç¡€æ“ä½œ" class="headerlink" title="åŸºç¡€æ“ä½œ"></a>åŸºç¡€æ“ä½œ</h2><h3 id="è¿æ¥mysqlæœåŠ¡"><a href="#è¿æ¥mysqlæœåŠ¡" class="headerlink" title="è¿æ¥mysqlæœåŠ¡"></a>è¿æ¥mysqlæœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u&lt;username&gt; -p&lt;password&gt; -h&lt;hostname&gt; -P&lt;port&gt; &lt;databassname&gt;</span><br></pre></td></tr></table></figure><blockquote><p>-u<username>ï¼šç”¨æˆ·å </p><p>-p<password>ï¼šå¯†ç ï¼ˆ-påé¢ä¸å¸¦ç©ºæ ¼ ä¾‹ï¼š-ppasswordï¼‰</p><p>-h<hostname>ï¼šç”¨äºæŒ‡å®šMySQLæœåŠ¡å™¨çš„IPï¼ˆå¯ä»¥ä¸å†™è¯¥å‚æ•°ï¼Œé»˜è®¤æœ¬åœ°ï¼‰</p><p>-P<port>ï¼šç”¨äºæŒ‡å®šé“¾æ¥MySQLæœåŠ¡å™¨çš„ç«¯å£å·ï¼ˆå¯ä¸å†™ï¼Œé»˜è®¤3306ï¼‰</p><p><databassname>ï¼šæ˜¯ä½ è¦è¿æ¥çš„æ•°æ®åº“çš„åå­—ï¼Œè¿æ¥åä¼šé»˜è®¤ä½¿ç”¨è¿™ä¸ªæ•°æ®åº“</p></blockquote><p><strong>ä¹Ÿå¯ä»¥åœ¨-påä¸è¾“å…¥å¯†ç ï¼Œè¿›å…¥éšç§æ¨¡å¼è¾“å…¥å¯†ç </strong></p><h3 id="å…¶ä»–åŸºç¡€SQLå‘½ä»¤"><a href="#å…¶ä»–åŸºç¡€SQLå‘½ä»¤" class="headerlink" title="å…¶ä»–åŸºç¡€SQLå‘½ä»¤"></a>å…¶ä»–åŸºç¡€SQLå‘½ä»¤</h3><blockquote><p>å‘½ä»¤ä¹‹é—´ç”¨  ;  éš”å¼€</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- æŸ¥çœ‹ç‰ˆæœ¬</span><br><span class="line"><span class="keyword">select</span> version();</span><br><span class="line"></span><br><span class="line">-- é€€å‡ºè¿æ¥</span><br><span class="line"><span class="built_in">exit</span>;</span><br></pre></td></tr></table></figure><h2 id="SQLå‘½åè§„å®šå’Œè§„èŒƒ"><a href="#SQLå‘½åè§„å®šå’Œè§„èŒƒ" class="headerlink" title="SQLå‘½åè§„å®šå’Œè§„èŒƒ"></a>SQLå‘½åè§„å®šå’Œè§„èŒƒ</h2><h3 id="SQLå‘½åè§„å®š"><a href="#SQLå‘½åè§„å®š" class="headerlink" title="SQLå‘½åè§„å®š"></a>SQLå‘½åè§„å®š</h3><ol><li>æ•°æ®åº“åï¼Œè¡¨åä¸å¾—è¶…è¿‡30ä¸ªå­—ç¬¦ï¼Œå˜é‡åé™åˆ¶ä¸º29ä¸ª</li><li>å¿…é¡»åªèƒ½åŒ…å«A<del>Zï¼Œa</del>zï¼Œ0~9ï¼Œ_ ï¼Œä¸”<strong>ä¸èƒ½ä»¥æ•°å­—</strong>å¼€å¤´</li><li>æ•°æ®åº“åï¼Œè¡¨ï¼Œå­—æ®µç­‰å¯¹è±¡åä¸­<strong>ä¸èƒ½</strong>åŒ…å«ç©ºæ ¼</li><li>åŒä¸€ä¸ªMySQLè½¯ä»¶ä¸­ï¼Œæ•°æ®åº“ä¸èƒ½åŒåï¼›åŒä¸€ä¸ªåº“ä¸­ï¼Œè¡¨ä¸èƒ½é‡åï¼›åŒä¸€ä¸ªè¡¨ä¸­ï¼Œå­—æ®µä¸èƒ½é‡å</li><li>å­—æ®µæ²¡æœ‰å’Œä¿ç•™å­—ï¼Œæ•°æ®åº“å…³é”®å­—é‡åã€‚å¦‚æœéè¦ç”¨ï¼Œè¯·åœ¨SQLè¯­å¥ä¸­ä½¿ç”¨ â€œ &#96; â€ æ ‡è¯†</li></ol><h3 id="SQLå‘½åè§„èŒƒ"><a href="#SQLå‘½åè§„èŒƒ" class="headerlink" title="SQLå‘½åè§„èŒƒ"></a>SQLå‘½åè§„èŒƒ</h3><ol><li>åº“ï¼Œè¡¨ï¼Œåˆ—ååº”è¯¥ä½¿ç”¨å°å†™å­—æ¯ï¼Œå¹¶ä½¿ç”¨**ä¸‹åˆ’çº¿(_)**æˆ–è€…ä½¿ç”¨é©¼å³°å‘½åæ³•</li><li>åº“ååº”äºå¯¹åº”çš„ç¨‹åºåä¸€è‡´ã€‚ä¾‹å¦‚ï¼šç¨‹åºåä¸º EcommercePlatform æ•°æ®åº“åå‘½åä¸º ecommerce_platform</li><li>è¡¨å‘½åæœ€å¥½æ˜¯éµå¾ª **â€ä¸šåŠ¡åç§°_è¡¨çš„ä½œç”¨â€**çš„æ–¹å¼ ä¾‹å¦‚ï¼štrade_config</li><li>åˆ—ååº”è¯¥éµå¾ª **â€è¡¨å®ä½“_å±æ€§â€œ**çš„æ–¹å¼ ä¾‹å¦‚ï¼šproduct_name æˆ–è€… productName</li></ol><h2 id="æ•°æ®å®šä¹‰DDL"><a href="#æ•°æ®å®šä¹‰DDL" class="headerlink" title="æ•°æ®å®šä¹‰DDL"></a>æ•°æ®å®šä¹‰DDL</h2><blockquote><p>å®šä¹‰å’Œç®¡ç†æ•°æ®åº“çš„ç»“æ„ï¼Œå®Œæˆ<strong>åº“</strong> ï¼Œ<strong>è¡¨</strong>ï¼Œç´¢å¼•ï¼Œè§†å›¾ç­‰æ•°æ®åº“å¯¹è±¡çš„åˆ›å»ºï¼Œä¿®æ”¹å’Œåˆ é™¤ã€‚</p><p>DDLä¸æ¶‰åŠå¯¹æ•°æ®çš„æ“ä½œï¼Œè€Œæ˜¯å…³æ³¨æ•°æ®åº“çš„ç»“æ„å’Œå…ƒæ•°æ®ï¼ˆå®¹å™¨ï¼‰ã€‚</p></blockquote><h3 id="DDLå…³é”®å­—"><a href="#DDLå…³é”®å­—" class="headerlink" title="DDLå…³é”®å­—"></a>DDLå…³é”®å­—</h3><p><strong>CREATE</strong> :ç”¨äºåˆ›å»ºæ•°æ®åº“ï¼Œè¡¨ï¼Œç´¢å¼•ï¼Œè§†å›¾</p><p><strong>ALTER</strong>:ç”¨äºä¿®æ”¹æ•°æ®åº“å¯¹è±¡çš„ç»“æ„ï¼Œå¦‚ä¿®æ”¹è¡¨ç»“æ„ï¼Œæ·»åŠ åˆ—ï¼Œå’Œåˆ é™¤åˆ—ç­‰</p><p><strong>DROP</strong>:ç”¨äºåˆ é™¤æ•°æ®åº“å¯¹è±¡ï¼Œå¦‚åˆ é™¤è¡¨ï¼Œåˆ é™¤ç´¢å¼•ç­‰</p><h3 id="åº“ç®¡ç†"><a href="#åº“ç®¡ç†" class="headerlink" title="åº“ç®¡ç†"></a>åº“ç®¡ç†</h3><h4 id="åˆ›å»ºåº“"><a href="#åˆ›å»ºåº“" class="headerlink" title="åˆ›å»ºåº“"></a>åˆ›å»ºåº“</h4><p>åˆ›å»ºåº“ï¼Œå¿…é¡»æŒ‡å®š<strong>åº“å</strong>ï¼Œå¯èƒ½æŒ‡å®š<strong>å­—ç¬¦é›†</strong>æˆ–è€…<strong>æ’åºæ–¹å¼</strong></p><ul><li>æ–¹å¼1ï¼šåˆ›å»ºæ•°æ®åº“ï¼Œä½¿ç”¨é»˜è®¤çš„å­—ç¬¦é›†å’Œæ’åºæ–¹å¼</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE æ•°æ®åº“å;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœå­˜åœ¨è¯¥æ•°æ®åº“åˆ™ä¼šæŠ¥é”™</p><ul><li>æ–¹å¼2ï¼šåˆ¤æ–­å¹¶åˆ›å»ºé»˜è®¤å­—ç¬¦é›†æ•°æ®åº“ï¼ˆæ¨èï¼‰</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABAsE IF NOT EXISTS æ•°æ®åº“å;</span><br></pre></td></tr></table></figure><ul><li>æ–¹å¼3ï¼šåˆ›å»ºæŒ‡å®šå­—ç¬¦é›†å’Œæ’åºè§„åˆ™åº“</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE æ•°æ®åº“å CHARACTER SET å­—ç¬¦é›† COLLATE æ’åºè§„åˆ™;</span><br></pre></td></tr></table></figure><blockquote><p>å­—ç¬¦é›†ï¼šå³ç¼–ç æ ¼å¼ï¼Œå¦‚æœä¸é‡‡ç”¨æ­£ç¡®çš„å­—ç¬¦é›†åˆ™å¯èƒ½å‡ºç°ä¹±ç çš„æƒ…å†µ</p><p>(å­—ç¬¦é›†Character Setï¼šutf8<strong>utf8mb4</strong>)</p><p>æ’åºè§„åˆ™ï¼šå¦‚ä½•æ¯”è¾ƒå’Œæ’åºå­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æ–‡æœ¬æ•°æ®</p><p>(æ’åºè§„åˆ™Collateï¼šutf8mb4_0900_ai_ci:ä¸åŒºåˆ†å¤§å°å†™ï¼›utf8mb4_0900_as_cs:åŒºåˆ†å¤§å°å†™)</p></blockquote><h4 id="æŸ¥çœ‹å’Œä½¿ç”¨åº“"><a href="#æŸ¥çœ‹å’Œä½¿ç”¨åº“" class="headerlink" title="æŸ¥çœ‹å’Œä½¿ç”¨åº“"></a>æŸ¥çœ‹å’Œä½¿ç”¨åº“</h4><ul><li>æŸ¥çœ‹å½“å‰æ‰€æœ‰åº“</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES;</span><br><span class="line"># æ³¨æ„æœ‰S</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„åº“</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DATABASE();</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹åˆ›å»ºåº“çš„ä¿¡æ¯</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW CREATE DATABASE æ•°æ®åº“å;</span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹æŒ‡å®šåº“ä¸‹æ‰€æœ‰è¡¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SHOW TABLES FROM æ•°æ®åº“å;</span><br><span class="line"># æ³¨æ„tableæœ‰S</span><br></pre></td></tr></table></figure><ul><li>åˆ‡æ¢åº“å’Œé€‰ä¸­åº“</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE æ•°æ®åº“å;</span><br></pre></td></tr></table></figure><hr><p><strong>æ³¨æ„:</strong></p><ol><li>å½“æŸ¥çœ‹æ‰€æœ‰è¡¨ï¼Œæ‰€æœ‰åº“çš„æ—¶å€™ä¼šåŠ Sï¼Œå¦‚DATABASESï¼ŒTABLES</li><li>è¦æ“æ§è¡¨æ ¼å’Œæ•°æ®ä¹‹å‰å¿…é¡»å…ˆè¯´æ˜æ˜¯å¯¹å“ªä¸ªæ•°æ®åº“è¿›è¡Œæ“ä½œï¼Œå…ˆuseåº“</li></ol><hr><h4 id="ä¿®æ”¹åº“"><a href="#ä¿®æ”¹åº“" class="headerlink" title="ä¿®æ”¹åº“"></a>ä¿®æ”¹åº“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER DATABASE æ•°æ®åº“å CHARACTER SET å­—ç¬¦é›† COLLATE æ’åºæ–¹å¼</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šä¿®æ”¹åº“åªèƒ½ä¿®æ”¹åº“çš„å­—ç¬¦é›†å’Œæ’åºæ–¹å¼ï¼Œä¸èƒ½ä¿®æ”¹æ•°æ®åº“åå­—ã€‚</p><p><em>ä¸€äº›å¯è§†åŒ–å·¥å…·å¯ä»¥ç»™åº“æ”¹åï¼šå®ƒæ˜¯å»ºæ–°åº“ï¼ŒæŠŠæ‰€æœ‰è¡¨å¤åˆ¶åˆ°æ–°åº“ï¼Œå†æŠŠå°±åº“åˆ é™¤</em></p><h4 id="åˆ é™¤åº“"><a href="#åˆ é™¤åº“" class="headerlink" title="åˆ é™¤åº“"></a>åˆ é™¤åº“</h4><blockquote><p>åˆ é™¤æ•°æ®åº“å‰è¦ä¸‰æ€ï¼Œç¡®è®¤å¥½å†åˆ é™¤ï¼Œå¦åˆ™çœŸè¦ ææ¡¶è·‘è·¯.jpg</p></blockquote><ul><li>ç›´æ¥åˆ åº“</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE æ•°æ®åº“å;</span><br><span class="line"># å¦‚æœåº“åä¸å­˜åœ¨åˆ™æŠ¥é”™</span><br></pre></td></tr></table></figure><ul><li>åˆ¤è¯»å¹¶åˆ é™¤åº“</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE IF EXISTS æ•°æ®åº“å;</span><br></pre></td></tr></table></figure><h3 id="è¡¨ç®¡ç†"><a href="#è¡¨ç®¡ç†" class="headerlink" title="è¡¨ç®¡ç†"></a>è¡¨ç®¡ç†</h3><h4 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create table</span> [if <span class="keyword">not</span> <span class="keyword">exists</span>] è¡¨å(</span><br><span class="line">åˆ—å ç±»å‹ [åˆ—å¯é€‰çº¦æŸ][commnet <span class="string">&#x27;åˆ—æ³¨é‡Š&#x27;</span>],</span><br><span class="line">åˆ—å ç±»å‹ [åˆ—å¯é€‰çº¦æŸ][commnet <span class="string">&#x27;åˆ—æ³¨é‡Š&#x27;</span>],</span><br><span class="line"> åˆ—å ç±»å‹ [åˆ—å¯é€‰çº¦æŸ][commnet <span class="string">&#x27;åˆ—æ³¨é‡Š&#x27;</span>],</span><br><span class="line">    [åˆ—å¯é€‰çº¦æŸ]</span><br><span class="line">)[è¡¨å¯é€‰çº¦æŸ][commnet <span class="string">&#x27;è¡¨æ³¨é‡Š&#x27;</span>];</span><br></pre></td></tr></table></figure><p>æ ¸å¿ƒè¦ç´ ï¼šè¡¨åï¼Œåˆ—åï¼Œåˆ—ç±»å‹</p><p>å¯é€‰è¦ç´ ï¼šæŒ‡å®šåˆ—çº¦æŸï¼ŒæŒ‡å®šè¡¨é…ç½®ï¼ŒæŒ‡å®šè¡¨åˆ—æ³¨é‡Š</p><p>åˆ—ä¹‹é—´ç”¨ â€œ , â€œéš”å¼€</p><p><em>â€œ[]â€ è¡¨ç¤ºå¯é€‰</em></p>]]></content>
      
      
      
        <tags>
            
            <tag> MySQLå­¦ä¹  </tag>
            
            <tag> å¯’å‡è€ƒæ ¸ç³»åˆ— </tag>
            
            <tag> å®‰å“å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaåŸºç¡€ä¹‹é›†åˆ</title>
      <link href="/2025/01/08/java%E5%9F%BA%E7%A1%80%E4%B9%8B%E9%9B%86%E5%90%88/"/>
      <url>/2025/01/08/java%E5%9F%BA%E7%A1%80%E4%B9%8B%E9%9B%86%E5%90%88/</url>
      
        <content type="html"><![CDATA[<h1 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h1><h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨æ³›å‹"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨æ³›å‹" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨æ³›å‹"></a>ä¸ºä»€ä¹ˆä½¿ç”¨æ³›å‹</h2><blockquote><p>æ³›å‹æ˜¯ä¸€ç§æ¨å¹¿åŒ–å’Œé™åˆ¶åŒ–</p><p>æ³›å‹æ˜¯ä¸€ç§<strong>æ¨å¹¿åŒ–</strong>ã€‚å®ƒå…è®¸ä»£ç åœ¨æ›´å¹¿æ³›çš„ç±»å‹ä¸Šå·¥ä½œï¼Œè€Œä¸æ˜¯å±€é™äºç‰¹å®šçš„ç±»å‹</p><p>æ³›å‹æ˜¯ä¸€ç§<strong>é™åˆ¶åŒ–</strong>ã€‚é€šè¿‡æŒ‡å®šæ³›å‹ç±»å‹ï¼Œé™åˆ¶äº†åœ¨è¯¥ç±»å‹å‚æ•°ä½ç½®å¯ä»¥ä½¿ç”¨çš„ç±»å‹</p></blockquote><h2 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h2><h3 id="æ³›å‹ç±»çš„å®šä¹‰"><a href="#æ³›å‹ç±»çš„å®šä¹‰" class="headerlink" title="æ³›å‹ç±»çš„å®šä¹‰"></a>æ³›å‹ç±»çš„å®šä¹‰</h3><blockquote><p>ç±»å‹å‚æ•°ç”¨äºç±»çš„å®šä¹‰ä¸­ï¼Œåˆ™è¯¥ç±»è¢«ç§°ä¸ºæ³›å‹ç±»ã€‚</p><p>æœ€å…¸å‹çš„å°±æ˜¯å„ç§å®¹å™¨ç±»ï¼Œå¦‚ï¼šListã€Setã€Mapç­‰ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class ç±»å&lt;æ³›å‹æ ‡è¯†&gt;&#123;</span><br><span class="line"><span class="keyword">private</span> æ³›å‹æ ‡è¯† <span class="comment">/*ï¼ˆæˆå‘˜å˜é‡ç±»å‹ï¼‰*/</span> å˜é‡å; </span><br><span class="line">  .....</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¸¸è§çš„æ³›å‹æ ‡è¯†å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">T ï¼šä»£è¡¨ä¸€èˆ¬çš„ä»»ä½•ç±»ã€‚</span><br><span class="line">E ï¼šä»£è¡¨ Element å…ƒç´ çš„æ„æ€ï¼Œæˆ–è€… Exception å¼‚å¸¸çš„æ„æ€ã€‚</span><br><span class="line">K ï¼šä»£è¡¨ Key çš„æ„æ€ã€‚</span><br><span class="line">V ï¼šä»£è¡¨ Value çš„æ„æ€ï¼Œé€šå¸¸ä¸ K ä¸€èµ·é…åˆä½¿ç”¨ã€‚</span><br></pre></td></tr></table></figure></blockquote><p>**æ³¨æ„ï¼š**æ³›å‹æ˜¯æ²¡æœ‰å¤šæ€çš„</p><h1 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h1><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><h3 id="Javaé›†åˆåˆ†ä¸º2ç§ä½“ç³»"><a href="#Javaé›†åˆåˆ†ä¸º2ç§ä½“ç³»" class="headerlink" title="Javaé›†åˆåˆ†ä¸º2ç§ä½“ç³»"></a>Javaé›†åˆåˆ†ä¸º2ç§ä½“ç³»</h3><ol><li>å•ä¸€æ•°æ®ä½“ç³»: Collectionæ¥å£</li><li>æˆå¯¹å‡ºç°çš„æ•°æ®ä½“ç³»     é”®å€¼å¯¹æ•°æ®ï¼ˆkey , valueï¼‰ Mapæ¥å£</li></ol><h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h2><h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><p>â€‹æŒ‰ç…§æ’å…¥é¡ºåºä¿å­˜æ•°æ®ï¼Œæ•°æ®å¯ä»¥é‡å¤</p><p>â€‹å…·ä½“å®ç°ç±»ï¼šArrayListLinkedList</p><h4 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h4><h5 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br></pre></td></tr></table></figure><ol><li>å‚æ•°æ„é€ ï¼Œåº•å±‚æ•°ç»„ä¸ºç©ºæ•°ç»„</li><li>æ„é€ å‡½æ•°ä¼ é€’ä¸€ä¸ªintç±»å‹çš„æ•°æ®ï¼Œç”¨äºè®¾å®šåº•å±‚æ•°ç»„çš„é•¿åº¦</li><li>æ„é€ å‡½æ•°ä¼ é€’ä¸€ä¸ªCollectioné›†åˆç±»å‹çš„å€¼ï¼Œç”¨äºå°†å…¶ä»–é›†åˆä¸­çš„æ•°æ®æ”¾ç½®åœ¨å½“å‰é›†åˆä¸­</li></ol><h5 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">add</span><span class="params">(Object element)</span>;</span><br><span class="line"><span class="comment">//åœ¨é›†åˆæœ€åé¢åŠ å…¥å…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> index,Object element)</span></span><br><span class="line"><span class="comment">//åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ </span></span><br></pre></td></tr></table></figure><p>*æ³¨æ„æ‰©å®¹</p><h5 id="åˆ "><a href="#åˆ " class="headerlink" title="åˆ "></a>åˆ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">removeVal</span> <span class="operator">=</span> list.remove(<span class="type">int</span> index);</span><br><span class="line"><span class="comment">//è¯¥æ–¹æ³•è¿”å›ç»“æœï¼Œè¿™ä¸ªç»“æœæ˜¯åˆ é™¤çš„å€¼</span></span><br></pre></td></tr></table></figure><h5 id="æ”¹"><a href="#æ”¹" class="headerlink" title="æ”¹"></a>æ”¹</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">oldVal</span> <span class="operator">=</span>list.set(<span class="type">int</span> index,Object element);</span><br><span class="line"><span class="comment">//è¯¥æ–¹æ³•è¿”å›ç»“æœï¼Œè¿™ä¸ªç»“æœæ˜¯æ›´æ–°å‰çš„å€¼</span></span><br></pre></td></tr></table></figure><h5 id="æŸ¥"><a href="#æŸ¥" class="headerlink" title="æŸ¥"></a>æŸ¥</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¿é—®æ•°ç»„é•¿åº¦</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">size</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–æŒ‡å®šä½ç½®çš„æ•°æ®</span></span><br><span class="line">E <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span>;</span><br></pre></td></tr></table></figure><h5 id="å…¶ä»–å¸¸ç”¨æ–¹æ³•"><a href="#å…¶ä»–å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å…¶ä»–å¸¸ç”¨æ–¹æ³•"></a>å…¶ä»–å¸¸ç”¨æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//é›†åˆä¸­çš„æ•°æ®æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//æ¸…ç©ºé›†åˆä¸­çš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">removeAll</span><span class="params">(Collection&lt;?&gt;c)</span>;</span><br><span class="line"><span class="comment">//åˆ é™¤æŒ‡å®šé›†åˆçš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(Object element)</span>;</span><br><span class="line"><span class="comment">//é›†åˆä¸­æ˜¯å¦å­˜åœ¨å…ƒç´ element</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">indexof</span><span class="params">(Object element)</span>;</span><br><span class="line"><span class="comment">//ç”¨äºè·å–æ•°æ®åœ¨é›†åˆä¸­ç¬¬ä¸€ä¸ªç´¢å¼•ä½ç½®</span></span><br><span class="line"><span class="comment">//å¦‚æœæ•°æ®ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1</span></span><br><span class="line"><span class="comment">//å¦‚æœæœ‰2ä¸ªåŒæ ·çš„elementï¼Œåˆ™è¿”å›ç¬¬ä¸€ä¸ªç´¢å¼•</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Object[] toArray();</span><br><span class="line"><span class="comment">//æŠŠArrayListå˜æˆArrayæ•°ç»„</span></span><br><span class="line"></span><br><span class="line">Object <span class="title function_">clone</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//å…‹éš†ArrayList</span></span><br></pre></td></tr></table></figure><h4 id="LinkedList-åŒå‘é“¾è¡¨"><a href="#LinkedList-åŒå‘é“¾è¡¨" class="headerlink" title="LinkedList(åŒå‘é“¾è¡¨)"></a>LinkedList(åŒå‘é“¾è¡¨)</h4><h5 id="æ„é€ æ–¹æ³•-1"><a href="#æ„é€ æ–¹æ³•-1" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LinkedList&lt;E&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line"><span class="comment">//æ— å‚æ„é€ </span></span><br><span class="line"><span class="comment">//æœ‰å‚æ„é€  ä¼ å…¥ä¸€ä¸ªCollectionæ•°æ®</span></span><br></pre></td></tr></table></figure><h5 id="å¢-1"><a href="#å¢-1" class="headerlink" title="å¢"></a>å¢</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">add</span><span class="params">(Object element)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> index,Object element)</span>;</span><br><span class="line"><span class="comment">//æ’å…¥æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addFirst</span><span class="params">(Object element)</span>;</span><br></pre></td></tr></table></figure><h5 id="è·å–æ•°æ®"><a href="#è·å–æ•°æ®" class="headerlink" title="è·å–æ•°æ®"></a>è·å–æ•°æ®</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">E <span class="title function_">getFirst</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//è·å–å¤´æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">E <span class="title function_">getLast</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//è·å–å°¾æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ </span></span><br><span class="line"></span><br><span class="line">E <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span></span><br></pre></td></tr></table></figure><h5 id="æ”¹-1"><a href="#æ”¹-1" class="headerlink" title="æ”¹"></a>æ”¹</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E <span class="title function_">set</span><span class="params">(<span class="type">int</span> index,Object element)</span>;</span><br></pre></td></tr></table></figure><h5 id="åˆ -1"><a href="#åˆ -1" class="headerlink" title="åˆ "></a>åˆ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(<span class="type">int</span> index)</span>;</span><br><span class="line"></span><br><span class="line">E <span class="title function_">removeFirst</span><span class="params">()</span>;</span><br><span class="line">E <span class="title function_">remove</span><span class="params">()</span>;<span class="comment">//åˆ é™¤ç¬¬ä¸€ä¸ª</span></span><br><span class="line"></span><br><span class="line">E <span class="title function_">removeLast</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Object element)</span></span><br></pre></td></tr></table></figure><h5 id="å…¶ä»–å¸¸ç”¨æ–¹æ³•-1"><a href="#å…¶ä»–å¸¸ç”¨æ–¹æ³•-1" class="headerlink" title="å…¶ä»–å¸¸ç”¨æ–¹æ³•"></a>å…¶ä»–å¸¸ç”¨æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">push</span><span class="params">(Object element)</span>;</span><br><span class="line"><span class="comment">//ç­‰åŒäº list.addFirst()</span></span><br><span class="line"></span><br><span class="line">E <span class="title function_">pop</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//å¼¹å‡ºæ•°æ®</span></span><br></pre></td></tr></table></figure><h4 id="æ’åºï¼ˆsortï¼‰"><a href="#æ’åºï¼ˆsortï¼‰" class="headerlink" title="æ’åºï¼ˆsortï¼‰"></a>æ’åºï¼ˆsortï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NumberComparator</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Integer&gt; &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Integer o1,Integer o2)</span>&#123;</span><br><span class="line">        <span class="comment">//å¦‚æœç¬¬ä¸€ä¸ªæ•°æ¯”ç¬¬äºŒä¸ªæ•°å¤§ï¼Œåˆ™è¿”å›ç»“æœä¸ºæ­£æ•°ï¼Œæ ‡è¯†å‡åº</span></span><br><span class="line">        <span class="comment">//å¦‚æœç¬¬ä¸€ä¸ªæ•°æ¯”ç¬¬äºŒä¸ªæ•°å°ï¼Œåˆ™è¿”å›ç»“æœä¸ºè´Ÿæ•°ï¼Œæ ‡è¯†é™åº</span></span><br><span class="line">        <span class="comment">//å¦‚æœç¬¬ä¸€ä¸ªæ•°æ¯”ç¬¬äºŒä¸ªæ•°ç›¸ç­‰ï¼Œåˆ™è¿”å›ç»“æœ0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">list.sort();</span><br><span class="line"><span class="comment">//éœ€è¦ä¼ å…¥ä¸€ä¸ªå®ç°äº†æ¯”è¾ƒå™¨Comparatoræ¥å£çš„å¯¹è±¡</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="Comparatoræ¯”è¾ƒå™¨ä¸­compareçš„è§„åˆ™"><a href="#Comparatoræ¯”è¾ƒå™¨ä¸­compareçš„è§„åˆ™" class="headerlink" title="Comparatoræ¯”è¾ƒå™¨ä¸­compareçš„è§„åˆ™"></a>Comparatoræ¯”è¾ƒå™¨ä¸­compareçš„è§„åˆ™</h5><p>**è§„åˆ™:**è¿”å›ç»“æœä¸ºæ­£æ—¶ï¼Œäº¤æ¢é¡ºåºï¼Œè¿”å›å€¼ä¸ºè´Ÿæ—¶ä¸äº¤æ¢é¡ºåº</p><h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p>â€‹é›†ï¼Œæ— é¡ºä¿å­˜ï¼Œæ•°æ®ä¸èƒ½é‡å¤</p><p>â€‹å…·ä½“å®ç°ç±»ï¼šHashSet</p><h4 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h4><p>æ”¾å…¥çš„æ•°æ®ä¼šé€šè¿‡Hashç®—æ³•å¾—åˆ°ä¸åŒçš„indexï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½çŸ¥é“ä¸€ä¸ªelementå¯¹åº”çš„ç»è¿‡Hashç®—æ³•åçš„indexï¼Œæ‰€ä»¥å¯¹äºæˆ‘ä»¬è€Œè¨€æ˜¯æ— åºçš„ï¼Œç›¸åŒçš„elementç»è¿‡Hashå¾—åˆ°çš„indexæ˜¯ä¸€æ ·çš„ï¼ŒHashSetæ‰€ä»¥æ•°æ®æ˜¯ä¸èƒ½é‡å¤çš„</p><p>æ·»åŠ ä¸€ä¸ªæ•°æ®æ—¶ï¼Œå…ˆç»è¿‡Hashç®—æ³•è·å¾—index,æŒ‰ç…§indexæ”¾å…¥ç›¸å¯¹åº”çš„æ•°ç»„ä½ç½®ä¸­ï¼Œå¦‚æœ2ä¸ªä¸ç›¸åŒçš„å…ƒç´ ï¼Œç»è¿‡è¯¥ç®—æ³•è·å¾—äº†ç›¸åŒçš„indexé‚£ä¹ˆHashSetå°†ä¼šè¿è¡Œequalæ¥åˆ¤æ–­2ä¸ªå…ƒç´ æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰åˆ™ä¸æ”¹å˜setï¼Œä¸ç›¸ç­‰æ—¶ä¼šé‡‡ç”¨é“¾è¡¨çš„æ–¹æ³•å°†2å€¼è¿åœ¨ä¸€èµ·</p><p><strong>HashSetçš„åº•å±‚ä¸º æ•°ç»„+é“¾è¡¨çš„å½¢å¼</strong></p><blockquote><p><strong>å¯¹è±¡é‡å¤çš„åˆ¤æ–­æ ‡å‡†ï¼š</strong></p><p>å¯¹è±¡HashCodeç›¸ä¸ç›¸åŒï¼ˆå†…å­˜åœ°å€ï¼‰</p><p>HashCodeä¸ç›¸åŒï¼Œåˆ™ä¸é‡å¤</p><p>HashCodeç›¸åŒï¼Œåˆ™é‡å¤</p></blockquote><blockquote><p><strong>æ³¨:</strong></p><p>HashCodeçš„ç®—æ³•å¯ä»¥è‡ªå·±ä¿®æ”¹ï¼Œä»¥è¾¾åˆ°åˆ¤æ–­æ˜¯å¦ç›¸åŒçš„ç›®çš„</p></blockquote><h5 id="æ›´æ”¹åˆ¤æ–­æ ‡å‡†"><a href="#æ›´æ”¹åˆ¤æ–­æ ‡å‡†" class="headerlink" title="æ›´æ”¹åˆ¤æ–­æ ‡å‡†"></a>æ›´æ”¹åˆ¤æ–­æ ‡å‡†</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(<span class="type">int</span> id, String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> User user)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> id == user.id &amp;&amp; name.equals(user.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ„é€ æ–¹æ³•-2"><a href="#æ„é€ æ–¹æ³•-2" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HashSet&lt;E&gt; set =<span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br></pre></td></tr></table></figure><h5 id="å¢-2"><a href="#å¢-2" class="headerlink" title="å¢"></a>å¢</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set.add(Object element);</span><br><span class="line"><span class="comment">//æ·»åŠ å•ä¸ªå…ƒç´ </span></span><br><span class="line"></span><br><span class="line">set.addAll(Collection c);</span><br><span class="line"><span class="comment">//æ·»åŠ ä¸€ä¸ªé›†åˆçš„å…ƒç´ </span></span><br></pre></td></tr></table></figure><h5 id="åˆ -2"><a href="#åˆ -2" class="headerlink" title="åˆ "></a>åˆ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set.remove(E element);</span><br></pre></td></tr></table></figure><h5 id="æ”¹-2"><a href="#æ”¹-2" class="headerlink" title="æ”¹"></a>æ”¹</h5><p>**æ³¨:**HashSetä¸­æ²¡æœ‰æ”¹çš„æ“ä½œ</p><h5 id="æŸ¥-1"><a href="#æŸ¥-1" class="headerlink" title="æŸ¥"></a>æŸ¥</h5><p>**æ³¨:**HashSetä¸­æ²¡æœ‰æŸ¥çš„æ“ä½œ</p><h5 id="å…¶ä»–å¸¸ç”¨æ–¹æ³•-2"><a href="#å…¶ä»–å¸¸ç”¨æ–¹æ³•-2" class="headerlink" title="å…¶ä»–å¸¸ç”¨æ–¹æ³•"></a>å…¶ä»–å¸¸ç”¨æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Object[] set.toArray();</span><br><span class="line"><span class="comment">//å°†setè½¬åŒ–ä¸ºæ•°ç»„</span></span><br><span class="line"></span><br><span class="line">set.clear();</span><br><span class="line">set.isEmpty();</span><br><span class="line"> </span><br><span class="line"><span class="type">boolean</span> set.contains(Object element);</span><br><span class="line"><span class="type">boolean</span> set.containsAll(Collection c);</span><br></pre></td></tr></table></figure><h3 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h3><p>â€‹é˜Ÿåˆ—</p><p>â€‹å…·ä½“å®ç°ç±»ï¼šArrayBlockingQueue</p><h4 id="ArrayBlockingQueue"><a href="#ArrayBlockingQueue" class="headerlink" title="ArrayBlockingQueue"></a>ArrayBlockingQueue</h4><p>ArrayBlockingQueue&#x3D;Array(æ•°ç»„)+Blocking(é˜»å¡,é˜Ÿåˆ—æœ‰é™)+Queueï¼ˆé˜Ÿåˆ—ï¼‰</p><h5 id="æ„é€ æ–¹æ³•-3"><a href="#æ„é€ æ–¹æ³•-3" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ArrayBlockingQueue</span> <span class="variable">queue</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>(<span class="type">int</span> size);<span class="comment">//è¾“å…¥å®¹é‡</span></span><br></pre></td></tr></table></figure><h5 id="å¢-3"><a href="#å¢-3" class="headerlink" title="å¢"></a>å¢</h5><h6 id="addæ–¹æ³•"><a href="#addæ–¹æ³•" class="headerlink" title="addæ–¹æ³•"></a>addæ–¹æ³•</h6><blockquote><p>åœ¨é˜Ÿåˆ—çš„å°¾éƒ¨æ·»åŠ å…ƒç´ ï¼Œè¿”å›trueã€‚å½“é˜Ÿåˆ—æ»¡çš„æ—¶å€™ä¼šæŠ›å‡ºIllegalStateExceptionå¼‚å¸¸ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span></span><br></pre></td></tr></table></figure><h6 id="putæ–¹æ³•"><a href="#putæ–¹æ³•" class="headerlink" title="putæ–¹æ³•"></a>putæ–¹æ³•</h6><blockquote><p>åœ¨é˜Ÿåˆ—çš„å°¾éƒ¨æ·»åŠ å…ƒç´ ï¼Œå¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™ä¼šé˜»å¡ä½ï¼Œç­‰å¾…é˜Ÿåˆ—æœ‰ç©ºé—²ä½ç½®ï¼Œè¯¥æ–¹æ³•å¯è¢«æ‰“æ–­ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">put</span><span class="params">(E e)</span> <span class="keyword">throws</span> InterruptedException</span><br></pre></td></tr></table></figure><h6 id="offeræ–¹æ³•"><a href="#offeræ–¹æ³•" class="headerlink" title="offeræ–¹æ³•"></a>offeræ–¹æ³•</h6><blockquote><p>è¶…å‡ºé˜Ÿåˆ—æœ€å¤§å€¼ï¼Œä¸ä¼šæŠ¥é”™ï¼Œè¿”å›false</p><ul><li>eï¼šæ·»åŠ çš„å…ƒç´ </li><li>timeoutï¼šæœ€å¤šç­‰å¾…çš„æ—¶é•¿</li><li>unitï¼šæ—¶é—´å•ä½</li></ul></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">offer</span><span class="params">(E e)</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">offer</span><span class="params">(E e, <span class="type">long</span> timeout, TimeUnit unit)</span> <span class="keyword">throws</span> InterruptedException</span><br><span class="line"><span class="comment">//æ·»åŠ æ•°æ®æˆåŠŸï¼Œåˆ™è¿”å›true</span></span><br><span class="line"><span class="comment">//æ·»åŠ æ•°æ®å¤±è´¥ï¼Œåˆ™è¿”å›false</span></span><br></pre></td></tr></table></figure><h5 id="å–"><a href="#å–" class="headerlink" title="å–"></a>å–</h5><h6 id="pollæ–¹æ³•"><a href="#pollæ–¹æ³•" class="headerlink" title="pollæ–¹æ³•"></a>pollæ–¹æ³•</h6><blockquote><p>å…ˆè¿›å…ˆå‡º</p><p>è·å–é˜Ÿåˆ—ä¸­é˜Ÿé¦–çš„å…ƒç´ ï¼Œè·å–åè¯¥å…ƒç´ å°±ä¼šç§»é™¤è¯¥é˜Ÿåˆ—</p></blockquote><ul><li>timeoutï¼šç­‰å¾…æ—¶é•¿</li><li>unitï¼šæ—¶é—´å•ä½</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç«‹å³è¿”å›</span></span><br><span class="line">E <span class="title function_">poll</span><span class="params">()</span></span><br><span class="line"><span class="comment">//å¦‚æœä¸èƒ½ç«‹å³å–å‡ºï¼Œåˆ™ç­‰å¾…ä¸€å®šæ—¶é—´</span></span><br><span class="line">E <span class="title function_">poll</span><span class="params">(<span class="type">long</span> timeout, TimeUnit unit)</span> <span class="keyword">throws</span> InterruptedException</span><br></pre></td></tr></table></figure><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">queue.offer(<span class="string">&quot;å¼ ä¸‰&quot;</span>);</span><br><span class="line">queue.offer(<span class="string">&quot;æå››&quot;</span>);</span><br><span class="line">queue.offer(<span class="string">&quot;ç‹äº”&quot;</span>);</span><br><span class="line">System.out.println(queue.poll());</span><br><span class="line">System.out.println(queue);</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¸º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¼ ä¸‰</span><br><span class="line">[æå››, ç‹äº”]</span><br></pre></td></tr></table></figure></blockquote><p>**æ³¨ï¼š**å½“é˜Ÿåˆ—é‡Œé¢æ‰€æœ‰æ•°æ®å…¨éƒ¨å–å‡ºåï¼Œç»§ç»­å–å‡ºqueue.poll(),åˆ™è¿”å›null</p><h6 id="takeæ–¹æ³•"><a href="#takeæ–¹æ³•" class="headerlink" title="takeæ–¹æ³•"></a>takeæ–¹æ³•</h6><blockquote><p>è·å–é˜Ÿåˆ—ä¸­çš„å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šè¢«é˜»å¡ä½ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E <span class="title function_">take</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException</span><br></pre></td></tr></table></figure><h6 id="peekæ–¹æ³•"><a href="#peekæ–¹æ³•" class="headerlink" title="peekæ–¹æ³•"></a>peekæ–¹æ³•</h6><blockquote><p>è¯»å–é˜Ÿåˆ—ä¸­é˜Ÿé¦–çš„å…ƒç´ ï¼Œä¸ä¼šåˆ é™¤è¯¥å…ƒç´ ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E <span class="title function_">peek</span><span class="params">()</span></span><br></pre></td></tr></table></figure><h5 id="åˆ -3"><a href="#åˆ -3" class="headerlink" title="åˆ "></a>åˆ </h5><h6 id="removeæ–¹æ³•"><a href="#removeæ–¹æ³•" class="headerlink" title="removeæ–¹æ³•"></a>removeæ–¹æ³•</h6><blockquote><p>åˆ é™¤é˜Ÿåˆ—ä¸­æŒ‡å®šå…ƒç´ </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Object o)</span></span><br></pre></td></tr></table></figure><h5 id="å…¶ä»–æ–¹æ³•"><a href="#å…¶ä»–æ–¹æ³•" class="headerlink" title="å…¶ä»–æ–¹æ³•"></a>å…¶ä»–æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(Object o)</span>;<span class="comment">//æŸ¥è¯¢é˜Ÿåˆ—ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">remainingCapacity</span><span class="params">()</span>;<span class="comment">//è¿”å›é˜Ÿåˆ—ä¸­å‰©ä½™ç©ºé—²ä½ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">drainTo</span><span class="params">(Collection&lt;? <span class="built_in">super</span> E&gt; c)</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">drainTo</span><span class="params">(Collection&lt;? <span class="built_in">super</span> E&gt; c, <span class="type">int</span> maxElements)</span>;</span><br><span class="line"><span class="comment">//å°†é˜Ÿåˆ—ä¸­çš„å…ƒç´ æ’åˆ°æŒ‡å®šé›†åˆä¸­</span></span><br><span class="line"><span class="comment">//cï¼šç›®æ ‡é›†åˆ</span></span><br><span class="line"><span class="comment">//maxElementsï¼šæœ€å¤šæ’å‡ ä¸ªå…ƒç´ </span></span><br></pre></td></tr></table></figure><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>å…·ä½“å®ç°ï¼šHashMapï¼ŒHastable</p><h3 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h3><blockquote><p><code>HashMap</code>æ˜¯ä¸€ä¸ªæ•£åˆ—è¡¨ï¼Œå®ƒå­˜å‚¨é”®å€¼å¯¹ï¼ˆkey-value pairsï¼‰ï¼Œæ¯ä¸ªé”®å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„å€¼ã€‚<code>HashMap</code>ä¸ä¿è¯é¡ºåºï¼Œå¹¶ä¸”å…è®¸<code>null</code>å€¼ä½œä¸ºé”®æˆ–å€¼ã€‚</p></blockquote><h4 id="æ„é€ æ–¹æ³•-4"><a href="#æ„é€ æ–¹æ³•-4" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HashMap&lt;Integer, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br></pre></td></tr></table></figure><h4 id="å¢-æ”¹"><a href="#å¢-æ”¹" class="headerlink" title="å¢ æ”¹"></a>å¢ æ”¹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E <span class="title function_">put</span><span class="params">(K key, V value)</span>;</span><br><span class="line"><span class="comment">//è·å–ä¸æŒ‡å®šé”® key ç›¸å…³è”çš„å‰ä¸€ä¸ªå€¼ã€‚å¦‚æœä¸å­˜åœ¨é’ˆå¯¹è¯¥é”® key çš„æ˜ å°„å…³ç³»ï¼Œé‚£ä¹ˆå°±è¿”å› null</span></span><br></pre></td></tr></table></figure><blockquote><p>æ”¹åŠ¨valueæ—¶</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¢è®¨Keyçš„å€¼ä¸å¯é‡å¤ï¼ˆå½“Keyçš„å€¼é‡å¤çš„æ—¶å€™ï¼Œåé¢æ’å…¥çš„å¯¹è±¡ä¼šå°†ä¹‹å‰æ’å…¥çš„å…·æœ‰ç›¸åŒçš„Keyå€¼çš„å¯¹è±¡è¦†ç›–æ‰ï¼‰ï¼ŒValueçš„å€¼å¯é‡å¤</p></blockquote><h4 id="æŸ¥-2"><a href="#æŸ¥-2" class="headerlink" title="æŸ¥"></a>æŸ¥</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">V <span class="title function_">get</span><span class="params">(K key)</span>;</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><blockquote><p>è¿”å›è¢«åˆ é™¤çš„é”®å€¼å¯¹çš„å€¼</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">K <span class="title function_">remove</span><span class="params">(K key)</span>;</span><br></pre></td></tr></table></figure><h4 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(String key : map.keySet())&#123;</span><br><span class="line">    System.out.println(key + <span class="string">&quot;=&quot;</span> + map.get(key));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h4><p><code>containsValue</code>:åˆ¤æ–­<code>HashMap</code>æ˜¯å¦åŒ…å«æŒ‡å®šçš„å€¼ï¼Œè¿”å›<code>true</code>æˆ–è€…<code>false</code>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">containsValue</span><span class="params">(V value)</span></span><br></pre></td></tr></table></figure><p><code>keySet()</code>:è¿”å›<code>HashMap</code>ä¸­æ‰€æœ‰é”®çš„<code>Set</code>è§†å›¾ã€‚é€šè¿‡è¿™ä¸ª<code>Set</code>å¯ä»¥éå†<code>HashMap</code>ä¸­çš„æ‰€æœ‰é”®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;K&gt; <span class="title function_">keySet</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><p><code>values()</code>:è¿”å›<code>HashMap</code>ä¸­æ‰€æœ‰å€¼çš„<code>Collection</code>è§†å›¾ã€‚å¯ä»¥ç”¨äºéå†<code>HashMap</code>ä¸­çš„æ‰€æœ‰å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;V&gt; <span class="title function_">values</span><span class="params">()</span>ï¼›</span><br></pre></td></tr></table></figure><p><code>entrySet()</code>:è¿”å›<code>HashMap</code>ä¸­æ‰€æœ‰é”®å€¼å¯¹çš„<code>Set</code>è§†å›¾ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯<code>Map.Entry</code>ç±»å‹ã€‚å¯ä»¥ç”¨äºåŒæ—¶éå†é”®å’Œå€¼</p><blockquote><p>é€šè¿‡éå†è¿™ä¸ª<code>Set</code>ï¼Œå¯ä»¥åŒæ—¶è®¿é—®<code>HashMap</code>ä¸­çš„é”®å’Œå€¼ï¼Œè¿™åœ¨éœ€è¦å¯¹é”®å€¼å¯¹è¿›è¡Œæ“ä½œï¼ˆå¦‚æ‰“å°ã€ä¿®æ”¹æˆ–åˆ é™¤ï¼‰æ—¶éå¸¸æœ‰ç”¨</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(Map.Entry&lt;String, String&gt; entry : map.entrySet())&#123;</span><br><span class="line">            <span class="keyword">if</span> (entry.getKey().equals(<span class="string">&quot;key1&quot;</span>))&#123;</span><br><span class="line">                entry.setValue(<span class="string">&quot;ddd&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> javaåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
